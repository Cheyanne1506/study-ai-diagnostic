var p_=n=>{throw TypeError(n)};var vm=(n,t,e)=>t.has(n)||p_("Cannot "+e);var ce=(n,t,e)=>(vm(n,t,"read from private field"),e?e.call(n):t.get(n)),Fi=(n,t,e)=>t.has(n)?p_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Rn=(n,t,e,i)=>(vm(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),Ui=(n,t,e)=>(vm(n,t,"access private method"),e);var g_=(n,t,e,i)=>({set _(r){Rn(n,t,r,e)},get _(){return ce(n,t,i)}});function eI(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function zr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ym={exports:{}},Yl={};var m_;function nI(){if(m_)return Yl;m_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:s}}return Yl.Fragment=t,Yl.jsx=e,Yl.jsxs=e,Yl}var v_;function iI(){return v_||(v_=1,ym.exports=nI()),ym.exports}var gt=iI(),bm={exports:{}},Et={};var y_;function rI(){if(y_)return Et;y_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=m&&k[m]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function _(k,$,tt){this.props=k,this.context=$,this.refs=S,this.updater=tt||A}_.prototype.isReactComponent={},_.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},_.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=_.prototype;function x(k,$,tt){this.props=k,this.context=$,this.refs=S,this.updater=tt||A}var O=x.prototype=new C;O.constructor=x,w(O,_.prototype),O.isPureReactComponent=!0;var M=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function z(k,$,tt){var rt=tt.ref;return{$$typeof:n,type:k,key:$,ref:rt!==void 0?rt:null,props:tt}}function K(k,$){return z(k.type,$,k.props)}function G(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function U(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(tt){return $[tt]})}var st=/\/+/g;function it(k,$){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):$.toString(36)}function lt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(D,D):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function I(k,$,tt,rt,mt){var At=typeof k;(At==="undefined"||At==="boolean")&&(k=null);var ut=!1;if(k===null)ut=!0;else switch(At){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(k.$$typeof){case n:case t:ut=!0;break;case d:return ut=k._init,I(ut(k._payload),$,tt,rt,mt)}}if(ut)return mt=mt(k),ut=rt===""?"."+it(k,0):rt,M(mt)?(tt="",ut!=null&&(tt=ut.replace(st,"$&/")+"/"),I(mt,$,tt,"",function(_t){return _t})):mt!=null&&(G(mt)&&(mt=K(mt,tt+(mt.key==null||k&&k.key===mt.key?"":(""+mt.key).replace(st,"$&/")+"/")+ut)),$.push(mt)),1;ut=0;var ae=rt===""?".":rt+":";if(M(k))for(var Z=0;Z<k.length;Z++)rt=k[Z],At=ae+it(rt,Z),ut+=I(rt,$,tt,At,mt);else if(Z=y(k),typeof Z=="function")for(k=Z.call(k),Z=0;!(rt=k.next()).done;)rt=rt.value,At=ae+it(rt,Z++),ut+=I(rt,$,tt,At,mt);else if(At==="object"){if(typeof k.then=="function")return I(lt(k),$,tt,rt,mt);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ut}function F(k,$,tt){if(k==null)return k;var rt=[],mt=0;return I(k,rt,"","",function(At){return $.call(tt,At,mt++)}),rt}function et(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(tt){(k._status===0||k._status===-1)&&(k._status=1,k._result=tt)},function(tt){(k._status===0||k._status===-1)&&(k._status=2,k._result=tt)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var at=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},dt={map:F,forEach:function(k,$,tt){F(k,function(){$.apply(this,arguments)},tt)},count:function(k){var $=0;return F(k,function(){$++}),$},toArray:function(k){return F(k,function($){return $})||[]},only:function(k){if(!G(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Et.Activity=g,Et.Children=dt,Et.Component=_,Et.Fragment=e,Et.Profiler=r,Et.PureComponent=x,Et.StrictMode=i,Et.Suspense=h,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Et.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Et.cache=function(k){return function(){return k.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(k,$,tt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var rt=w({},k.props),mt=k.key;if($!=null)for(At in $.key!==void 0&&(mt=""+$.key),$)!L.call($,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&$.ref===void 0||(rt[At]=$[At]);var At=arguments.length-2;if(At===1)rt.children=tt;else if(1<At){for(var ut=Array(At),ae=0;ae<At;ae++)ut[ae]=arguments[ae+2];rt.children=ut}return z(k.type,mt,rt)},Et.createContext=function(k){return k={$$typeof:l,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:s,_context:k},k},Et.createElement=function(k,$,tt){var rt,mt={},At=null;if($!=null)for(rt in $.key!==void 0&&(At=""+$.key),$)L.call($,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(mt[rt]=$[rt]);var ut=arguments.length-2;if(ut===1)mt.children=tt;else if(1<ut){for(var ae=Array(ut),Z=0;Z<ut;Z++)ae[Z]=arguments[Z+2];mt.children=ae}if(k&&k.defaultProps)for(rt in ut=k.defaultProps,ut)mt[rt]===void 0&&(mt[rt]=ut[rt]);return z(k,At,mt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(k){return{$$typeof:u,render:k}},Et.isValidElement=G,Et.lazy=function(k){return{$$typeof:d,_payload:{_status:-1,_result:k},_init:et}},Et.memo=function(k,$){return{$$typeof:f,type:k,compare:$===void 0?null:$}},Et.startTransition=function(k){var $=R.T,tt={};R.T=tt;try{var rt=k(),mt=R.S;mt!==null&&mt(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(D,at)}catch(At){at(At)}finally{$!==null&&tt.types!==null&&($.types=tt.types),R.T=$}},Et.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Et.use=function(k){return R.H.use(k)},Et.useActionState=function(k,$,tt){return R.H.useActionState(k,$,tt)},Et.useCallback=function(k,$){return R.H.useCallback(k,$)},Et.useContext=function(k){return R.H.useContext(k)},Et.useDebugValue=function(){},Et.useDeferredValue=function(k,$){return R.H.useDeferredValue(k,$)},Et.useEffect=function(k,$){return R.H.useEffect(k,$)},Et.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Et.useId=function(){return R.H.useId()},Et.useImperativeHandle=function(k,$,tt){return R.H.useImperativeHandle(k,$,tt)},Et.useInsertionEffect=function(k,$){return R.H.useInsertionEffect(k,$)},Et.useLayoutEffect=function(k,$){return R.H.useLayoutEffect(k,$)},Et.useMemo=function(k,$){return R.H.useMemo(k,$)},Et.useOptimistic=function(k,$){return R.H.useOptimistic(k,$)},Et.useReducer=function(k,$,tt){return R.H.useReducer(k,$,tt)},Et.useRef=function(k){return R.H.useRef(k)},Et.useState=function(k){return R.H.useState(k)},Et.useSyncExternalStore=function(k,$,tt){return R.H.useSyncExternalStore(k,$,tt)},Et.useTransition=function(){return R.H.useTransition()},Et.version="19.2.4",Et}var b_;function Ho(){return b_||(b_=1,bm.exports=rI()),bm.exports}var T=Ho();const aI=zr(T),sI=eI({__proto__:null,default:aI},[T]);var Am={exports:{}},Xl={},wm={exports:{}},Sm={};var A_;function oI(){return A_||(A_=1,(function(n){function t(I,F){var et=I.length;I.push(F);t:for(;0<et;){var at=et-1>>>1,dt=I[at];if(0<r(dt,F))I[at]=F,I[et]=dt,et=at;else break t}}function e(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var F=I[0],et=I.pop();if(et!==F){I[0]=et;t:for(var at=0,dt=I.length,k=dt>>>1;at<k;){var $=2*(at+1)-1,tt=I[$],rt=$+1,mt=I[rt];if(0>r(tt,et))rt<dt&&0>r(mt,tt)?(I[at]=mt,I[rt]=et,at=rt):(I[at]=tt,I[$]=et,at=$);else if(rt<dt&&0>r(mt,et))I[at]=mt,I[rt]=et,at=rt;else break t}}return F}function r(I,F){var et=I.sortIndex-F.sortIndex;return et!==0?et:I.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],d=1,g=null,m=3,y=!1,A=!1,w=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function O(I){for(var F=e(f);F!==null;){if(F.callback===null)i(f);else if(F.startTime<=I)i(f),F.sortIndex=F.expirationTime,t(h,F);else break;F=e(f)}}function M(I){if(w=!1,O(I),!A)if(e(h)!==null)A=!0,D||(D=!0,U());else{var F=e(f);F!==null&&lt(M,F.startTime-I)}}var D=!1,R=-1,L=5,z=-1;function K(){return S?!0:!(n.unstable_now()-z<L)}function G(){if(S=!1,D){var I=n.unstable_now();z=I;var F=!0;try{t:{A=!1,w&&(w=!1,C(R),R=-1),y=!0;var et=m;try{e:{for(O(I),g=e(h);g!==null&&!(g.expirationTime>I&&K());){var at=g.callback;if(typeof at=="function"){g.callback=null,m=g.priorityLevel;var dt=at(g.expirationTime<=I);if(I=n.unstable_now(),typeof dt=="function"){g.callback=dt,O(I),F=!0;break e}g===e(h)&&i(h),O(I)}else i(h);g=e(h)}if(g!==null)F=!0;else{var k=e(f);k!==null&&lt(M,k.startTime-I),F=!1}}break t}finally{g=null,m=et,y=!1}F=void 0}}finally{F?U():D=!1}}}var U;if(typeof x=="function")U=function(){x(G)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,it=st.port2;st.port1.onmessage=G,U=function(){it.postMessage(null)}}else U=function(){_(G,0)};function lt(I,F){R=_(function(){I(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(I){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var et=m;m=F;try{return I()}finally{m=et}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var et=m;m=I;try{return F()}finally{m=et}},n.unstable_scheduleCallback=function(I,F,et){var at=n.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?at+et:at):et=at,I){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=et+dt,I={id:d++,callback:F,priorityLevel:I,startTime:et,expirationTime:dt,sortIndex:-1},et>at?(I.sortIndex=et,t(f,I),e(h)===null&&I===e(f)&&(w?(C(R),R=-1):w=!0,lt(M,et-at))):(I.sortIndex=dt,t(h,I),A||y||(A=!0,D||(D=!0,U()))),I},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(I){var F=m;return function(){var et=m;m=F;try{return I.apply(this,arguments)}finally{m=et}}}})(Sm)),Sm}var w_;function lI(){return w_||(w_=1,wm.exports=oI()),wm.exports}var _m={exports:{}},fn={};var S_;function uI(){if(S_)return fn;S_=1;var n=Ho();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(h,f,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:h,containerInfo:f,implementation:d}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(h,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(h,f,null,d)},fn.flushSync=function(h){var f=l.T,d=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=d,i.d.f()}},fn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},fn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},fn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var d=f.as,g=u(d,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:y}):d==="script"&&i.d.X(h,{crossOrigin:g,integrity:m,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},fn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,g=u(d,f.crossOrigin);i.d.L(h,d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fn.preloadModule=function(h,f){if(typeof h=="string")if(f){var d=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},fn.requestFormReset=function(h){i.d.r(h)},fn.unstable_batchedUpdates=function(h,f){return h(f)},fn.useFormState=function(h,f,d){return l.H.useFormState(h,f,d)},fn.useFormStatus=function(){return l.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var __;function eM(){if(__)return _m.exports;__=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),_m.exports=uI(),_m.exports}var E_;function cI(){if(E_)return Xl;E_=1;var n=lI(),t=Ho(),e=eM();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(i(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(i(188));return o!==a?null:a}for(var c=a,p=o;;){var v=c.return;if(v===null)break;var b=v.alternate;if(b===null){if(p=v.return,p!==null){c=p;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===c)return h(v),a;if(b===p)return h(v),o;b=b.sibling}throw Error(i(188))}if(c.return!==p.return)c=v,p=b;else{for(var E=!1,P=v.child;P;){if(P===c){E=!0,c=v,p=b;break}if(P===p){E=!0,p=v,c=b;break}P=P.sibling}if(!E){for(P=b.child;P;){if(P===c){E=!0,c=b,p=v;break}if(P===p){E=!0,p=b,c=v;break}P=P.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==p)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),x=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var st=Symbol.for("react.client.reference");function it(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===st?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case x:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case O:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:it(a.type)||"Memo";case L:o=a._payload,a=a._init;try{return it(a(o))}catch{}}return null}var lt=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},at=[],dt=-1;function k(a){return{current:a}}function $(a){0>dt||(a.current=at[dt],at[dt]=null,dt--)}function tt(a,o){dt++,at[dt]=a.current,a.current=o}var rt=k(null),mt=k(null),At=k(null),ut=k(null);function ae(a,o){switch(tt(At,o),tt(mt,a),tt(rt,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?j1(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=j1(o),a=B1(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}$(rt),tt(rt,a)}function Z(){$(rt),$(mt),$(At)}function _t(a){a.memoizedState!==null&&tt(ut,a);var o=rt.current,c=B1(o,a.type);o!==c&&(tt(mt,a),tt(rt,c))}function Mt(a){mt.current===a&&($(rt),$(mt)),ut.current===a&&($(ut),ql._currentValue=et)}var nt,xe;function kt(a){if(nt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);nt=o&&o[1]||"",xe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+a+xe}var We=!1;function Ze(a,o){if(!a||We)return"";We=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var V=Y}Reflect.construct(a,[],J)}else{try{J.call()}catch(Y){V=Y}a.call(J.prototype)}}else{try{throw Error()}catch(Y){V=Y}(J=a())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&V&&typeof Y.stack=="string")return[Y.stack,V.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),E=b[0],P=b[1];if(E&&P){var N=E.split(`
`),q=P.split(`
`);for(v=p=0;p<N.length&&!N[p].includes("DetermineComponentFrameRoot");)p++;for(;v<q.length&&!q[v].includes("DetermineComponentFrameRoot");)v++;if(p===N.length||v===q.length)for(p=N.length-1,v=q.length-1;1<=p&&0<=v&&N[p]!==q[v];)v--;for(;1<=p&&0<=v;p--,v--)if(N[p]!==q[v]){if(p!==1||v!==1)do if(p--,v--,0>v||N[p]!==q[v]){var W=`
`+N[p].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=p&&0<=v);break}}}finally{We=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?kt(c):""}function rr(a,o){switch(a.tag){case 26:case 27:case 5:return kt(a.type);case 16:return kt("Lazy");case 13:return a.child!==o&&o!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Ze(a.type,!1);case 11:return Ze(a.type.render,!1);case 1:return Ze(a.type,!0);case 31:return kt("Activity");default:return""}}function tl(a){try{var o="",c=null;do o+=rr(a,c),c=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var np=Object.prototype.hasOwnProperty,ip=n.unstable_scheduleCallback,rp=n.unstable_cancelCallback,kk=n.unstable_shouldYield,Nk=n.unstable_requestPaint,Un=n.unstable_now,Lk=n.unstable_getCurrentPriorityLevel,gA=n.unstable_ImmediatePriority,mA=n.unstable_UserBlockingPriority,fc=n.unstable_NormalPriority,Ik=n.unstable_LowPriority,vA=n.unstable_IdlePriority,jk=n.log,Bk=n.unstable_setDisableYieldValue,el=null,Hn=null;function Xr(a){if(typeof jk=="function"&&Bk(a),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(el,a)}catch{}}var qn=Math.clz32?Math.clz32:Uk,zk=Math.log,Fk=Math.LN2;function Uk(a){return a>>>=0,a===0?32:31-(zk(a)/Fk|0)|0}var dc=256,pc=262144,gc=4194304;function Ia(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mc(a,o,c){var p=a.pendingLanes;if(p===0)return 0;var v=0,b=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var P=p&134217727;return P!==0?(p=P&~b,p!==0?v=Ia(p):(E&=P,E!==0?v=Ia(E):c||(c=P&~a,c!==0&&(v=Ia(c))))):(P=p&~b,P!==0?v=Ia(P):E!==0?v=Ia(E):c||(c=p&~a,c!==0&&(v=Ia(c)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:v}function nl(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Hk(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yA(){var a=gc;return gc<<=1,(gc&62914560)===0&&(gc=4194304),a}function ap(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function il(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function qk(a,o,c,p,v,b){var E=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var P=a.entanglements,N=a.expirationTimes,q=a.hiddenUpdates;for(c=E&~c;0<c;){var W=31-qn(c),J=1<<W;P[W]=0,N[W]=-1;var V=q[W];if(V!==null)for(q[W]=null,W=0;W<V.length;W++){var Y=V[W];Y!==null&&(Y.lane&=-536870913)}c&=~J}p!==0&&bA(a,p,0),b!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=b&~(E&~o))}function bA(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-qn(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function AA(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var p=31-qn(c),v=1<<p;v&o|a[p]&o&&(a[p]|=o),c&=~v}}function wA(a,o){var c=o&-o;return c=(c&42)!==0?1:sp(c),(c&(a.suspendedLanes|o))!==0?0:c}function sp(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function op(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function SA(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:o_(a.type))}function _A(a,o){var c=F.p;try{return F.p=a,o()}finally{F.p=c}}var Kr=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Kr,xn="__reactProps$"+Kr,Ms="__reactContainer$"+Kr,lp="__reactEvents$"+Kr,$k="__reactListeners$"+Kr,Gk="__reactHandles$"+Kr,EA="__reactResources$"+Kr,rl="__reactMarker$"+Kr;function up(a){delete a[Qe],delete a[xn],delete a[lp],delete a[$k],delete a[Gk]}function Ds(a){var o=a[Qe];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Ms]||c[Qe]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=G1(a);a!==null;){if(c=a[Qe])return c;a=G1(a)}return o}a=c,c=a.parentNode}return null}function Ps(a){if(a=a[Qe]||a[Ms]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function al(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function Rs(a){var o=a[EA];return o||(o=a[EA]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ze(a){a[rl]=!0}var xA=new Set,CA={};function ja(a,o){ks(a,o),ks(a+"Capture",o)}function ks(a,o){for(CA[a]=o,a=0;a<o.length;a++)xA.add(o[a])}var Vk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),TA={},OA={};function Yk(a){return np.call(OA,a)?!0:np.call(TA,a)?!1:Vk.test(a)?OA[a]=!0:(TA[a]=!0,!1)}function vc(a,o,c){if(Yk(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function yc(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function ar(a,o,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+p)}}function ri(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function MA(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Xk(a,o,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,b=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(E){c=""+E,b.call(this,E)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function cp(a){if(!a._valueTracker){var o=MA(a)?"checked":"value";a._valueTracker=Xk(a,o,""+a[o])}}function DA(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return a&&(p=MA(a)?a.checked?"true":"false":a.value),a=p,a!==c?(o.setValue(a),!0):!1}function bc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Kk=/[\n"\\]/g;function ai(a){return a.replace(Kk,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function hp(a,o,c,p,v,b,E,P){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),o!=null?E==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+ri(o)):a.value!==""+ri(o)&&(a.value=""+ri(o)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),o!=null?fp(a,E,ri(o)):c!=null?fp(a,E,ri(c)):p!=null&&a.removeAttribute("value"),v==null&&b!=null&&(a.defaultChecked=!!b),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+ri(P):a.removeAttribute("name")}function PA(a,o,c,p,v,b,E,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){cp(a);return}c=c!=null?""+ri(c):"",o=o!=null?""+ri(o):c,P||o===a.value||(a.value=o),a.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=P?a.checked:!!p,a.defaultChecked=!!p,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E),cp(a)}function fp(a,o,c){o==="number"&&bc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Ns(a,o,c,p){if(a=a.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=o.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&p&&(a[c].defaultSelected=!0)}else{for(c=""+ri(c),o=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,p&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function RA(a,o,c){if(o!=null&&(o=""+ri(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+ri(c):""}function kA(a,o,c,p){if(o==null){if(p!=null){if(c!=null)throw Error(i(92));if(lt(p)){if(1<p.length)throw Error(i(93));p=p[0]}c=p}c==null&&(c=""),o=c}c=ri(o),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),cp(a)}function Ls(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var Wk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function NA(a,o,c){var p=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,c):typeof c!="number"||c===0||Wk.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function LA(a,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&c[v]!==p&&NA(a,v,p)}else for(var b in o)o.hasOwnProperty(b)&&NA(a,b,o[b])}function dp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ac(a){return Qk.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function sr(){}var pp=null;function gp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Is=null,js=null;function IA(a){var o=Ps(a);if(o&&(a=o.stateNode)){var c=a[xn]||null;t:switch(a=o.stateNode,o.type){case"input":if(hp(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ai(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==a&&p.form===a.form){var v=p[xn]||null;if(!v)throw Error(i(90));hp(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)p=c[o],p.form===a.form&&DA(p)}break t;case"textarea":RA(a,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Ns(a,!!c.multiple,o,!1)}}}var mp=!1;function jA(a,o,c){if(mp)return a(o,c);mp=!0;try{var p=a(o);return p}finally{if(mp=!1,(Is!==null||js!==null)&&(oh(),Is&&(o=Is,a=js,js=Is=null,IA(o),a)))for(o=0;o<a.length;o++)IA(a[o])}}function sl(a,o){var c=a.stateNode;if(c===null)return null;var p=c[xn]||null;if(p===null)return null;c=p[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break t;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vp=!1;if(or)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){vp=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{vp=!1}var Wr=null,yp=null,wc=null;function BA(){if(wc)return wc;var a,o=yp,c=o.length,p,v="value"in Wr?Wr.value:Wr.textContent,b=v.length;for(a=0;a<c&&o[a]===v[a];a++);var E=c-a;for(p=1;p<=E&&o[c-p]===v[b-p];p++);return wc=v.slice(a,1<p?1-p:void 0)}function Sc(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function _c(){return!0}function zA(){return!1}function Cn(a){function o(c,p,v,b,E){this._reactName=c,this._targetInst=v,this.type=p,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(c=a[P],this[P]=c?c(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?_c:zA,this.isPropagationStopped=zA,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),o}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ec=Cn(Ba),ll=g({},Ba,{view:0,detail:0}),Jk=Cn(ll),bp,Ap,ul,xc=g({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ul&&(ul&&a.type==="mousemove"?(bp=a.screenX-ul.screenX,Ap=a.screenY-ul.screenY):Ap=bp=0,ul=a),bp)},movementY:function(a){return"movementY"in a?a.movementY:Ap}}),FA=Cn(xc),tN=g({},xc,{dataTransfer:0}),eN=Cn(tN),nN=g({},ll,{relatedTarget:0}),wp=Cn(nN),iN=g({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),rN=Cn(iN),aN=g({},Ba,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),sN=Cn(aN),oN=g({},Ba,{data:0}),UA=Cn(oN),lN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hN(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=cN[a])?!!o[a]:!1}function Sp(){return hN}var fN=g({},ll,{key:function(a){if(a.key){var o=lN[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Sc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?uN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sp,charCode:function(a){return a.type==="keypress"?Sc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Sc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),dN=Cn(fN),pN=g({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HA=Cn(pN),gN=g({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sp}),mN=Cn(gN),vN=g({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),yN=Cn(vN),bN=g({},xc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),AN=Cn(bN),wN=g({},Ba,{newState:0,oldState:0}),SN=Cn(wN),_N=[9,13,27,32],_p=or&&"CompositionEvent"in window,cl=null;or&&"documentMode"in document&&(cl=document.documentMode);var EN=or&&"TextEvent"in window&&!cl,qA=or&&(!_p||cl&&8<cl&&11>=cl),$A=" ",GA=!1;function VA(a,o){switch(a){case"keyup":return _N.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YA(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Bs=!1;function xN(a,o){switch(a){case"compositionend":return YA(o);case"keypress":return o.which!==32?null:(GA=!0,$A);case"textInput":return a=o.data,a===$A&&GA?null:a;default:return null}}function CN(a,o){if(Bs)return a==="compositionend"||!_p&&VA(a,o)?(a=BA(),wc=yp=Wr=null,Bs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qA&&o.locale!=="ko"?null:o.data;default:return null}}var TN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!TN[a.type]:o==="textarea"}function KA(a,o,c,p){Is?js?js.push(p):js=[p]:Is=p,o=ph(o,"onChange"),0<o.length&&(c=new Ec("onChange","change",null,c,p),a.push({event:c,listeners:o}))}var hl=null,fl=null;function ON(a){P1(a,0)}function Cc(a){var o=al(a);if(DA(o))return a}function WA(a,o){if(a==="change")return o}var ZA=!1;if(or){var Ep;if(or){var xp="oninput"in document;if(!xp){var QA=document.createElement("div");QA.setAttribute("oninput","return;"),xp=typeof QA.oninput=="function"}Ep=xp}else Ep=!1;ZA=Ep&&(!document.documentMode||9<document.documentMode)}function JA(){hl&&(hl.detachEvent("onpropertychange",tw),fl=hl=null)}function tw(a){if(a.propertyName==="value"&&Cc(fl)){var o=[];KA(o,fl,a,gp(a)),jA(ON,o)}}function MN(a,o,c){a==="focusin"?(JA(),hl=o,fl=c,hl.attachEvent("onpropertychange",tw)):a==="focusout"&&JA()}function DN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Cc(fl)}function PN(a,o){if(a==="click")return Cc(o)}function RN(a,o){if(a==="input"||a==="change")return Cc(o)}function kN(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var $n=typeof Object.is=="function"?Object.is:kN;function dl(a,o){if($n(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var v=c[p];if(!np.call(o,v)||!$n(a[v],o[v]))return!1}return!0}function ew(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function nw(a,o){var c=ew(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=o&&p>=o)return{node:c,offset:o-a};a=p}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=ew(c)}}function iw(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?iw(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function rw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=bc(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=bc(a.document)}return o}function Cp(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var NN=or&&"documentMode"in document&&11>=document.documentMode,zs=null,Tp=null,pl=null,Op=!1;function aw(a,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Op||zs==null||zs!==bc(p)||(p=zs,"selectionStart"in p&&Cp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),pl&&dl(pl,p)||(pl=p,p=ph(Tp,"onSelect"),0<p.length&&(o=new Ec("onSelect","select",null,o,c),a.push({event:o,listeners:p}),o.target=zs)))}function za(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Fs={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Mp={},sw={};or&&(sw=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Fa(a){if(Mp[a])return Mp[a];if(!Fs[a])return a;var o=Fs[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in sw)return Mp[a]=o[c];return a}var ow=Fa("animationend"),lw=Fa("animationiteration"),uw=Fa("animationstart"),LN=Fa("transitionrun"),IN=Fa("transitionstart"),jN=Fa("transitioncancel"),cw=Fa("transitionend"),hw=new Map,Dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dp.push("scrollEnd");function Ci(a,o){hw.set(a,o),ja(o,[a])}var Tc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},si=[],Us=0,Pp=0;function Oc(){for(var a=Us,o=Pp=Us=0;o<a;){var c=si[o];si[o++]=null;var p=si[o];si[o++]=null;var v=si[o];si[o++]=null;var b=si[o];if(si[o++]=null,p!==null&&v!==null){var E=p.pending;E===null?v.next=v:(v.next=E.next,E.next=v),p.pending=v}b!==0&&fw(c,v,b)}}function Mc(a,o,c,p){si[Us++]=a,si[Us++]=o,si[Us++]=c,si[Us++]=p,Pp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Rp(a,o,c,p){return Mc(a,o,c,p),Dc(a)}function Ua(a,o){return Mc(a,null,null,o),Dc(a)}function fw(a,o,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var v=!1,b=a.return;b!==null;)b.childLanes|=c,p=b.alternate,p!==null&&(p.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(v=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,v&&o!==null&&(v=31-qn(c),a=b.hiddenUpdates,p=a[v],p===null?a[v]=[o]:p.push(o),o.lane=c|536870912),b):null}function Dc(a){if(50<Il)throw Il=0,Ug=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Hs={};function BN(a,o,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(a,o,c,p){return new BN(a,o,c,p)}function kp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function lr(a,o){var c=a.alternate;return c===null?(c=Gn(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function dw(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Pc(a,o,c,p,v,b){var E=0;if(p=a,typeof a=="function")kp(a)&&(E=1);else if(typeof a=="string")E=qL(a,c,rt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case z:return a=Gn(31,c,o,v),a.elementType=z,a.lanes=b,a;case w:return Ha(c.children,v,b,o);case S:E=8,v|=24;break;case _:return a=Gn(12,c,o,v|2),a.elementType=_,a.lanes=b,a;case M:return a=Gn(13,c,o,v),a.elementType=M,a.lanes=b,a;case D:return a=Gn(19,c,o,v),a.elementType=D,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case x:E=10;break t;case C:E=9;break t;case O:E=11;break t;case R:E=14;break t;case L:E=16,p=null;break t}E=29,c=Error(i(130,a===null?"null":typeof a,"")),p=null}return o=Gn(E,c,o,v),o.elementType=a,o.type=p,o.lanes=b,o}function Ha(a,o,c,p){return a=Gn(7,a,p,o),a.lanes=c,a}function Np(a,o,c){return a=Gn(6,a,null,o),a.lanes=c,a}function pw(a){var o=Gn(18,null,null,0);return o.stateNode=a,o}function Lp(a,o,c){return o=Gn(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var gw=new WeakMap;function oi(a,o){if(typeof a=="object"&&a!==null){var c=gw.get(a);return c!==void 0?c:(o={value:a,source:o,stack:tl(o)},gw.set(a,o),o)}return{value:a,source:o,stack:tl(o)}}var qs=[],$s=0,Rc=null,gl=0,li=[],ui=0,Zr=null,Ii=1,ji="";function ur(a,o){qs[$s++]=gl,qs[$s++]=Rc,Rc=a,gl=o}function mw(a,o,c){li[ui++]=Ii,li[ui++]=ji,li[ui++]=Zr,Zr=a;var p=Ii;a=ji;var v=32-qn(p)-1;p&=~(1<<v),c+=1;var b=32-qn(o)+v;if(30<b){var E=v-v%5;b=(p&(1<<E)-1).toString(32),p>>=E,v-=E,Ii=1<<32-qn(o)+v|c<<v|p,ji=b+a}else Ii=1<<b|c<<v|p,ji=a}function Ip(a){a.return!==null&&(ur(a,1),mw(a,1,0))}function jp(a){for(;a===Rc;)Rc=qs[--$s],qs[$s]=null,gl=qs[--$s],qs[$s]=null;for(;a===Zr;)Zr=li[--ui],li[ui]=null,ji=li[--ui],li[ui]=null,Ii=li[--ui],li[ui]=null}function vw(a,o){li[ui++]=Ii,li[ui++]=ji,li[ui++]=Zr,Ii=o.id,ji=o.overflow,Zr=a}var Je=null,se=null,It=!1,Qr=null,ci=!1,Bp=Error(i(519));function Jr(a){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(oi(o,a)),Bp}function yw(a){var o=a.stateNode,c=a.type,p=a.memoizedProps;switch(o[Qe]=a,o[xn]=p,c){case"dialog":Rt("cancel",o),Rt("close",o);break;case"iframe":case"object":case"embed":Rt("load",o);break;case"video":case"audio":for(c=0;c<Bl.length;c++)Rt(Bl[c],o);break;case"source":Rt("error",o);break;case"img":case"image":case"link":Rt("error",o),Rt("load",o);break;case"details":Rt("toggle",o);break;case"input":Rt("invalid",o),PA(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Rt("invalid",o);break;case"textarea":Rt("invalid",o),kA(o,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||p.suppressHydrationWarning===!0||L1(o.textContent,c)?(p.popover!=null&&(Rt("beforetoggle",o),Rt("toggle",o)),p.onScroll!=null&&Rt("scroll",o),p.onScrollEnd!=null&&Rt("scrollend",o),p.onClick!=null&&(o.onclick=sr),o=!0):o=!1,o||Jr(a,!0)}function bw(a){for(Je=a.return;Je;)switch(Je.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:Je=Je.return}}function Gs(a){if(a!==Je)return!1;if(!It)return bw(a),It=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||nm(a.type,a.memoizedProps)),c=!c),c&&se&&Jr(a),bw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));se=$1(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));se=$1(a)}else o===27?(o=se,da(a.type)?(a=om,om=null,se=a):se=o):se=Je?fi(a.stateNode.nextSibling):null;return!0}function qa(){se=Je=null,It=!1}function zp(){var a=Qr;return a!==null&&(Dn===null?Dn=a:Dn.push.apply(Dn,a),Qr=null),a}function ml(a){Qr===null?Qr=[a]:Qr.push(a)}var Fp=k(null),$a=null,cr=null;function ta(a,o,c){tt(Fp,o._currentValue),o._currentValue=c}function hr(a){a._currentValue=Fp.current,$(Fp)}function Up(a,o,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===c)break;a=a.return}}function Hp(a,o,c,p){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var b=v.dependencies;if(b!==null){var E=v.child;b=b.firstContext;t:for(;b!==null;){var P=b;b=v;for(var N=0;N<o.length;N++)if(P.context===o[N]){b.lanes|=c,P=b.alternate,P!==null&&(P.lanes|=c),Up(b.return,c,a),p||(E=null);break t}b=P.next}}else if(v.tag===18){if(E=v.return,E===null)throw Error(i(341));E.lanes|=c,b=E.alternate,b!==null&&(b.lanes|=c),Up(E,c,a),E=null}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===a){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}}function Vs(a,o,c,p){a=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var E=v.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var P=v.type;$n(v.pendingProps.value,E.value)||(a!==null?a.push(P):a=[P])}}else if(v===ut.current){if(E=v.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(ql):a=[ql])}v=v.return}a!==null&&Hp(o,a,c,p),o.flags|=262144}function kc(a){for(a=a.firstContext;a!==null;){if(!$n(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ga(a){$a=a,cr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function tn(a){return Aw($a,a)}function Nc(a,o){return $a===null&&Ga(a),Aw(a,o)}function Aw(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},cr===null){if(a===null)throw Error(i(308));cr=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else cr=cr.next=o;return c}var zN=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},FN=n.unstable_scheduleCallback,UN=n.unstable_NormalPriority,Ce={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qp(){return{controller:new zN,data:new Map,refCount:0}}function vl(a){a.refCount--,a.refCount===0&&FN(UN,function(){a.controller.abort()})}var yl=null,$p=0,Ys=0,Xs=null;function HN(a,o){if(yl===null){var c=yl=[];$p=0,Ys=Yg(),Xs={status:"pending",value:void 0,then:function(p){c.push(p)}}}return $p++,o.then(ww,ww),o}function ww(){if(--$p===0&&yl!==null){Xs!==null&&(Xs.status="fulfilled");var a=yl;yl=null,Ys=0,Xs=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function qN(a,o){var c=[],p={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),p}var Sw=I.S;I.S=function(a,o){a1=Un(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&HN(a,o),Sw!==null&&Sw(a,o)};var Va=k(null);function Gp(){var a=Va.current;return a!==null?a:te.pooledCache}function Lc(a,o){o===null?tt(Va,Va.current):tt(Va,o.pool)}function _w(){var a=Gp();return a===null?null:{parent:Ce._currentValue,pool:a}}var Ks=Error(i(460)),Vp=Error(i(474)),Ic=Error(i(542)),jc={then:function(){}};function Ew(a){return a=a.status,a==="fulfilled"||a==="rejected"}function xw(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(sr,sr),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Tw(a),a;default:if(typeof o.status=="string")o.then(sr,sr);else{if(a=te,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Tw(a),a}throw Xa=o,Ks}}function Ya(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Xa=c,Ks):c}}var Xa=null;function Cw(){if(Xa===null)throw Error(i(459));var a=Xa;return Xa=null,a}function Tw(a){if(a===Ks||a===Ic)throw Error(i(483))}var Ws=null,bl=0;function Bc(a){var o=bl;return bl+=1,Ws===null&&(Ws=[]),xw(Ws,a,o)}function Al(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function zc(a,o){throw o.$$typeof===m?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Ow(a){function o(B,j){if(a){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function c(B,j){if(!a)return null;for(;j!==null;)o(B,j),j=j.sibling;return null}function p(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function v(B,j){return B=lr(B,j),B.index=0,B.sibling=null,B}function b(B,j,H){return B.index=H,a?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=67108866,j):H):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function E(B){return a&&B.alternate===null&&(B.flags|=67108866),B}function P(B,j,H,Q){return j===null||j.tag!==6?(j=Np(H,B.mode,Q),j.return=B,j):(j=v(j,H),j.return=B,j)}function N(B,j,H,Q){var yt=H.type;return yt===w?W(B,j,H.props.children,Q,H.key):j!==null&&(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===L&&Ya(yt)===j.type)?(j=v(j,H.props),Al(j,H),j.return=B,j):(j=Pc(H.type,H.key,H.props,null,B.mode,Q),Al(j,H),j.return=B,j)}function q(B,j,H,Q){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Lp(H,B.mode,Q),j.return=B,j):(j=v(j,H.children||[]),j.return=B,j)}function W(B,j,H,Q,yt){return j===null||j.tag!==7?(j=Ha(H,B.mode,Q,yt),j.return=B,j):(j=v(j,H),j.return=B,j)}function J(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Np(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case y:return H=Pc(j.type,j.key,j.props,null,B.mode,H),Al(H,j),H.return=B,H;case A:return j=Lp(j,B.mode,H),j.return=B,j;case L:return j=Ya(j),J(B,j,H)}if(lt(j)||U(j))return j=Ha(j,B.mode,H,null),j.return=B,j;if(typeof j.then=="function")return J(B,Bc(j),H);if(j.$$typeof===x)return J(B,Nc(B,j),H);zc(B,j)}return null}function V(B,j,H,Q){var yt=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return yt!==null?null:P(B,j,""+H,Q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return H.key===yt?N(B,j,H,Q):null;case A:return H.key===yt?q(B,j,H,Q):null;case L:return H=Ya(H),V(B,j,H,Q)}if(lt(H)||U(H))return yt!==null?null:W(B,j,H,Q,null);if(typeof H.then=="function")return V(B,j,Bc(H),Q);if(H.$$typeof===x)return V(B,j,Nc(B,H),Q);zc(B,H)}return null}function Y(B,j,H,Q,yt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return B=B.get(H)||null,P(j,B,""+Q,yt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return B=B.get(Q.key===null?H:Q.key)||null,N(j,B,Q,yt);case A:return B=B.get(Q.key===null?H:Q.key)||null,q(j,B,Q,yt);case L:return Q=Ya(Q),Y(B,j,H,Q,yt)}if(lt(Q)||U(Q))return B=B.get(H)||null,W(j,B,Q,yt,null);if(typeof Q.then=="function")return Y(B,j,H,Bc(Q),yt);if(Q.$$typeof===x)return Y(B,j,H,Nc(j,Q),yt);zc(j,Q)}return null}function ft(B,j,H,Q){for(var yt=null,zt=null,pt=j,Dt=j=0,Lt=null;pt!==null&&Dt<H.length;Dt++){pt.index>Dt?(Lt=pt,pt=null):Lt=pt.sibling;var Ft=V(B,pt,H[Dt],Q);if(Ft===null){pt===null&&(pt=Lt);break}a&&pt&&Ft.alternate===null&&o(B,pt),j=b(Ft,j,Dt),zt===null?yt=Ft:zt.sibling=Ft,zt=Ft,pt=Lt}if(Dt===H.length)return c(B,pt),It&&ur(B,Dt),yt;if(pt===null){for(;Dt<H.length;Dt++)pt=J(B,H[Dt],Q),pt!==null&&(j=b(pt,j,Dt),zt===null?yt=pt:zt.sibling=pt,zt=pt);return It&&ur(B,Dt),yt}for(pt=p(pt);Dt<H.length;Dt++)Lt=Y(pt,B,Dt,H[Dt],Q),Lt!==null&&(a&&Lt.alternate!==null&&pt.delete(Lt.key===null?Dt:Lt.key),j=b(Lt,j,Dt),zt===null?yt=Lt:zt.sibling=Lt,zt=Lt);return a&&pt.forEach(function(ya){return o(B,ya)}),It&&ur(B,Dt),yt}function St(B,j,H,Q){if(H==null)throw Error(i(151));for(var yt=null,zt=null,pt=j,Dt=j=0,Lt=null,Ft=H.next();pt!==null&&!Ft.done;Dt++,Ft=H.next()){pt.index>Dt?(Lt=pt,pt=null):Lt=pt.sibling;var ya=V(B,pt,Ft.value,Q);if(ya===null){pt===null&&(pt=Lt);break}a&&pt&&ya.alternate===null&&o(B,pt),j=b(ya,j,Dt),zt===null?yt=ya:zt.sibling=ya,zt=ya,pt=Lt}if(Ft.done)return c(B,pt),It&&ur(B,Dt),yt;if(pt===null){for(;!Ft.done;Dt++,Ft=H.next())Ft=J(B,Ft.value,Q),Ft!==null&&(j=b(Ft,j,Dt),zt===null?yt=Ft:zt.sibling=Ft,zt=Ft);return It&&ur(B,Dt),yt}for(pt=p(pt);!Ft.done;Dt++,Ft=H.next())Ft=Y(pt,B,Dt,Ft.value,Q),Ft!==null&&(a&&Ft.alternate!==null&&pt.delete(Ft.key===null?Dt:Ft.key),j=b(Ft,j,Dt),zt===null?yt=Ft:zt.sibling=Ft,zt=Ft);return a&&pt.forEach(function(tI){return o(B,tI)}),It&&ur(B,Dt),yt}function Qt(B,j,H,Q){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case y:t:{for(var yt=H.key;j!==null;){if(j.key===yt){if(yt=H.type,yt===w){if(j.tag===7){c(B,j.sibling),Q=v(j,H.props.children),Q.return=B,B=Q;break t}}else if(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===L&&Ya(yt)===j.type){c(B,j.sibling),Q=v(j,H.props),Al(Q,H),Q.return=B,B=Q;break t}c(B,j);break}else o(B,j);j=j.sibling}H.type===w?(Q=Ha(H.props.children,B.mode,Q,H.key),Q.return=B,B=Q):(Q=Pc(H.type,H.key,H.props,null,B.mode,Q),Al(Q,H),Q.return=B,B=Q)}return E(B);case A:t:{for(yt=H.key;j!==null;){if(j.key===yt)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){c(B,j.sibling),Q=v(j,H.children||[]),Q.return=B,B=Q;break t}else{c(B,j);break}else o(B,j);j=j.sibling}Q=Lp(H,B.mode,Q),Q.return=B,B=Q}return E(B);case L:return H=Ya(H),Qt(B,j,H,Q)}if(lt(H))return ft(B,j,H,Q);if(U(H)){if(yt=U(H),typeof yt!="function")throw Error(i(150));return H=yt.call(H),St(B,j,H,Q)}if(typeof H.then=="function")return Qt(B,j,Bc(H),Q);if(H.$$typeof===x)return Qt(B,j,Nc(B,H),Q);zc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(c(B,j.sibling),Q=v(j,H),Q.return=B,B=Q):(c(B,j),Q=Np(H,B.mode,Q),Q.return=B,B=Q),E(B)):c(B,j)}return function(B,j,H,Q){try{bl=0;var yt=Qt(B,j,H,Q);return Ws=null,yt}catch(pt){if(pt===Ks||pt===Ic)throw pt;var zt=Gn(29,pt,null,B.mode);return zt.lanes=Q,zt.return=B,zt}}}var Ka=Ow(!0),Mw=Ow(!1),ea=!1;function Yp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function na(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ia(a,o,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(qt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Dc(a),fw(a,null,c),o}return Mc(a,p,o,c),Dc(a)}function wl(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,c|=p,o.lanes=c,AA(a,c)}}function Kp(a,o){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var v=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?v=b=E:b=b.next=E,c=c.next}while(c!==null);b===null?v=b=o:b=b.next=o}else v=b=o;c={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Wp=!1;function Sl(){if(Wp){var a=Xs;if(a!==null)throw a}}function _l(a,o,c,p){Wp=!1;var v=a.updateQueue;ea=!1;var b=v.firstBaseUpdate,E=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var N=P,q=N.next;N.next=null,E===null?b=q:E.next=q,E=N;var W=a.alternate;W!==null&&(W=W.updateQueue,P=W.lastBaseUpdate,P!==E&&(P===null?W.firstBaseUpdate=q:P.next=q,W.lastBaseUpdate=N))}if(b!==null){var J=v.baseState;E=0,W=q=N=null,P=b;do{var V=P.lane&-536870913,Y=V!==P.lane;if(Y?(Nt&V)===V:(p&V)===V){V!==0&&V===Ys&&(Wp=!0),W!==null&&(W=W.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var ft=a,St=P;V=o;var Qt=c;switch(St.tag){case 1:if(ft=St.payload,typeof ft=="function"){J=ft.call(Qt,J,V);break t}J=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=St.payload,V=typeof ft=="function"?ft.call(Qt,J,V):ft,V==null)break t;J=g({},J,V);break t;case 2:ea=!0}}V=P.callback,V!==null&&(a.flags|=64,Y&&(a.flags|=8192),Y=v.callbacks,Y===null?v.callbacks=[V]:Y.push(V))}else Y={lane:V,tag:P.tag,payload:P.payload,callback:P.callback,next:null},W===null?(q=W=Y,N=J):W=W.next=Y,E|=V;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;Y=P,P=Y.next,Y.next=null,v.lastBaseUpdate=Y,v.shared.pending=null}}while(!0);W===null&&(N=J),v.baseState=N,v.firstBaseUpdate=q,v.lastBaseUpdate=W,b===null&&(v.shared.lanes=0),la|=E,a.lanes=E,a.memoizedState=J}}function Dw(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function Pw(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Dw(c[a],o)}var Zs=k(null),Fc=k(0);function Rw(a,o){a=Ar,tt(Fc,a),tt(Zs,o),Ar=a|o.baseLanes}function Zp(){tt(Fc,Ar),tt(Zs,Zs.current)}function Qp(){Ar=Fc.current,$(Zs),$(Fc)}var Vn=k(null),hi=null;function ra(a){var o=a.alternate;tt(Se,Se.current&1),tt(Vn,a),hi===null&&(o===null||Zs.current!==null||o.memoizedState!==null)&&(hi=a)}function Jp(a){tt(Se,Se.current),tt(Vn,a),hi===null&&(hi=a)}function kw(a){a.tag===22?(tt(Se,Se.current),tt(Vn,a),hi===null&&(hi=a)):aa()}function aa(){tt(Se,Se.current),tt(Vn,Vn.current)}function Yn(a){$(Vn),hi===a&&(hi=null),$(Se)}var Se=k(0);function Uc(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||am(c)||sm(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var fr=0,Ot=null,Wt=null,Te=null,Hc=!1,Qs=!1,Wa=!1,qc=0,El=0,Js=null,$N=0;function ve(){throw Error(i(321))}function tg(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!$n(a[c],o[c]))return!1;return!0}function eg(a,o,c,p,v,b){return fr=b,Ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,I.H=a===null||a.memoizedState===null?mS:mg,Wa=!1,b=c(p,v),Wa=!1,Qs&&(b=Lw(o,c,p,v)),Nw(a),b}function Nw(a){I.H=Tl;var o=Wt!==null&&Wt.next!==null;if(fr=0,Te=Wt=Ot=null,Hc=!1,El=0,Js=null,o)throw Error(i(300));a===null||Oe||(a=a.dependencies,a!==null&&kc(a)&&(Oe=!0))}function Lw(a,o,c,p){Ot=a;var v=0;do{if(Qs&&(Js=null),El=0,Qs=!1,25<=v)throw Error(i(301));if(v+=1,Te=Wt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}I.H=vS,b=o(c,p)}while(Qs);return b}function GN(){var a=I.H,o=a.useState()[0];return o=typeof o.then=="function"?xl(o):o,a=a.useState()[0],(Wt!==null?Wt.memoizedState:null)!==a&&(Ot.flags|=1024),o}function ng(){var a=qc!==0;return qc=0,a}function ig(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function rg(a){if(Hc){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Hc=!1}fr=0,Te=Wt=Ot=null,Qs=!1,El=qc=0,Js=null}function mn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Ot.memoizedState=Te=a:Te=Te.next=a,Te}function _e(){if(Wt===null){var a=Ot.alternate;a=a!==null?a.memoizedState:null}else a=Wt.next;var o=Te===null?Ot.memoizedState:Te.next;if(o!==null)Te=o,Wt=a;else{if(a===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));Wt=a,a={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Te===null?Ot.memoizedState=Te=a:Te=Te.next=a}return Te}function $c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(a){var o=El;return El+=1,Js===null&&(Js=[]),a=xw(Js,a,o),o=Ot,(Te===null?o.memoizedState:Te.next)===null&&(o=o.alternate,I.H=o===null||o.memoizedState===null?mS:mg),a}function Gc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return xl(a);if(a.$$typeof===x)return tn(a)}throw Error(i(438,String(a)))}function ag(a){var o=null,c=Ot.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var p=Ot.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=$c(),Ot.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),p=0;p<a;p++)c[p]=K;return o.index++,c}function dr(a,o){return typeof o=="function"?o(a):o}function Vc(a){var o=_e();return sg(o,Wt,a)}function sg(a,o,c){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=c;var v=a.baseQueue,b=p.pending;if(b!==null){if(v!==null){var E=v.next;v.next=b.next,b.next=E}o.baseQueue=v=b,p.pending=null}if(b=a.baseState,v===null)a.memoizedState=b;else{o=v.next;var P=E=null,N=null,q=o,W=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Nt&J)===J:(fr&J)===J){var V=q.revertLane;if(V===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Ys&&(W=!0);else if((fr&V)===V){q=q.next,V===Ys&&(W=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(P=N=J,E=b):N=N.next=J,Ot.lanes|=V,la|=V;J=q.action,Wa&&c(b,J),b=q.hasEagerState?q.eagerState:c(b,J)}else V={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(P=N=V,E=b):N=N.next=V,Ot.lanes|=J,la|=J;q=q.next}while(q!==null&&q!==o);if(N===null?E=b:N.next=P,!$n(b,a.memoizedState)&&(Oe=!0,W&&(c=Xs,c!==null)))throw c;a.memoizedState=b,a.baseState=E,a.baseQueue=N,p.lastRenderedState=b}return v===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function og(a){var o=_e(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var p=c.dispatch,v=c.pending,b=o.memoizedState;if(v!==null){c.pending=null;var E=v=v.next;do b=a(b,E.action),E=E.next;while(E!==v);$n(b,o.memoizedState)||(Oe=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,p]}function Iw(a,o,c){var p=Ot,v=_e(),b=It;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=o();var E=!$n((Wt||v).memoizedState,c);if(E&&(v.memoizedState=c,Oe=!0),v=v.queue,cg(zw.bind(null,p,v,a),[a]),v.getSnapshot!==o||E||Te!==null&&Te.memoizedState.tag&1){if(p.flags|=2048,to(9,{destroy:void 0},Bw.bind(null,p,v,c,o),null),te===null)throw Error(i(349));b||(fr&127)!==0||jw(p,o,c)}return c}function jw(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ot.updateQueue,o===null?(o=$c(),Ot.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function Bw(a,o,c,p){o.value=c,o.getSnapshot=p,Fw(o)&&Uw(a)}function zw(a,o,c){return c(function(){Fw(o)&&Uw(a)})}function Fw(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!$n(a,c)}catch{return!0}}function Uw(a){var o=Ua(a,2);o!==null&&Pn(o,a,2)}function lg(a){var o=mn();if(typeof a=="function"){var c=a;if(a=c(),Wa){Xr(!0);try{c()}finally{Xr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},o}function Hw(a,o,c,p){return a.baseState=c,sg(a,Wt,typeof p=="function"?p:dr)}function VN(a,o,c,p,v){if(Kc(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};I.T!==null?c(!0):b.isTransition=!1,p(b),c=o.pending,c===null?(b.next=o.pending=b,qw(o,b)):(b.next=c.next,o.pending=c.next=b)}}function qw(a,o){var c=o.action,p=o.payload,v=a.state;if(o.isTransition){var b=I.T,E={};I.T=E;try{var P=c(v,p),N=I.S;N!==null&&N(E,P),$w(a,o,P)}catch(q){ug(a,o,q)}finally{b!==null&&E.types!==null&&(b.types=E.types),I.T=b}}else try{b=c(v,p),$w(a,o,b)}catch(q){ug(a,o,q)}}function $w(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){Gw(a,o,p)},function(p){return ug(a,o,p)}):Gw(a,o,c)}function Gw(a,o,c){o.status="fulfilled",o.value=c,Vw(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,qw(a,c)))}function ug(a,o,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=c,Vw(o),o=o.next;while(o!==p)}a.action=null}function Vw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Yw(a,o){return o}function Xw(a,o){if(It){var c=te.formState;if(c!==null){t:{var p=Ot;if(It){if(se){e:{for(var v=se,b=ci;v.nodeType!==8;){if(!b){v=null;break e}if(v=fi(v.nextSibling),v===null){v=null;break e}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){se=fi(v.nextSibling),p=v.data==="F!";break t}}Jr(p)}p=!1}p&&(o=c[0])}}return c=mn(),c.memoizedState=c.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yw,lastRenderedState:o},c.queue=p,c=dS.bind(null,Ot,p),p.dispatch=c,p=lg(!1),b=gg.bind(null,Ot,!1,p.queue),p=mn(),v={state:o,dispatch:null,action:a,pending:null},p.queue=v,c=VN.bind(null,Ot,v,b,c),v.dispatch=c,p.memoizedState=a,[o,c,!1]}function Kw(a){var o=_e();return Ww(o,Wt,a)}function Ww(a,o,c){if(o=sg(a,o,Yw)[0],a=Vc(dr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=xl(o)}catch(E){throw E===Ks?Ic:E}else p=o;o=_e();var v=o.queue,b=v.dispatch;return c!==o.memoizedState&&(Ot.flags|=2048,to(9,{destroy:void 0},YN.bind(null,v,c),null)),[p,b,a]}function YN(a,o){a.action=o}function Zw(a){var o=_e(),c=Wt;if(c!==null)return Ww(o,c,a);_e(),o=o.memoizedState,c=_e();var p=c.queue.dispatch;return c.memoizedState=a,[o,p,!1]}function to(a,o,c,p){return a={tag:a,create:c,deps:p,inst:o,next:null},o=Ot.updateQueue,o===null&&(o=$c(),Ot.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,o.lastEffect=a),a}function Qw(){return _e().memoizedState}function Yc(a,o,c,p){var v=mn();Ot.flags|=a,v.memoizedState=to(1|o,{destroy:void 0},c,p===void 0?null:p)}function Xc(a,o,c,p){var v=_e();p=p===void 0?null:p;var b=v.memoizedState.inst;Wt!==null&&p!==null&&tg(p,Wt.memoizedState.deps)?v.memoizedState=to(o,b,c,p):(Ot.flags|=a,v.memoizedState=to(1|o,b,c,p))}function Jw(a,o){Yc(8390656,8,a,o)}function cg(a,o){Xc(2048,8,a,o)}function XN(a){Ot.flags|=4;var o=Ot.updateQueue;if(o===null)o=$c(),Ot.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function tS(a){var o=_e().memoizedState;return XN({ref:o,nextImpl:a}),function(){if((qt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function eS(a,o){return Xc(4,2,a,o)}function nS(a,o){return Xc(4,4,a,o)}function iS(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function rS(a,o,c){c=c!=null?c.concat([a]):null,Xc(4,4,iS.bind(null,o,a),c)}function hg(){}function aS(a,o){var c=_e();o=o===void 0?null:o;var p=c.memoizedState;return o!==null&&tg(o,p[1])?p[0]:(c.memoizedState=[a,o],a)}function sS(a,o){var c=_e();o=o===void 0?null:o;var p=c.memoizedState;if(o!==null&&tg(o,p[1]))return p[0];if(p=a(),Wa){Xr(!0);try{a()}finally{Xr(!1)}}return c.memoizedState=[p,o],p}function fg(a,o,c){return c===void 0||(fr&1073741824)!==0&&(Nt&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=o1(),Ot.lanes|=a,la|=a,c)}function oS(a,o,c,p){return $n(c,o)?c:Zs.current!==null?(a=fg(a,c,p),$n(a,o)||(Oe=!0),a):(fr&42)===0||(fr&1073741824)!==0&&(Nt&261930)===0?(Oe=!0,a.memoizedState=c):(a=o1(),Ot.lanes|=a,la|=a,o)}function lS(a,o,c,p,v){var b=F.p;F.p=b!==0&&8>b?b:8;var E=I.T,P={};I.T=P,gg(a,!1,o,c);try{var N=v(),q=I.S;if(q!==null&&q(P,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=qN(N,p);Cl(a,o,W,Wn(a))}else Cl(a,o,p,Wn(a))}catch(J){Cl(a,o,{then:function(){},status:"rejected",reason:J},Wn())}finally{F.p=b,E!==null&&P.types!==null&&(E.types=P.types),I.T=E}}function KN(){}function dg(a,o,c,p){if(a.tag!==5)throw Error(i(476));var v=uS(a).queue;lS(a,v,o,et,c===null?KN:function(){return cS(a),c(p)})}function uS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:et},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function cS(a){var o=uS(a);o.next===null&&(o=a.alternate.memoizedState),Cl(a,o.next.queue,{},Wn())}function pg(){return tn(ql)}function hS(){return _e().memoizedState}function fS(){return _e().memoizedState}function WN(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=Wn();a=na(c);var p=ia(o,a,c);p!==null&&(Pn(p,o,c),wl(p,o,c)),o={cache:qp()},a.payload=o;return}o=o.return}}function ZN(a,o,c){var p=Wn();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Kc(a)?pS(o,c):(c=Rp(a,o,c,p),c!==null&&(Pn(c,a,p),gS(c,o,p)))}function dS(a,o,c){var p=Wn();Cl(a,o,c,p)}function Cl(a,o,c,p){var v={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Kc(a))pS(o,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var E=o.lastRenderedState,P=b(E,c);if(v.hasEagerState=!0,v.eagerState=P,$n(P,E))return Mc(a,o,v,0),te===null&&Oc(),!1}catch{}if(c=Rp(a,o,v,p),c!==null)return Pn(c,a,p),gS(c,o,p),!0}return!1}function gg(a,o,c,p){if(p={lane:2,revertLane:Yg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Kc(a)){if(o)throw Error(i(479))}else o=Rp(a,c,p,2),o!==null&&Pn(o,a,2)}function Kc(a){var o=a.alternate;return a===Ot||o!==null&&o===Ot}function pS(a,o){Qs=Hc=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function gS(a,o,c){if((c&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,c|=p,o.lanes=c,AA(a,c)}}var Tl={readContext:tn,use:Gc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Tl.useEffectEvent=ve;var mS={readContext:tn,use:Gc,useCallback:function(a,o){return mn().memoizedState=[a,o===void 0?null:o],a},useContext:tn,useEffect:Jw,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Yc(4194308,4,iS.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Yc(4194308,4,a,o)},useInsertionEffect:function(a,o){Yc(4,2,a,o)},useMemo:function(a,o){var c=mn();o=o===void 0?null:o;var p=a();if(Wa){Xr(!0);try{a()}finally{Xr(!1)}}return c.memoizedState=[p,o],p},useReducer:function(a,o,c){var p=mn();if(c!==void 0){var v=c(o);if(Wa){Xr(!0);try{c(o)}finally{Xr(!1)}}}else v=o;return p.memoizedState=p.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},p.queue=a,a=a.dispatch=ZN.bind(null,Ot,a),[p.memoizedState,a]},useRef:function(a){var o=mn();return a={current:a},o.memoizedState=a},useState:function(a){a=lg(a);var o=a.queue,c=dS.bind(null,Ot,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:hg,useDeferredValue:function(a,o){var c=mn();return fg(c,a,o)},useTransition:function(){var a=lg(!1);return a=lS.bind(null,Ot,a.queue,!0,!1),mn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var p=Ot,v=mn();if(It){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),te===null)throw Error(i(349));(Nt&127)!==0||jw(p,o,c)}v.memoizedState=c;var b={value:c,getSnapshot:o};return v.queue=b,Jw(zw.bind(null,p,b,a),[a]),p.flags|=2048,to(9,{destroy:void 0},Bw.bind(null,p,b,c,o),null),c},useId:function(){var a=mn(),o=te.identifierPrefix;if(It){var c=ji,p=Ii;c=(p&~(1<<32-qn(p)-1)).toString(32)+c,o="_"+o+"R_"+c,c=qc++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=$N++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:pg,useFormState:Xw,useActionState:Xw,useOptimistic:function(a){var o=mn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=gg.bind(null,Ot,!0,c),c.dispatch=o,[a,o]},useMemoCache:ag,useCacheRefresh:function(){return mn().memoizedState=WN.bind(null,Ot)},useEffectEvent:function(a){var o=mn(),c={impl:a};return o.memoizedState=c,function(){if((qt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},mg={readContext:tn,use:Gc,useCallback:aS,useContext:tn,useEffect:cg,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:nS,useMemo:sS,useReducer:Vc,useRef:Qw,useState:function(){return Vc(dr)},useDebugValue:hg,useDeferredValue:function(a,o){var c=_e();return oS(c,Wt.memoizedState,a,o)},useTransition:function(){var a=Vc(dr)[0],o=_e().memoizedState;return[typeof a=="boolean"?a:xl(a),o]},useSyncExternalStore:Iw,useId:hS,useHostTransitionStatus:pg,useFormState:Kw,useActionState:Kw,useOptimistic:function(a,o){var c=_e();return Hw(c,Wt,a,o)},useMemoCache:ag,useCacheRefresh:fS};mg.useEffectEvent=tS;var vS={readContext:tn,use:Gc,useCallback:aS,useContext:tn,useEffect:cg,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:nS,useMemo:sS,useReducer:og,useRef:Qw,useState:function(){return og(dr)},useDebugValue:hg,useDeferredValue:function(a,o){var c=_e();return Wt===null?fg(c,a,o):oS(c,Wt.memoizedState,a,o)},useTransition:function(){var a=og(dr)[0],o=_e().memoizedState;return[typeof a=="boolean"?a:xl(a),o]},useSyncExternalStore:Iw,useId:hS,useHostTransitionStatus:pg,useFormState:Zw,useActionState:Zw,useOptimistic:function(a,o){var c=_e();return Wt!==null?Hw(c,Wt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:ag,useCacheRefresh:fS};vS.useEffectEvent=tS;function vg(a,o,c,p){o=a.memoizedState,c=c(p,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var yg={enqueueSetState:function(a,o,c){a=a._reactInternals;var p=Wn(),v=na(p);v.payload=o,c!=null&&(v.callback=c),o=ia(a,v,p),o!==null&&(Pn(o,a,p),wl(o,a,p))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var p=Wn(),v=na(p);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=ia(a,v,p),o!==null&&(Pn(o,a,p),wl(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=Wn(),p=na(c);p.tag=2,o!=null&&(p.callback=o),o=ia(a,p,c),o!==null&&(Pn(o,a,c),wl(o,a,c))}};function yS(a,o,c,p,v,b,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,E):o.prototype&&o.prototype.isPureReactComponent?!dl(c,p)||!dl(v,b):!0}function bS(a,o,c,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==a&&yg.enqueueReplaceState(o,o.state,null)}function Za(a,o){var c=o;if("ref"in o){c={};for(var p in o)p!=="ref"&&(c[p]=o[p])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function AS(a){Tc(a)}function wS(a){console.error(a)}function SS(a){Tc(a)}function Wc(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function _S(a,o,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function bg(a,o,c){return c=na(c),c.tag=3,c.payload={element:null},c.callback=function(){Wc(a,o)},c}function ES(a){return a=na(a),a.tag=3,a}function xS(a,o,c,p){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var b=p.value;a.payload=function(){return v(b)},a.callback=function(){_S(o,c,p)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){_S(o,c,p),typeof v!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var P=p.stack;this.componentDidCatch(p.value,{componentStack:P!==null?P:""})})}function QN(a,o,c,p,v){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=c.alternate,o!==null&&Vs(o,c,v,!0),c=Vn.current,c!==null){switch(c.tag){case 31:case 13:return hi===null?lh():c.alternate===null&&ye===0&&(ye=3),c.flags&=-257,c.flags|=65536,c.lanes=v,p===jc?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([p]):o.add(p),$g(a,p,v)),!1;case 22:return c.flags|=65536,p===jc?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([p]):c.add(p)),$g(a,p,v)),!1}throw Error(i(435,c.tag))}return $g(a,p,v),lh(),!1}if(It)return o=Vn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==Bp&&(a=Error(i(422),{cause:p}),ml(oi(a,c)))):(p!==Bp&&(o=Error(i(423),{cause:p}),ml(oi(o,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,p=oi(p,c),v=bg(a.stateNode,p,v),Kp(a,v),ye!==4&&(ye=2)),!1;var b=Error(i(520),{cause:p});if(b=oi(b,c),Ll===null?Ll=[b]:Ll.push(b),ye!==4&&(ye=2),o===null)return!0;p=oi(p,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=bg(c.stateNode,p,a),Kp(c,a),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ua===null||!ua.has(b))))return c.flags|=65536,v&=-v,c.lanes|=v,v=ES(v),xS(v,a,c,p),Kp(c,v),!1}c=c.return}while(c!==null);return!1}var Ag=Error(i(461)),Oe=!1;function en(a,o,c,p){o.child=a===null?Mw(o,null,c,p):Ka(o,a.child,c,p)}function CS(a,o,c,p,v){c=c.render;var b=o.ref;if("ref"in p){var E={};for(var P in p)P!=="ref"&&(E[P]=p[P])}else E=p;return Ga(o),p=eg(a,o,c,E,b,v),P=ng(),a!==null&&!Oe?(ig(a,o,v),pr(a,o,v)):(It&&P&&Ip(o),o.flags|=1,en(a,o,p,v),o.child)}function TS(a,o,c,p,v){if(a===null){var b=c.type;return typeof b=="function"&&!kp(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,OS(a,o,b,p,v)):(a=Pc(c.type,null,p,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!Og(a,v)){var E=b.memoizedProps;if(c=c.compare,c=c!==null?c:dl,c(E,p)&&a.ref===o.ref)return pr(a,o,v)}return o.flags|=1,a=lr(b,p),a.ref=o.ref,a.return=o,o.child=a}function OS(a,o,c,p,v){if(a!==null){var b=a.memoizedProps;if(dl(b,p)&&a.ref===o.ref)if(Oe=!1,o.pendingProps=p=b,Og(a,v))(a.flags&131072)!==0&&(Oe=!0);else return o.lanes=a.lanes,pr(a,o,v)}return wg(a,o,c,p,v)}function MS(a,o,c,p){var v=p.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(p=o.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~b}else p=0,o.child=null;return DS(a,o,b,c,p)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Lc(o,b!==null?b.cachePool:null),b!==null?Rw(o,b):Zp(),kw(o);else return p=o.lanes=536870912,DS(a,o,b!==null?b.baseLanes|c:c,c,p)}else b!==null?(Lc(o,b.cachePool),Rw(o,b),aa(),o.memoizedState=null):(a!==null&&Lc(o,null),Zp(),aa());return en(a,o,v,c),o.child}function Ol(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function DS(a,o,c,p,v){var b=Gp();return b=b===null?null:{parent:Ce._currentValue,pool:b},o.memoizedState={baseLanes:c,cachePool:b},a!==null&&Lc(o,null),Zp(),kw(o),a!==null&&Vs(a,o,p,!0),o.childLanes=v,null}function Zc(a,o){return o=Jc({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function PS(a,o,c){return Ka(o,a.child,null,c),a=Zc(o,o.pendingProps),a.flags|=2,Yn(o),o.memoizedState=null,a}function JN(a,o,c){var p=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(It){if(p.mode==="hidden")return a=Zc(o,p),o.lanes=536870912,Ol(null,a);if(Jp(o),(a=se)?(a=q1(a,ci),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Zr!==null?{id:Ii,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},c=pw(a),c.return=o,o.child=c,Je=o,se=null)):a=null,a===null)throw Jr(o);return o.lanes=536870912,null}return Zc(o,p)}var b=a.memoizedState;if(b!==null){var E=b.dehydrated;if(Jp(o),v)if(o.flags&256)o.flags&=-257,o=PS(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(i(558));else if(Oe||Vs(a,o,c,!1),v=(c&a.childLanes)!==0,Oe||v){if(p=te,p!==null&&(E=wA(p,c),E!==0&&E!==b.retryLane))throw b.retryLane=E,Ua(a,E),Pn(p,a,E),Ag;lh(),o=PS(a,o,c)}else a=b.treeContext,se=fi(E.nextSibling),Je=o,It=!0,Qr=null,ci=!1,a!==null&&vw(o,a),o=Zc(o,p),o.flags|=4096;return o}return a=lr(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Qc(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function wg(a,o,c,p,v){return Ga(o),c=eg(a,o,c,p,void 0,v),p=ng(),a!==null&&!Oe?(ig(a,o,v),pr(a,o,v)):(It&&p&&Ip(o),o.flags|=1,en(a,o,c,v),o.child)}function RS(a,o,c,p,v,b){return Ga(o),o.updateQueue=null,c=Lw(o,p,c,v),Nw(a),p=ng(),a!==null&&!Oe?(ig(a,o,b),pr(a,o,b)):(It&&p&&Ip(o),o.flags|=1,en(a,o,c,b),o.child)}function kS(a,o,c,p,v){if(Ga(o),o.stateNode===null){var b=Hs,E=c.contextType;typeof E=="object"&&E!==null&&(b=tn(E)),b=new c(p,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=yg,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=p,b.state=o.memoizedState,b.refs={},Yp(o),E=c.contextType,b.context=typeof E=="object"&&E!==null?tn(E):Hs,b.state=o.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(vg(o,c,E,p),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&yg.enqueueReplaceState(b,b.state,null),_l(o,p,b,v),Sl(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){b=o.stateNode;var P=o.memoizedProps,N=Za(c,P);b.props=N;var q=b.context,W=c.contextType;E=Hs,typeof W=="object"&&W!==null&&(E=tn(W));var J=c.getDerivedStateFromProps;W=typeof J=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,W||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||q!==E)&&bS(o,b,p,E),ea=!1;var V=o.memoizedState;b.state=V,_l(o,p,b,v),Sl(),q=o.memoizedState,P||V!==q||ea?(typeof J=="function"&&(vg(o,c,J,p),q=o.memoizedState),(N=ea||yS(o,c,N,p,V,q,E))?(W||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=q),b.props=p,b.state=q,b.context=E,p=N):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{b=o.stateNode,Xp(a,o),E=o.memoizedProps,W=Za(c,E),b.props=W,J=o.pendingProps,V=b.context,q=c.contextType,N=Hs,typeof q=="object"&&q!==null&&(N=tn(q)),P=c.getDerivedStateFromProps,(q=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==J||V!==N)&&bS(o,b,p,N),ea=!1,V=o.memoizedState,b.state=V,_l(o,p,b,v),Sl();var Y=o.memoizedState;E!==J||V!==Y||ea||a!==null&&a.dependencies!==null&&kc(a.dependencies)?(typeof P=="function"&&(vg(o,c,P,p),Y=o.memoizedState),(W=ea||yS(o,c,W,p,V,Y,N)||a!==null&&a.dependencies!==null&&kc(a.dependencies))?(q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,Y,N),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,Y,N)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===a.memoizedProps&&V===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&V===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Y),b.props=p,b.state=Y,b.context=N,p=W):(typeof b.componentDidUpdate!="function"||E===a.memoizedProps&&V===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&V===a.memoizedState||(o.flags|=1024),p=!1)}return b=p,Qc(a,o),p=(o.flags&128)!==0,b||p?(b=o.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&p?(o.child=Ka(o,a.child,null,v),o.child=Ka(o,null,c,v)):en(a,o,c,v),o.memoizedState=b.state,a=o.child):a=pr(a,o,v),a}function NS(a,o,c,p){return qa(),o.flags|=256,en(a,o,c,p),o.child}var Sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _g(a){return{baseLanes:a,cachePool:_w()}}function Eg(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=Kn),a}function LS(a,o,c){var p=o.pendingProps,v=!1,b=(o.flags&128)!==0,E;if((E=b)||(E=a!==null&&a.memoizedState===null?!1:(Se.current&2)!==0),E&&(v=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,a===null){if(It){if(v?ra(o):aa(),(a=se)?(a=q1(a,ci),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Zr!==null?{id:Ii,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},c=pw(a),c.return=o,o.child=c,Je=o,se=null)):a=null,a===null)throw Jr(o);return sm(a)?o.lanes=32:o.lanes=536870912,null}var P=p.children;return p=p.fallback,v?(aa(),v=o.mode,P=Jc({mode:"hidden",children:P},v),p=Ha(p,v,c,null),P.return=o,p.return=o,P.sibling=p,o.child=P,p=o.child,p.memoizedState=_g(c),p.childLanes=Eg(a,E,c),o.memoizedState=Sg,Ol(null,p)):(ra(o),xg(o,P))}var N=a.memoizedState;if(N!==null&&(P=N.dehydrated,P!==null)){if(b)o.flags&256?(ra(o),o.flags&=-257,o=Cg(a,o,c)):o.memoizedState!==null?(aa(),o.child=a.child,o.flags|=128,o=null):(aa(),P=p.fallback,v=o.mode,p=Jc({mode:"visible",children:p.children},v),P=Ha(P,v,c,null),P.flags|=2,p.return=o,P.return=o,p.sibling=P,o.child=p,Ka(o,a.child,null,c),p=o.child,p.memoizedState=_g(c),p.childLanes=Eg(a,E,c),o.memoizedState=Sg,o=Ol(null,p));else if(ra(o),sm(P)){if(E=P.nextSibling&&P.nextSibling.dataset,E)var q=E.dgst;E=q,p=Error(i(419)),p.stack="",p.digest=E,ml({value:p,source:null,stack:null}),o=Cg(a,o,c)}else if(Oe||Vs(a,o,c,!1),E=(c&a.childLanes)!==0,Oe||E){if(E=te,E!==null&&(p=wA(E,c),p!==0&&p!==N.retryLane))throw N.retryLane=p,Ua(a,p),Pn(E,a,p),Ag;am(P)||lh(),o=Cg(a,o,c)}else am(P)?(o.flags|=192,o.child=a.child,o=null):(a=N.treeContext,se=fi(P.nextSibling),Je=o,It=!0,Qr=null,ci=!1,a!==null&&vw(o,a),o=xg(o,p.children),o.flags|=4096);return o}return v?(aa(),P=p.fallback,v=o.mode,N=a.child,q=N.sibling,p=lr(N,{mode:"hidden",children:p.children}),p.subtreeFlags=N.subtreeFlags&65011712,q!==null?P=lr(q,P):(P=Ha(P,v,c,null),P.flags|=2),P.return=o,p.return=o,p.sibling=P,o.child=p,Ol(null,p),p=o.child,P=a.child.memoizedState,P===null?P=_g(c):(v=P.cachePool,v!==null?(N=Ce._currentValue,v=v.parent!==N?{parent:N,pool:N}:v):v=_w(),P={baseLanes:P.baseLanes|c,cachePool:v}),p.memoizedState=P,p.childLanes=Eg(a,E,c),o.memoizedState=Sg,Ol(a.child,p)):(ra(o),c=a.child,a=c.sibling,c=lr(c,{mode:"visible",children:p.children}),c.return=o,c.sibling=null,a!==null&&(E=o.deletions,E===null?(o.deletions=[a],o.flags|=16):E.push(a)),o.child=c,o.memoizedState=null,c)}function xg(a,o){return o=Jc({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Jc(a,o){return a=Gn(22,a,null,o),a.lanes=0,a}function Cg(a,o,c){return Ka(o,a.child,null,c),a=xg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function IS(a,o,c){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),Up(a.return,o,c)}function Tg(a,o,c,p,v,b){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:v,treeForkCount:b}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=v,E.treeForkCount=b)}function jS(a,o,c){var p=o.pendingProps,v=p.revealOrder,b=p.tail;p=p.children;var E=Se.current,P=(E&2)!==0;if(P?(E=E&1|2,o.flags|=128):E&=1,tt(Se,E),en(a,o,p,c),p=It?gl:0,!P&&a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&IS(a,c,o);else if(a.tag===19)IS(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)a=c.alternate,a!==null&&Uc(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),Tg(o,!1,v,c,b,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Uc(a)===null){o.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}Tg(o,!0,c,null,b,p);break;case"together":Tg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function pr(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),la|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Vs(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,c=lr(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=lr(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Og(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&kc(a)))}function tL(a,o,c){switch(o.tag){case 3:ae(o,o.stateNode.containerInfo),ta(o,Ce,a.memoizedState.cache),qa();break;case 27:case 5:_t(o);break;case 4:ae(o,o.stateNode.containerInfo);break;case 10:ta(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Jp(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ra(o),o.flags|=128,null):(c&o.child.childLanes)!==0?LS(a,o,c):(ra(o),a=pr(a,o,c),a!==null?a.sibling:null);ra(o);break;case 19:var v=(a.flags&128)!==0;if(p=(c&o.childLanes)!==0,p||(Vs(a,o,c,!1),p=(c&o.childLanes)!==0),v){if(p)return jS(a,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),tt(Se,Se.current),p)break;return null;case 22:return o.lanes=0,MS(a,o,c,o.pendingProps);case 24:ta(o,Ce,a.memoizedState.cache)}return pr(a,o,c)}function BS(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Oe=!0;else{if(!Og(a,c)&&(o.flags&128)===0)return Oe=!1,tL(a,o,c);Oe=(a.flags&131072)!==0}else Oe=!1,It&&(o.flags&1048576)!==0&&mw(o,gl,o.index);switch(o.lanes=0,o.tag){case 16:t:{var p=o.pendingProps;if(a=Ya(o.elementType),o.type=a,typeof a=="function")kp(a)?(p=Za(a,p),o.tag=1,o=kS(null,o,a,p,c)):(o.tag=0,o=wg(null,o,a,p,c));else{if(a!=null){var v=a.$$typeof;if(v===O){o.tag=11,o=CS(null,o,a,p,c);break t}else if(v===R){o.tag=14,o=TS(null,o,a,p,c);break t}}throw o=it(a)||a,Error(i(306,o,""))}}return o;case 0:return wg(a,o,o.type,o.pendingProps,c);case 1:return p=o.type,v=Za(p,o.pendingProps),kS(a,o,p,v,c);case 3:t:{if(ae(o,o.stateNode.containerInfo),a===null)throw Error(i(387));p=o.pendingProps;var b=o.memoizedState;v=b.element,Xp(a,o),_l(o,p,null,c);var E=o.memoizedState;if(p=E.cache,ta(o,Ce,p),p!==b.cache&&Hp(o,[Ce],c,!0),Sl(),p=E.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=NS(a,o,p,c);break t}else if(p!==v){v=oi(Error(i(424)),o),ml(v),o=NS(a,o,p,c);break t}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,se=fi(a.firstChild),Je=o,It=!0,Qr=null,ci=!0,c=Mw(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qa(),p===v){o=pr(a,o,c);break t}en(a,o,p,c)}o=o.child}return o;case 26:return Qc(a,o),a===null?(c=K1(o.type,null,o.pendingProps,null))?o.memoizedState=c:It||(c=o.type,a=o.pendingProps,p=gh(At.current).createElement(c),p[Qe]=o,p[xn]=a,nn(p,c,a),ze(p),o.stateNode=p):o.memoizedState=K1(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return _t(o),a===null&&It&&(p=o.stateNode=V1(o.type,o.pendingProps,At.current),Je=o,ci=!0,v=se,da(o.type)?(om=v,se=fi(p.firstChild)):se=v),en(a,o,o.pendingProps.children,c),Qc(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&It&&((v=p=se)&&(p=DL(p,o.type,o.pendingProps,ci),p!==null?(o.stateNode=p,Je=o,se=fi(p.firstChild),ci=!1,v=!0):v=!1),v||Jr(o)),_t(o),v=o.type,b=o.pendingProps,E=a!==null?a.memoizedProps:null,p=b.children,nm(v,b)?p=null:E!==null&&nm(v,E)&&(o.flags|=32),o.memoizedState!==null&&(v=eg(a,o,GN,null,null,c),ql._currentValue=v),Qc(a,o),en(a,o,p,c),o.child;case 6:return a===null&&It&&((a=c=se)&&(c=PL(c,o.pendingProps,ci),c!==null?(o.stateNode=c,Je=o,se=null,a=!0):a=!1),a||Jr(o)),null;case 13:return LS(a,o,c);case 4:return ae(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Ka(o,null,p,c):en(a,o,p,c),o.child;case 11:return CS(a,o,o.type,o.pendingProps,c);case 7:return en(a,o,o.pendingProps,c),o.child;case 8:return en(a,o,o.pendingProps.children,c),o.child;case 12:return en(a,o,o.pendingProps.children,c),o.child;case 10:return p=o.pendingProps,ta(o,o.type,p.value),en(a,o,p.children,c),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Ga(o),v=tn(v),p=p(v),o.flags|=1,en(a,o,p,c),o.child;case 14:return TS(a,o,o.type,o.pendingProps,c);case 15:return OS(a,o,o.type,o.pendingProps,c);case 19:return jS(a,o,c);case 31:return JN(a,o,c);case 22:return MS(a,o,c,o.pendingProps);case 24:return Ga(o),p=tn(Ce),a===null?(v=Gp(),v===null&&(v=te,b=qp(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=c),v=b),o.memoizedState={parent:p,cache:v},Yp(o),ta(o,Ce,v)):((a.lanes&c)!==0&&(Xp(a,o),_l(o,null,null,c),Sl()),v=a.memoizedState,b=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ta(o,Ce,p)):(p=b.cache,ta(o,Ce,p),p!==v.cache&&Hp(o,[Ce],c,!0))),en(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function gr(a){a.flags|=4}function Mg(a,o,c,p,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(h1())a.flags|=8192;else throw Xa=jc,Vp}else a.flags&=-16777217}function zS(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!t_(o))if(h1())a.flags|=8192;else throw Xa=jc,Vp}function th(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?yA():536870912,a.lanes|=o,ro|=o)}function Ml(a,o){if(!It)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function oe(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(o)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=p,a.childLanes=c,o}function eL(a,o,c){var p=o.pendingProps;switch(jp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(o),null;case 1:return oe(o),null;case 3:return c=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),hr(Ce),Z(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Gs(o)?gr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zp())),oe(o),null;case 26:var v=o.type,b=o.memoizedState;return a===null?(gr(o),b!==null?(oe(o),zS(o,b)):(oe(o),Mg(o,v,null,p,c))):b?b!==a.memoizedState?(gr(o),oe(o),zS(o,b)):(oe(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&gr(o),oe(o),Mg(o,v,a,p,c)),null;case 27:if(Mt(o),c=At.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&gr(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return oe(o),null}a=rt.current,Gs(o)?yw(o):(a=V1(v,p,c),o.stateNode=a,gr(o))}return oe(o),null;case 5:if(Mt(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&gr(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return oe(o),null}if(b=rt.current,Gs(o))yw(o);else{var E=gh(At.current);switch(b){case 1:b=E.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=E.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=E.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof p.is=="string"?E.createElement("select",{is:p.is}):E.createElement("select"),p.multiple?b.multiple=!0:p.size&&(b.size=p.size);break;default:b=typeof p.is=="string"?E.createElement(v,{is:p.is}):E.createElement(v)}}b[Qe]=o,b[xn]=p;t:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)b.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break t;for(;E.sibling===null;){if(E.return===null||E.return===o)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=b;t:switch(nn(b,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break t;case"img":p=!0;break t;default:p=!1}p&&gr(o)}}return oe(o),Mg(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&gr(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(i(166));if(a=At.current,Gs(o)){if(a=o.stateNode,c=o.memoizedProps,p=null,v=Je,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}a[Qe]=o,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||L1(a.nodeValue,c)),a||Jr(o,!0)}else a=gh(a).createTextNode(p),a[Qe]=o,o.stateNode=a}return oe(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(p=Gs(o),c!==null){if(a===null){if(!p)throw Error(i(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Qe]=o}else qa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;oe(o),a=!1}else c=zp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(Yn(o),o):(Yn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return oe(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Gs(o),p!==null&&p.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Qe]=o}else qa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;oe(o),v=!1}else v=zp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Yn(o),o):(Yn(o),null)}return Yn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==v&&(p.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),th(o,o.updateQueue),oe(o),null);case 4:return Z(),a===null&&Zg(o.stateNode.containerInfo),oe(o),null;case 10:return hr(o.type),oe(o),null;case 19:if($(Se),p=o.memoizedState,p===null)return oe(o),null;if(v=(o.flags&128)!==0,b=p.rendering,b===null)if(v)Ml(p,!1);else{if(ye!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Uc(a),b!==null){for(o.flags|=128,Ml(p,!1),a=b.updateQueue,o.updateQueue=a,th(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)dw(c,a),c=c.sibling;return tt(Se,Se.current&1|2),It&&ur(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&Un()>ah&&(o.flags|=128,v=!0,Ml(p,!1),o.lanes=4194304)}else{if(!v)if(a=Uc(b),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,th(o,a),Ml(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!It)return oe(o),null}else 2*Un()-p.renderingStartTime>ah&&c!==536870912&&(o.flags|=128,v=!0,Ml(p,!1),o.lanes=4194304);p.isBackwards?(b.sibling=o.child,o.child=b):(a=p.last,a!==null?a.sibling=b:o.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Un(),a.sibling=null,c=Se.current,tt(Se,v?c&1|2:c&1),It&&ur(o,p.treeForkCount),a):(oe(o),null);case 22:case 23:return Yn(o),Qp(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(c&536870912)!==0&&(o.flags&128)===0&&(oe(o),o.subtreeFlags&6&&(o.flags|=8192)):oe(o),c=o.updateQueue,c!==null&&th(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==c&&(o.flags|=2048),a!==null&&$(Va),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),hr(Ce),oe(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function nL(a,o){switch(jp(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return hr(Ce),Z(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Mt(o),null;case 31:if(o.memoizedState!==null){if(Yn(o),o.alternate===null)throw Error(i(340));qa()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Yn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));qa()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return $(Se),null;case 4:return Z(),null;case 10:return hr(o.type),null;case 22:case 23:return Yn(o),Qp(),a!==null&&$(Va),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return hr(Ce),null;case 25:return null;default:return null}}function FS(a,o){switch(jp(o),o.tag){case 3:hr(Ce),Z();break;case 26:case 27:case 5:Mt(o);break;case 4:Z();break;case 31:o.memoizedState!==null&&Yn(o);break;case 13:Yn(o);break;case 19:$(Se);break;case 10:hr(o.type);break;case 22:case 23:Yn(o),Qp(),a!==null&&$(Va);break;case 24:hr(Ce)}}function Dl(a,o){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&a)===a){p=void 0;var b=c.create,E=c.inst;p=b(),E.destroy=p}c=c.next}while(c!==v)}}catch(P){Xt(o,o.return,P)}}function sa(a,o,c){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var b=v.next;p=b;do{if((p.tag&a)===a){var E=p.inst,P=E.destroy;if(P!==void 0){E.destroy=void 0,v=o;var N=c,q=P;try{q()}catch(W){Xt(v,N,W)}}}p=p.next}while(p!==b)}}catch(W){Xt(o,o.return,W)}}function US(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{Pw(o,c)}catch(p){Xt(a,a.return,p)}}}function HS(a,o,c){c.props=Za(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){Xt(a,o,p)}}function Pl(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(v){Xt(a,o,v)}}function Bi(a,o){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(v){Xt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Xt(a,o,v)}else c.current=null}function qS(a){var o=a.type,c=a.memoizedProps,p=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break t;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(v){Xt(a,a.return,v)}}function Dg(a,o,c){try{var p=a.stateNode;EL(p,a.type,c,o),p[xn]=o}catch(v){Xt(a,a.return,v)}}function $S(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&da(a.type)||a.tag===4}function Pg(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||$S(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&da(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Rg(a,o,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=sr));else if(p!==4&&(p===27&&da(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Rg(a,o,c),a=a.sibling;a!==null;)Rg(a,o,c),a=a.sibling}function eh(a,o,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(p!==4&&(p===27&&da(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(eh(a,o,c),a=a.sibling;a!==null;)eh(a,o,c),a=a.sibling}function GS(a){var o=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);nn(o,p,c),o[Qe]=a,o[xn]=c}catch(b){Xt(a,a.return,b)}}var mr=!1,Me=!1,kg=!1,VS=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function iL(a,o){if(a=a.containerInfo,tm=Sh,a=rw(a),Cp(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else t:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var v=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var E=0,P=-1,N=-1,q=0,W=0,J=a,V=null;e:for(;;){for(var Y;J!==c||v!==0&&J.nodeType!==3||(P=E+v),J!==b||p!==0&&J.nodeType!==3||(N=E+p),J.nodeType===3&&(E+=J.nodeValue.length),(Y=J.firstChild)!==null;)V=J,J=Y;for(;;){if(J===a)break e;if(V===c&&++q===v&&(P=E),V===b&&++W===p&&(N=E),(Y=J.nextSibling)!==null)break;J=V,V=J.parentNode}J=Y}c=P===-1||N===-1?null:{start:P,end:N}}else c=null}c=c||{start:0,end:0}}else c=null;for(em={focusedElem:a,selectionRange:c},Sh=!1,Fe=o;Fe!==null;)if(o=Fe,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Fe=a;else for(;Fe!==null;){switch(o=Fe,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=o,v=b.memoizedProps,b=b.memoizedState,p=c.stateNode;try{var ft=Za(c.type,v);a=p.getSnapshotBeforeUpdate(ft,b),p.__reactInternalSnapshotBeforeUpdate=a}catch(St){Xt(c,c.return,St)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)rm(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":rm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,Fe=a;break}Fe=o.return}}function YS(a,o,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:yr(a,c),p&4&&Dl(5,c);break;case 1:if(yr(a,c),p&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(E){Xt(c,c.return,E)}else{var v=Za(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(c,c.return,E)}}p&64&&US(c),p&512&&Pl(c,c.return);break;case 3:if(yr(a,c),p&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Pw(a,o)}catch(E){Xt(c,c.return,E)}}break;case 27:o===null&&p&4&&GS(c);case 26:case 5:yr(a,c),o===null&&p&4&&qS(c),p&512&&Pl(c,c.return);break;case 12:yr(a,c);break;case 31:yr(a,c),p&4&&WS(a,c);break;case 13:yr(a,c),p&4&&ZS(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=fL.bind(null,c),RL(a,c))));break;case 22:if(p=c.memoizedState!==null||mr,!p){o=o!==null&&o.memoizedState!==null||Me,v=mr;var b=Me;mr=p,(Me=o)&&!b?br(a,c,(c.subtreeFlags&8772)!==0):yr(a,c),mr=v,Me=b}break;case 30:break;default:yr(a,c)}}function XS(a){var o=a.alternate;o!==null&&(a.alternate=null,XS(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&up(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ue=null,Tn=!1;function vr(a,o,c){for(c=c.child;c!==null;)KS(a,o,c),c=c.sibling}function KS(a,o,c){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(el,c)}catch{}switch(c.tag){case 26:Me||Bi(c,o),vr(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Me||Bi(c,o);var p=ue,v=Tn;da(c.type)&&(ue=c.stateNode,Tn=!1),vr(a,o,c),Fl(c.stateNode),ue=p,Tn=v;break;case 5:Me||Bi(c,o);case 6:if(p=ue,v=Tn,ue=null,vr(a,o,c),ue=p,Tn=v,ue!==null)if(Tn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(c.stateNode)}catch(b){Xt(c,o,b)}else try{ue.removeChild(c.stateNode)}catch(b){Xt(c,o,b)}break;case 18:ue!==null&&(Tn?(a=ue,U1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),fo(a)):U1(ue,c.stateNode));break;case 4:p=ue,v=Tn,ue=c.stateNode.containerInfo,Tn=!0,vr(a,o,c),ue=p,Tn=v;break;case 0:case 11:case 14:case 15:sa(2,c,o),Me||sa(4,c,o),vr(a,o,c);break;case 1:Me||(Bi(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"&&HS(c,o,p)),vr(a,o,c);break;case 21:vr(a,o,c);break;case 22:Me=(p=Me)||c.memoizedState!==null,vr(a,o,c),Me=p;break;default:vr(a,o,c)}}function WS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{fo(a)}catch(c){Xt(o,o.return,c)}}}function ZS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{fo(a)}catch(c){Xt(o,o.return,c)}}function rL(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new VS),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new VS),o;default:throw Error(i(435,a.tag))}}function nh(a,o){var c=rL(a);o.forEach(function(p){if(!c.has(p)){c.add(p);var v=dL.bind(null,a,p);p.then(v,v)}})}function On(a,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var v=c[p],b=a,E=o,P=E;t:for(;P!==null;){switch(P.tag){case 27:if(da(P.type)){ue=P.stateNode,Tn=!1;break t}break;case 5:ue=P.stateNode,Tn=!1;break t;case 3:case 4:ue=P.stateNode.containerInfo,Tn=!0;break t}P=P.return}if(ue===null)throw Error(i(160));KS(b,E,v),ue=null,Tn=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)QS(o,a),o=o.sibling}var Ti=null;function QS(a,o){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:On(o,a),Mn(a),p&4&&(sa(3,a,a.return),Dl(3,a),sa(5,a,a.return));break;case 1:On(o,a),Mn(a),p&512&&(Me||c===null||Bi(c,c.return)),p&64&&mr&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var v=Ti;if(On(o,a),Mn(a),p&512&&(Me||c===null||Bi(c,c.return)),p&4){var b=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){t:{p=a.type,c=a.memoizedProps,v=v.ownerDocument||v;e:switch(p){case"title":b=v.getElementsByTagName("title")[0],(!b||b[rl]||b[Qe]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(p),v.head.insertBefore(b,v.querySelector("head > title"))),nn(b,p,c),b[Qe]=a,ze(b),p=b;break t;case"link":var E=Q1("link","href",v).get(p+(c.href||""));if(E){for(var P=0;P<E.length;P++)if(b=E[P],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(P,1);break e}}b=v.createElement(p),nn(b,p,c),v.head.appendChild(b);break;case"meta":if(E=Q1("meta","content",v).get(p+(c.content||""))){for(P=0;P<E.length;P++)if(b=E[P],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(P,1);break e}}b=v.createElement(p),nn(b,p,c),v.head.appendChild(b);break;default:throw Error(i(468,p))}b[Qe]=a,ze(b),p=b}a.stateNode=p}else J1(v,a.type,a.stateNode);else a.stateNode=Z1(v,p,a.memoizedProps);else b!==p?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,p===null?J1(v,a.type,a.stateNode):Z1(v,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Dg(a,a.memoizedProps,c.memoizedProps)}break;case 27:On(o,a),Mn(a),p&512&&(Me||c===null||Bi(c,c.return)),c!==null&&p&4&&Dg(a,a.memoizedProps,c.memoizedProps);break;case 5:if(On(o,a),Mn(a),p&512&&(Me||c===null||Bi(c,c.return)),a.flags&32){v=a.stateNode;try{Ls(v,"")}catch(ft){Xt(a,a.return,ft)}}p&4&&a.stateNode!=null&&(v=a.memoizedProps,Dg(a,v,c!==null?c.memoizedProps:v)),p&1024&&(kg=!0);break;case 6:if(On(o,a),Mn(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(ft){Xt(a,a.return,ft)}}break;case 3:if(yh=null,v=Ti,Ti=mh(o.containerInfo),On(o,a),Ti=v,Mn(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{fo(o.containerInfo)}catch(ft){Xt(a,a.return,ft)}kg&&(kg=!1,JS(a));break;case 4:p=Ti,Ti=mh(a.stateNode.containerInfo),On(o,a),Mn(a),Ti=p;break;case 12:On(o,a),Mn(a);break;case 31:On(o,a),Mn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nh(a,p)));break;case 13:On(o,a),Mn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(rh=Un()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nh(a,p)));break;case 22:v=a.memoizedState!==null;var N=c!==null&&c.memoizedState!==null,q=mr,W=Me;if(mr=q||v,Me=W||N,On(o,a),Me=W,mr=q,Mn(a),p&8192)t:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||N||mr||Me||Qa(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){N=c=o;try{if(b=N.stateNode,v)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{P=N.stateNode;var J=N.memoizedProps.style,V=J!=null&&J.hasOwnProperty("display")?J.display:null;P.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ft){Xt(N,N.return,ft)}}}else if(o.tag===6){if(c===null){N=o;try{N.stateNode.nodeValue=v?"":N.memoizedProps}catch(ft){Xt(N,N.return,ft)}}}else if(o.tag===18){if(c===null){N=o;try{var Y=N.stateNode;v?H1(Y,!0):H1(N.stateNode,!1)}catch(ft){Xt(N,N.return,ft)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,nh(a,c))));break;case 19:On(o,a),Mn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nh(a,p)));break;case 30:break;case 21:break;default:On(o,a),Mn(a)}}function Mn(a){var o=a.flags;if(o&2){try{for(var c,p=a.return;p!==null;){if($S(p)){c=p;break}p=p.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var v=c.stateNode,b=Pg(a);eh(a,b,v);break;case 5:var E=c.stateNode;c.flags&32&&(Ls(E,""),c.flags&=-33);var P=Pg(a);eh(a,P,E);break;case 3:case 4:var N=c.stateNode.containerInfo,q=Pg(a);Rg(a,q,N);break;default:throw Error(i(161))}}catch(W){Xt(a,a.return,W)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function JS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;JS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function yr(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)YS(a,o.alternate,o),o=o.sibling}function Qa(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:sa(4,o,o.return),Qa(o);break;case 1:Bi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&HS(o,o.return,c),Qa(o);break;case 27:Fl(o.stateNode);case 26:case 5:Bi(o,o.return),Qa(o);break;case 22:o.memoizedState===null&&Qa(o);break;case 30:Qa(o);break;default:Qa(o)}a=a.sibling}}function br(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=a,b=o,E=b.flags;switch(b.tag){case 0:case 11:case 15:br(v,b,c),Dl(4,b);break;case 1:if(br(v,b,c),p=b,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(q){Xt(p,p.return,q)}if(p=b,v=p.updateQueue,v!==null){var P=p.stateNode;try{var N=v.shared.hiddenCallbacks;if(N!==null)for(v.shared.hiddenCallbacks=null,v=0;v<N.length;v++)Dw(N[v],P)}catch(q){Xt(p,p.return,q)}}c&&E&64&&US(b),Pl(b,b.return);break;case 27:GS(b);case 26:case 5:br(v,b,c),c&&p===null&&E&4&&qS(b),Pl(b,b.return);break;case 12:br(v,b,c);break;case 31:br(v,b,c),c&&E&4&&WS(v,b);break;case 13:br(v,b,c),c&&E&4&&ZS(v,b);break;case 22:b.memoizedState===null&&br(v,b,c),Pl(b,b.return);break;case 30:break;default:br(v,b,c)}o=o.sibling}}function Ng(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&vl(c))}function Lg(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vl(a))}function Oi(a,o,c,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)t1(a,o,c,p),o=o.sibling}function t1(a,o,c,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(a,o,c,p),v&2048&&Dl(9,o);break;case 1:Oi(a,o,c,p);break;case 3:Oi(a,o,c,p),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vl(a)));break;case 12:if(v&2048){Oi(a,o,c,p),a=o.stateNode;try{var b=o.memoizedProps,E=b.id,P=b.onPostCommit;typeof P=="function"&&P(E,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(N){Xt(o,o.return,N)}}else Oi(a,o,c,p);break;case 31:Oi(a,o,c,p);break;case 13:Oi(a,o,c,p);break;case 23:break;case 22:b=o.stateNode,E=o.alternate,o.memoizedState!==null?b._visibility&2?Oi(a,o,c,p):Rl(a,o):b._visibility&2?Oi(a,o,c,p):(b._visibility|=2,eo(a,o,c,p,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Ng(E,o);break;case 24:Oi(a,o,c,p),v&2048&&Lg(o.alternate,o);break;default:Oi(a,o,c,p)}}function eo(a,o,c,p,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,E=o,P=c,N=p,q=E.flags;switch(E.tag){case 0:case 11:case 15:eo(b,E,P,N,v),Dl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?eo(b,E,P,N,v):Rl(b,E):(W._visibility|=2,eo(b,E,P,N,v)),v&&q&2048&&Ng(E.alternate,E);break;case 24:eo(b,E,P,N,v),v&&q&2048&&Lg(E.alternate,E);break;default:eo(b,E,P,N,v)}o=o.sibling}}function Rl(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,p=o,v=p.flags;switch(p.tag){case 22:Rl(c,p),v&2048&&Ng(p.alternate,p);break;case 24:Rl(c,p),v&2048&&Lg(p.alternate,p);break;default:Rl(c,p)}o=o.sibling}}var kl=8192;function no(a,o,c){if(a.subtreeFlags&kl)for(a=a.child;a!==null;)e1(a,o,c),a=a.sibling}function e1(a,o,c){switch(a.tag){case 26:no(a,o,c),a.flags&kl&&a.memoizedState!==null&&$L(c,Ti,a.memoizedState,a.memoizedProps);break;case 5:no(a,o,c);break;case 3:case 4:var p=Ti;Ti=mh(a.stateNode.containerInfo),no(a,o,c),Ti=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=kl,kl=16777216,no(a,o,c),kl=p):no(a,o,c));break;default:no(a,o,c)}}function n1(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Nl(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];Fe=p,r1(p,a)}n1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)i1(a),a=a.sibling}function i1(a){switch(a.tag){case 0:case 11:case 15:Nl(a),a.flags&2048&&sa(9,a,a.return);break;case 3:Nl(a);break;case 12:Nl(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,ih(a)):Nl(a);break;default:Nl(a)}}function ih(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];Fe=p,r1(p,a)}n1(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:sa(8,o,o.return),ih(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,ih(o));break;default:ih(o)}a=a.sibling}}function r1(a,o){for(;Fe!==null;){var c=Fe;switch(c.tag){case 0:case 11:case 15:sa(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:vl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Fe=p;else t:for(c=a;Fe!==null;){p=Fe;var v=p.sibling,b=p.return;if(XS(p),p===c){Fe=null;break t}if(v!==null){v.return=b,Fe=v;break t}Fe=b}}}var aL={getCacheForType:function(a){var o=tn(Ce),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return tn(Ce).controller.signal}},sL=typeof WeakMap=="function"?WeakMap:Map,qt=0,te=null,Pt=null,Nt=0,Yt=0,Xn=null,oa=!1,io=!1,Ig=!1,Ar=0,ye=0,la=0,Ja=0,jg=0,Kn=0,ro=0,Ll=null,Dn=null,Bg=!1,rh=0,a1=0,ah=1/0,sh=null,ua=null,ke=0,ca=null,ao=null,wr=0,zg=0,Fg=null,s1=null,Il=0,Ug=null;function Wn(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:I.T!==null?Yg():SA()}function o1(){if(Kn===0)if((Nt&536870912)===0||It){var a=pc;pc<<=1,(pc&3932160)===0&&(pc=262144),Kn=a}else Kn=536870912;return a=Vn.current,a!==null&&(a.flags|=32),Kn}function Pn(a,o,c){(a===te&&(Yt===2||Yt===9)||a.cancelPendingCommit!==null)&&(so(a,0),ha(a,Nt,Kn,!1)),il(a,c),((qt&2)===0||a!==te)&&(a===te&&((qt&2)===0&&(Ja|=c),ye===4&&ha(a,Nt,Kn,!1)),zi(a))}function l1(a,o,c){if((qt&6)!==0)throw Error(i(327));var p=!c&&(o&127)===0&&(o&a.expiredLanes)===0||nl(a,o),v=p?uL(a,o):qg(a,o,!0),b=p;do{if(v===0){io&&!p&&ha(a,o,0,!1);break}else{if(c=a.current.alternate,b&&!oL(c)){v=qg(a,o,!1),b=!1;continue}if(v===2){if(b=o,a.errorRecoveryDisabledLanes&b)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;t:{var P=a;v=Ll;var N=P.current.memoizedState.isDehydrated;if(N&&(so(P,E).flags|=256),E=qg(P,E,!1),E!==2){if(Ig&&!N){P.errorRecoveryDisabledLanes|=b,Ja|=b,v=4;break t}b=Dn,Dn=v,b!==null&&(Dn===null?Dn=b:Dn.push.apply(Dn,b))}v=E}if(b=!1,v!==2)continue}}if(v===1){so(a,0),ha(a,o,0,!0);break}t:{switch(p=a,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:ha(p,o,Kn,!oa);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(v=rh+300-Un(),10<v)){if(ha(p,o,Kn,!oa),mc(p,0,!0)!==0)break t;wr=o,p.timeoutHandle=z1(u1.bind(null,p,c,Dn,sh,Bg,o,Kn,Ja,ro,oa,b,"Throttled",-0,0),v);break t}u1(p,c,Dn,sh,Bg,o,Kn,Ja,ro,oa,b,null,-0,0)}}break}while(!0);zi(a)}function u1(a,o,c,p,v,b,E,P,N,q,W,J,V,Y){if(a.timeoutHandle=-1,J=o.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},e1(o,b,J);var ft=(b&62914560)===b?rh-Un():(b&4194048)===b?a1-Un():0;if(ft=GL(J,ft),ft!==null){wr=b,a.cancelPendingCommit=ft(v1.bind(null,a,o,b,c,p,v,E,P,N,W,J,null,V,Y)),ha(a,b,E,!q);return}}v1(a,o,b,c,p,v,E,P,N)}function oL(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var v=c[p],b=v.getSnapshot;v=v.value;try{if(!$n(b(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ha(a,o,c,p){o&=~jg,o&=~Ja,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var v=o;0<v;){var b=31-qn(v),E=1<<b;p[b]=-1,v&=~E}c!==0&&bA(a,c,o)}function oh(){return(qt&6)===0?(jl(0),!1):!0}function Hg(){if(Pt!==null){if(Yt===0)var a=Pt.return;else a=Pt,cr=$a=null,rg(a),Ws=null,bl=0,a=Pt;for(;a!==null;)FS(a.alternate,a),a=a.return;Pt=null}}function so(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,TL(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),wr=0,Hg(),te=a,Pt=c=lr(a.current,null),Nt=o,Yt=0,Xn=null,oa=!1,io=nl(a,o),Ig=!1,ro=Kn=jg=Ja=la=ye=0,Dn=Ll=null,Bg=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var v=31-qn(p),b=1<<v;o|=a[v],p&=~b}return Ar=o,Oc(),c}function c1(a,o){Ot=null,I.H=Tl,o===Ks||o===Ic?(o=Cw(),Yt=3):o===Vp?(o=Cw(),Yt=4):Yt=o===Ag?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Xn=o,Pt===null&&(ye=1,Wc(a,oi(o,a.current)))}function h1(){var a=Vn.current;return a===null?!0:(Nt&4194048)===Nt?hi===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?a===hi:!1}function f1(){var a=I.H;return I.H=Tl,a===null?Tl:a}function d1(){var a=I.A;return I.A=aL,a}function lh(){ye=4,oa||(Nt&4194048)!==Nt&&Vn.current!==null||(io=!0),(la&134217727)===0&&(Ja&134217727)===0||te===null||ha(te,Nt,Kn,!1)}function qg(a,o,c){var p=qt;qt|=2;var v=f1(),b=d1();(te!==a||Nt!==o)&&(sh=null,so(a,o)),o=!1;var E=ye;t:do try{if(Yt!==0&&Pt!==null){var P=Pt,N=Xn;switch(Yt){case 8:Hg(),E=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(o=!0);var q=Yt;if(Yt=0,Xn=null,oo(a,P,N,q),c&&io){E=0;break t}break;default:q=Yt,Yt=0,Xn=null,oo(a,P,N,q)}}lL(),E=ye;break}catch(W){c1(a,W)}while(!0);return o&&a.shellSuspendCounter++,cr=$a=null,qt=p,I.H=v,I.A=b,Pt===null&&(te=null,Nt=0,Oc()),E}function lL(){for(;Pt!==null;)p1(Pt)}function uL(a,o){var c=qt;qt|=2;var p=f1(),v=d1();te!==a||Nt!==o?(sh=null,ah=Un()+500,so(a,o)):io=nl(a,o);t:do try{if(Yt!==0&&Pt!==null){o=Pt;var b=Xn;e:switch(Yt){case 1:Yt=0,Xn=null,oo(a,o,b,1);break;case 2:case 9:if(Ew(b)){Yt=0,Xn=null,g1(o);break}o=function(){Yt!==2&&Yt!==9||te!==a||(Yt=7),zi(a)},b.then(o,o);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ew(b)?(Yt=0,Xn=null,g1(o)):(Yt=0,Xn=null,oo(a,o,b,7));break;case 5:var E=null;switch(Pt.tag){case 26:E=Pt.memoizedState;case 5:case 27:var P=Pt;if(E?t_(E):P.stateNode.complete){Yt=0,Xn=null;var N=P.sibling;if(N!==null)Pt=N;else{var q=P.return;q!==null?(Pt=q,uh(q)):Pt=null}break e}}Yt=0,Xn=null,oo(a,o,b,5);break;case 6:Yt=0,Xn=null,oo(a,o,b,6);break;case 8:Hg(),ye=6;break t;default:throw Error(i(462))}}cL();break}catch(W){c1(a,W)}while(!0);return cr=$a=null,I.H=p,I.A=v,qt=c,Pt!==null?0:(te=null,Nt=0,Oc(),ye)}function cL(){for(;Pt!==null&&!kk();)p1(Pt)}function p1(a){var o=BS(a.alternate,a,Ar);a.memoizedProps=a.pendingProps,o===null?uh(a):Pt=o}function g1(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=RS(c,o,o.pendingProps,o.type,void 0,Nt);break;case 11:o=RS(c,o,o.pendingProps,o.type.render,o.ref,Nt);break;case 5:rg(o);default:FS(c,o),o=Pt=dw(o,Ar),o=BS(c,o,Ar)}a.memoizedProps=a.pendingProps,o===null?uh(a):Pt=o}function oo(a,o,c,p){cr=$a=null,rg(o),Ws=null,bl=0;var v=o.return;try{if(QN(a,v,o,c,Nt)){ye=1,Wc(a,oi(c,a.current)),Pt=null;return}}catch(b){if(v!==null)throw Pt=v,b;ye=1,Wc(a,oi(c,a.current)),Pt=null;return}o.flags&32768?(It||p===1?a=!0:io||(Nt&536870912)!==0?a=!1:(oa=a=!0,(p===2||p===9||p===3||p===6)&&(p=Vn.current,p!==null&&p.tag===13&&(p.flags|=16384))),m1(o,a)):uh(o)}function uh(a){var o=a;do{if((o.flags&32768)!==0){m1(o,oa);return}a=o.return;var c=eL(o.alternate,o,Ar);if(c!==null){Pt=c;return}if(o=o.sibling,o!==null){Pt=o;return}Pt=o=a}while(o!==null);ye===0&&(ye=5)}function m1(a,o){do{var c=nL(a.alternate,a);if(c!==null){c.flags&=32767,Pt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Pt=a;return}Pt=a=c}while(a!==null);ye=6,Pt=null}function v1(a,o,c,p,v,b,E,P,N){a.cancelPendingCommit=null;do ch();while(ke!==0);if((qt&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=Pp,qk(a,c,b,E,P,N),a===te&&(Pt=te=null,Nt=0),ao=o,ca=a,wr=c,zg=b,Fg=v,s1=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,pL(fc,function(){return S1(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=I.T,I.T=null,v=F.p,F.p=2,E=qt,qt|=4;try{iL(a,o,c)}finally{qt=E,F.p=v,I.T=p}}ke=1,y1(),b1(),A1()}}function y1(){if(ke===1){ke=0;var a=ca,o=ao,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=I.T,I.T=null;var p=F.p;F.p=2;var v=qt;qt|=4;try{QS(o,a);var b=em,E=rw(a.containerInfo),P=b.focusedElem,N=b.selectionRange;if(E!==P&&P&&P.ownerDocument&&iw(P.ownerDocument.documentElement,P)){if(N!==null&&Cp(P)){var q=N.start,W=N.end;if(W===void 0&&(W=q),"selectionStart"in P)P.selectionStart=q,P.selectionEnd=Math.min(W,P.value.length);else{var J=P.ownerDocument||document,V=J&&J.defaultView||window;if(V.getSelection){var Y=V.getSelection(),ft=P.textContent.length,St=Math.min(N.start,ft),Qt=N.end===void 0?St:Math.min(N.end,ft);!Y.extend&&St>Qt&&(E=Qt,Qt=St,St=E);var B=nw(P,St),j=nw(P,Qt);if(B&&j&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var H=J.createRange();H.setStart(B.node,B.offset),Y.removeAllRanges(),St>Qt?(Y.addRange(H),Y.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),Y.addRange(H))}}}}for(J=[],Y=P;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<J.length;P++){var Q=J[P];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sh=!!tm,em=tm=null}finally{qt=v,F.p=p,I.T=c}}a.current=o,ke=2}}function b1(){if(ke===2){ke=0;var a=ca,o=ao,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=I.T,I.T=null;var p=F.p;F.p=2;var v=qt;qt|=4;try{YS(a,o.alternate,o)}finally{qt=v,F.p=p,I.T=c}}ke=3}}function A1(){if(ke===4||ke===3){ke=0,Nk();var a=ca,o=ao,c=wr,p=s1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ke=5:(ke=0,ao=ca=null,w1(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(ua=null),op(c),o=o.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(el,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=I.T,v=F.p,F.p=2,I.T=null;try{for(var b=a.onRecoverableError,E=0;E<p.length;E++){var P=p[E];b(P.value,{componentStack:P.stack})}}finally{I.T=o,F.p=v}}(wr&3)!==0&&ch(),zi(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===Ug?Il++:(Il=0,Ug=a):Il=0,jl(0)}}function w1(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,vl(o)))}function ch(){return y1(),b1(),A1(),S1()}function S1(){if(ke!==5)return!1;var a=ca,o=zg;zg=0;var c=op(wr),p=I.T,v=F.p;try{F.p=32>c?32:c,I.T=null,c=Fg,Fg=null;var b=ca,E=wr;if(ke=0,ao=ca=null,wr=0,(qt&6)!==0)throw Error(i(331));var P=qt;if(qt|=4,i1(b.current),t1(b,b.current,E,c),qt=P,jl(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(el,b)}catch{}return!0}finally{F.p=v,I.T=p,w1(a,o)}}function _1(a,o,c){o=oi(c,o),o=bg(a.stateNode,o,2),a=ia(a,o,2),a!==null&&(il(a,2),zi(a))}function Xt(a,o,c){if(a.tag===3)_1(a,a,c);else for(;o!==null;){if(o.tag===3){_1(o,a,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ua===null||!ua.has(p))){a=oi(c,a),c=ES(2),p=ia(o,c,2),p!==null&&(xS(c,p,o,a),il(p,2),zi(p));break}}o=o.return}}function $g(a,o,c){var p=a.pingCache;if(p===null){p=a.pingCache=new sL;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(c)||(Ig=!0,v.add(c),a=hL.bind(null,a,o,c),o.then(a,a))}function hL(a,o,c){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,te===a&&(Nt&c)===c&&(ye===4||ye===3&&(Nt&62914560)===Nt&&300>Un()-rh?(qt&2)===0&&so(a,0):jg|=c,ro===Nt&&(ro=0)),zi(a)}function E1(a,o){o===0&&(o=yA()),a=Ua(a,o),a!==null&&(il(a,o),zi(a))}function fL(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),E1(a,c)}function dL(a,o){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(o),E1(a,c)}function pL(a,o){return ip(a,o)}var hh=null,lo=null,Gg=!1,fh=!1,Vg=!1,fa=0;function zi(a){a!==lo&&a.next===null&&(lo===null?hh=lo=a:lo=lo.next=a),fh=!0,Gg||(Gg=!0,mL())}function jl(a,o){if(!Vg&&fh){Vg=!0;do for(var c=!1,p=hh;p!==null;){if(a!==0){var v=p.pendingLanes;if(v===0)var b=0;else{var E=p.suspendedLanes,P=p.pingedLanes;b=(1<<31-qn(42|a)+1)-1,b&=v&~(E&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,O1(p,b))}else b=Nt,b=mc(p,p===te?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||nl(p,b)||(c=!0,O1(p,b));p=p.next}while(c);Vg=!1}}function gL(){x1()}function x1(){fh=Gg=!1;var a=0;fa!==0&&CL()&&(a=fa);for(var o=Un(),c=null,p=hh;p!==null;){var v=p.next,b=C1(p,o);b===0?(p.next=null,c===null?hh=v:c.next=v,v===null&&(lo=c)):(c=p,(a!==0||(b&3)!==0)&&(fh=!0)),p=v}ke!==0&&ke!==5||jl(a),fa!==0&&(fa=0)}function C1(a,o){for(var c=a.suspendedLanes,p=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var E=31-qn(b),P=1<<E,N=v[E];N===-1?((P&c)===0||(P&p)!==0)&&(v[E]=Hk(P,o)):N<=o&&(a.expiredLanes|=P),b&=~P}if(o=te,c=Nt,c=mc(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===o&&(Yt===2||Yt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&rp(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||nl(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(p!==null&&rp(p),op(c)){case 2:case 8:c=mA;break;case 32:c=fc;break;case 268435456:c=vA;break;default:c=fc}return p=T1.bind(null,a),c=ip(c,p),a.callbackPriority=o,a.callbackNode=c,o}return p!==null&&p!==null&&rp(p),a.callbackPriority=2,a.callbackNode=null,2}function T1(a,o){if(ke!==0&&ke!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(ch()&&a.callbackNode!==c)return null;var p=Nt;return p=mc(a,a===te?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(l1(a,p,o),C1(a,Un()),a.callbackNode!=null&&a.callbackNode===c?T1.bind(null,a):null)}function O1(a,o){if(ch())return null;l1(a,o,!0)}function mL(){OL(function(){(qt&6)!==0?ip(gA,gL):x1()})}function Yg(){if(fa===0){var a=Ys;a===0&&(a=dc,dc<<=1,(dc&261888)===0&&(dc=256)),fa=a}return fa}function M1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ac(""+a)}function D1(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function vL(a,o,c,p,v){if(o==="submit"&&c&&c.stateNode===v){var b=M1((v[xn]||null).action),E=p.submitter;E&&(o=(o=E[xn]||null)?M1(o.formAction):E.getAttribute("formAction"),o!==null&&(b=o,E=null));var P=new Ec("action","action",null,p,v);a.push({event:P,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(fa!==0){var N=E?D1(v,E):new FormData(v);dg(c,{pending:!0,data:N,method:v.method,action:b},null,N)}}else typeof b=="function"&&(P.preventDefault(),N=E?D1(v,E):new FormData(v),dg(c,{pending:!0,data:N,method:v.method,action:b},b,N))},currentTarget:v}]})}}for(var Xg=0;Xg<Dp.length;Xg++){var Kg=Dp[Xg],yL=Kg.toLowerCase(),bL=Kg[0].toUpperCase()+Kg.slice(1);Ci(yL,"on"+bL)}Ci(ow,"onAnimationEnd"),Ci(lw,"onAnimationIteration"),Ci(uw,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(LN,"onTransitionRun"),Ci(IN,"onTransitionStart"),Ci(jN,"onTransitionCancel"),Ci(cw,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function P1(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],v=p.event;p=p.listeners;t:{var b=void 0;if(o)for(var E=p.length-1;0<=E;E--){var P=p[E],N=P.instance,q=P.currentTarget;if(P=P.listener,N!==b&&v.isPropagationStopped())break t;b=P,v.currentTarget=q;try{b(v)}catch(W){Tc(W)}v.currentTarget=null,b=N}else for(E=0;E<p.length;E++){if(P=p[E],N=P.instance,q=P.currentTarget,P=P.listener,N!==b&&v.isPropagationStopped())break t;b=P,v.currentTarget=q;try{b(v)}catch(W){Tc(W)}v.currentTarget=null,b=N}}}}function Rt(a,o){var c=o[lp];c===void 0&&(c=o[lp]=new Set);var p=a+"__bubble";c.has(p)||(R1(o,a,2,!1),c.add(p))}function Wg(a,o,c){var p=0;o&&(p|=4),R1(c,a,p,o)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Zg(a){if(!a[dh]){a[dh]=!0,xA.forEach(function(c){c!=="selectionchange"&&(AL.has(c)||Wg(c,!1,a),Wg(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[dh]||(o[dh]=!0,Wg("selectionchange",!1,o))}}function R1(a,o,c,p){switch(o_(o)){case 2:var v=XL;break;case 8:v=KL;break;default:v=fm}c=v.bind(null,o,c,a),v=void 0,!vp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?a.addEventListener(o,c,{capture:!0,passive:v}):a.addEventListener(o,c,!0):v!==void 0?a.addEventListener(o,c,{passive:v}):a.addEventListener(o,c,!1)}function Qg(a,o,c,p,v){var b=p;if((o&1)===0&&(o&2)===0&&p!==null)t:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var P=p.stateNode.containerInfo;if(P===v)break;if(E===4)for(E=p.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===v)return;E=E.return}for(;P!==null;){if(E=Ds(P),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){p=b=E;continue t}P=P.parentNode}}p=p.return}jA(function(){var q=b,W=gp(c),J=[];t:{var V=hw.get(a);if(V!==void 0){var Y=Ec,ft=a;switch(a){case"keypress":if(Sc(c)===0)break t;case"keydown":case"keyup":Y=dN;break;case"focusin":ft="focus",Y=wp;break;case"focusout":ft="blur",Y=wp;break;case"beforeblur":case"afterblur":Y=wp;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=FA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=eN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=mN;break;case ow:case lw:case uw:Y=rN;break;case cw:Y=yN;break;case"scroll":case"scrollend":Y=Jk;break;case"wheel":Y=AN;break;case"copy":case"cut":case"paste":Y=sN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=HA;break;case"toggle":case"beforetoggle":Y=SN}var St=(o&4)!==0,Qt=!St&&(a==="scroll"||a==="scrollend"),B=St?V!==null?V+"Capture":null:V;St=[];for(var j=q,H;j!==null;){var Q=j;if(H=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||H===null||B===null||(Q=sl(j,B),Q!=null&&St.push(zl(j,Q,H))),Qt)break;j=j.return}0<St.length&&(V=new Y(V,ft,null,c,W),J.push({event:V,listeners:St}))}}if((o&7)===0){t:{if(V=a==="mouseover"||a==="pointerover",Y=a==="mouseout"||a==="pointerout",V&&c!==pp&&(ft=c.relatedTarget||c.fromElement)&&(Ds(ft)||ft[Ms]))break t;if((Y||V)&&(V=W.window===W?W:(V=W.ownerDocument)?V.defaultView||V.parentWindow:window,Y?(ft=c.relatedTarget||c.toElement,Y=q,ft=ft?Ds(ft):null,ft!==null&&(Qt=s(ft),St=ft.tag,ft!==Qt||St!==5&&St!==27&&St!==6)&&(ft=null)):(Y=null,ft=q),Y!==ft)){if(St=FA,Q="onMouseLeave",B="onMouseEnter",j="mouse",(a==="pointerout"||a==="pointerover")&&(St=HA,Q="onPointerLeave",B="onPointerEnter",j="pointer"),Qt=Y==null?V:al(Y),H=ft==null?V:al(ft),V=new St(Q,j+"leave",Y,c,W),V.target=Qt,V.relatedTarget=H,Q=null,Ds(W)===q&&(St=new St(B,j+"enter",ft,c,W),St.target=H,St.relatedTarget=Qt,Q=St),Qt=Q,Y&&ft)e:{for(St=wL,B=Y,j=ft,H=0,Q=B;Q;Q=St(Q))H++;Q=0;for(var yt=j;yt;yt=St(yt))Q++;for(;0<H-Q;)B=St(B),H--;for(;0<Q-H;)j=St(j),Q--;for(;H--;){if(B===j||j!==null&&B===j.alternate){St=B;break e}B=St(B),j=St(j)}St=null}else St=null;Y!==null&&k1(J,V,Y,St,!1),ft!==null&&Qt!==null&&k1(J,Qt,ft,St,!0)}}t:{if(V=q?al(q):window,Y=V.nodeName&&V.nodeName.toLowerCase(),Y==="select"||Y==="input"&&V.type==="file")var zt=WA;else if(XA(V))if(ZA)zt=RN;else{zt=DN;var pt=MN}else Y=V.nodeName,!Y||Y.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?q&&dp(q.elementType)&&(zt=WA):zt=PN;if(zt&&(zt=zt(a,q))){KA(J,zt,c,W);break t}pt&&pt(a,V,q),a==="focusout"&&q&&V.type==="number"&&q.memoizedProps.value!=null&&fp(V,"number",V.value)}switch(pt=q?al(q):window,a){case"focusin":(XA(pt)||pt.contentEditable==="true")&&(zs=pt,Tp=q,pl=null);break;case"focusout":pl=Tp=zs=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,aw(J,c,W);break;case"selectionchange":if(NN)break;case"keydown":case"keyup":aw(J,c,W)}var Dt;if(_p)t:{switch(a){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Bs?VA(a,c)&&(Lt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Lt="onCompositionStart");Lt&&(qA&&c.locale!=="ko"&&(Bs||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Bs&&(Dt=BA()):(Wr=W,yp="value"in Wr?Wr.value:Wr.textContent,Bs=!0)),pt=ph(q,Lt),0<pt.length&&(Lt=new UA(Lt,a,null,c,W),J.push({event:Lt,listeners:pt}),Dt?Lt.data=Dt:(Dt=YA(c),Dt!==null&&(Lt.data=Dt)))),(Dt=EN?xN(a,c):CN(a,c))&&(Lt=ph(q,"onBeforeInput"),0<Lt.length&&(pt=new UA("onBeforeInput","beforeinput",null,c,W),J.push({event:pt,listeners:Lt}),pt.data=Dt)),vL(J,a,q,c,W)}P1(J,o)})}function zl(a,o,c){return{instance:a,listener:o,currentTarget:c}}function ph(a,o){for(var c=o+"Capture",p=[];a!==null;){var v=a,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=sl(a,c),v!=null&&p.unshift(zl(a,v,b)),v=sl(a,o),v!=null&&p.push(zl(a,v,b))),a.tag===3)return p;a=a.return}return[]}function wL(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function k1(a,o,c,p,v){for(var b=o._reactName,E=[];c!==null&&c!==p;){var P=c,N=P.alternate,q=P.stateNode;if(P=P.tag,N!==null&&N===p)break;P!==5&&P!==26&&P!==27||q===null||(N=q,v?(q=sl(c,b),q!=null&&E.unshift(zl(c,q,N))):v||(q=sl(c,b),q!=null&&E.push(zl(c,q,N)))),c=c.return}E.length!==0&&a.push({event:o,listeners:E})}var SL=/\r\n?/g,_L=/\u0000|\uFFFD/g;function N1(a){return(typeof a=="string"?a:""+a).replace(SL,`
`).replace(_L,"")}function L1(a,o){return o=N1(o),N1(a)===o}function Zt(a,o,c,p,v,b){switch(c){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Ls(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Ls(a,""+p);break;case"className":yc(a,"class",p);break;case"tabIndex":yc(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":yc(a,c,p);break;case"style":LA(a,p,b);break;case"data":if(o!=="object"){yc(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Ac(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&Zt(a,o,"name",v.name,v,null),Zt(a,o,"formEncType",v.formEncType,v,null),Zt(a,o,"formMethod",v.formMethod,v,null),Zt(a,o,"formTarget",v.formTarget,v,null)):(Zt(a,o,"encType",v.encType,v,null),Zt(a,o,"method",v.method,v,null),Zt(a,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Ac(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=sr);break;case"onScroll":p!=null&&Rt("scroll",a);break;case"onScrollEnd":p!=null&&Rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=Ac(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":Rt("beforetoggle",a),Rt("toggle",a),vc(a,"popover",p);break;case"xlinkActuate":ar(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ar(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ar(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ar(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ar(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ar(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ar(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ar(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ar(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":vc(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Zk.get(c)||c,vc(a,c,p))}}function Jg(a,o,c,p,v,b){switch(c){case"style":LA(a,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"children":typeof p=="string"?Ls(a,p):(typeof p=="number"||typeof p=="bigint")&&Ls(a,""+p);break;case"onScroll":p!=null&&Rt("scroll",a);break;case"onScrollEnd":p!=null&&Rt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!CA.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),b=a[xn]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(o,b,v),typeof p=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,p,v);break t}c in a?a[c]=p:p===!0?a.setAttribute(c,""):vc(a,c,p)}}}function nn(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",a),Rt("load",a);var p=!1,v=!1,b;for(b in c)if(c.hasOwnProperty(b)){var E=c[b];if(E!=null)switch(b){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Zt(a,o,b,E,c,null)}}v&&Zt(a,o,"srcSet",c.srcSet,c,null),p&&Zt(a,o,"src",c.src,c,null);return;case"input":Rt("invalid",a);var P=b=E=v=null,N=null,q=null;for(p in c)if(c.hasOwnProperty(p)){var W=c[p];if(W!=null)switch(p){case"name":v=W;break;case"type":E=W;break;case"checked":N=W;break;case"defaultChecked":q=W;break;case"value":b=W;break;case"defaultValue":P=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:Zt(a,o,p,W,c,null)}}PA(a,b,P,N,q,E,v,!1);return;case"select":Rt("invalid",a),p=E=b=null;for(v in c)if(c.hasOwnProperty(v)&&(P=c[v],P!=null))switch(v){case"value":b=P;break;case"defaultValue":E=P;break;case"multiple":p=P;default:Zt(a,o,v,P,c,null)}o=b,c=E,a.multiple=!!p,o!=null?Ns(a,!!p,o,!1):c!=null&&Ns(a,!!p,c,!0);return;case"textarea":Rt("invalid",a),b=v=p=null;for(E in c)if(c.hasOwnProperty(E)&&(P=c[E],P!=null))switch(E){case"value":p=P;break;case"defaultValue":v=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:Zt(a,o,E,P,c,null)}kA(a,p,v,b);return;case"option":for(N in c)c.hasOwnProperty(N)&&(p=c[N],p!=null)&&(N==="selected"?a.selected=p&&typeof p!="function"&&typeof p!="symbol":Zt(a,o,N,p,c,null));return;case"dialog":Rt("beforetoggle",a),Rt("toggle",a),Rt("cancel",a),Rt("close",a);break;case"iframe":case"object":Rt("load",a);break;case"video":case"audio":for(p=0;p<Bl.length;p++)Rt(Bl[p],a);break;case"image":Rt("error",a),Rt("load",a);break;case"details":Rt("toggle",a);break;case"embed":case"source":case"link":Rt("error",a),Rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(p=c[q],p!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Zt(a,o,q,p,c,null)}return;default:if(dp(o)){for(W in c)c.hasOwnProperty(W)&&(p=c[W],p!==void 0&&Jg(a,o,W,p,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(p=c[P],p!=null&&Zt(a,o,P,p,c,null))}function EL(a,o,c,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,E=null,P=null,N=null,q=null,W=null;for(Y in c){var J=c[Y];if(c.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=J;default:p.hasOwnProperty(Y)||Zt(a,o,Y,null,p,J)}}for(var V in p){var Y=p[V];if(J=c[V],p.hasOwnProperty(V)&&(Y!=null||J!=null))switch(V){case"type":b=Y;break;case"name":v=Y;break;case"checked":q=Y;break;case"defaultChecked":W=Y;break;case"value":E=Y;break;case"defaultValue":P=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,o));break;default:Y!==J&&Zt(a,o,V,Y,p,J)}}hp(a,E,P,N,q,W,b,v);return;case"select":Y=E=P=V=null;for(b in c)if(N=c[b],c.hasOwnProperty(b)&&N!=null)switch(b){case"value":break;case"multiple":Y=N;default:p.hasOwnProperty(b)||Zt(a,o,b,null,p,N)}for(v in p)if(b=p[v],N=c[v],p.hasOwnProperty(v)&&(b!=null||N!=null))switch(v){case"value":V=b;break;case"defaultValue":P=b;break;case"multiple":E=b;default:b!==N&&Zt(a,o,v,b,p,N)}o=P,c=E,p=Y,V!=null?Ns(a,!!c,V,!1):!!p!=!!c&&(o!=null?Ns(a,!!c,o,!0):Ns(a,!!c,c?[]:"",!1));return;case"textarea":Y=V=null;for(P in c)if(v=c[P],c.hasOwnProperty(P)&&v!=null&&!p.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Zt(a,o,P,null,p,v)}for(E in p)if(v=p[E],b=c[E],p.hasOwnProperty(E)&&(v!=null||b!=null))switch(E){case"value":V=v;break;case"defaultValue":Y=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&Zt(a,o,E,v,p,b)}RA(a,V,Y);return;case"option":for(var ft in c)V=c[ft],c.hasOwnProperty(ft)&&V!=null&&!p.hasOwnProperty(ft)&&(ft==="selected"?a.selected=!1:Zt(a,o,ft,null,p,V));for(N in p)V=p[N],Y=c[N],p.hasOwnProperty(N)&&V!==Y&&(V!=null||Y!=null)&&(N==="selected"?a.selected=V&&typeof V!="function"&&typeof V!="symbol":Zt(a,o,N,V,p,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in c)V=c[St],c.hasOwnProperty(St)&&V!=null&&!p.hasOwnProperty(St)&&Zt(a,o,St,null,p,V);for(q in p)if(V=p[q],Y=c[q],p.hasOwnProperty(q)&&V!==Y&&(V!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,o));break;default:Zt(a,o,q,V,p,Y)}return;default:if(dp(o)){for(var Qt in c)V=c[Qt],c.hasOwnProperty(Qt)&&V!==void 0&&!p.hasOwnProperty(Qt)&&Jg(a,o,Qt,void 0,p,V);for(W in p)V=p[W],Y=c[W],!p.hasOwnProperty(W)||V===Y||V===void 0&&Y===void 0||Jg(a,o,W,V,p,Y);return}}for(var B in c)V=c[B],c.hasOwnProperty(B)&&V!=null&&!p.hasOwnProperty(B)&&Zt(a,o,B,null,p,V);for(J in p)V=p[J],Y=c[J],!p.hasOwnProperty(J)||V===Y||V==null&&Y==null||Zt(a,o,J,V,p,Y)}function I1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xL(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var v=c[p],b=v.transferSize,E=v.initiatorType,P=v.duration;if(b&&P&&I1(E)){for(E=0,P=v.responseEnd,p+=1;p<c.length;p++){var N=c[p],q=N.startTime;if(q>P)break;var W=N.transferSize,J=N.initiatorType;W&&I1(J)&&(N=N.responseEnd,E+=W*(N<P?1:(P-q)/(N-q)))}if(--p,o+=8*(b+E)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var tm=null,em=null;function gh(a){return a.nodeType===9?a:a.ownerDocument}function j1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function nm(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var im=null;function CL(){var a=window.event;return a&&a.type==="popstate"?a===im?!1:(im=a,!0):(im=null,!1)}var z1=typeof setTimeout=="function"?setTimeout:void 0,TL=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,OL=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(a){return F1.resolve(null).then(a).catch(ML)}:z1;function ML(a){setTimeout(function(){throw a})}function da(a){return a==="head"}function U1(a,o){var c=o,p=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(v),fo(o);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Fl(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Fl(c);for(var b=c.firstChild;b;){var E=b.nextSibling,P=b.nodeName;b[rl]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=E}}else c==="body"&&Fl(a.ownerDocument.body);c=v}while(c);fo(o)}function H1(a,o){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function rm(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":rm(c),up(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function DL(a,o,c,p){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[rl])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=fi(a.nextSibling),a===null)break}return null}function PL(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=fi(a.nextSibling),a===null))return null;return a}function q1(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=fi(a.nextSibling),a===null))return null;return a}function am(a){return a.data==="$?"||a.data==="$~"}function sm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function RL(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var p=function(){o(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function fi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var om=null;function $1(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return fi(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function G1(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function V1(a,o,c){switch(o=gh(c),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Fl(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);up(a)}var di=new Map,Y1=new Set;function mh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Sr=F.d;F.d={f:kL,r:NL,D:LL,C:IL,L:jL,m:BL,X:FL,S:zL,M:UL};function kL(){var a=Sr.f(),o=oh();return a||o}function NL(a){var o=Ps(a);o!==null&&o.tag===5&&o.type==="form"?cS(o):Sr.r(a)}var uo=typeof document>"u"?null:document;function X1(a,o,c){var p=uo;if(p&&typeof o=="string"&&o){var v=ai(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),Y1.has(v)||(Y1.add(v),a={rel:a,crossOrigin:c,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),nn(o,"link",a),ze(o),p.head.appendChild(o)))}}function LL(a){Sr.D(a),X1("dns-prefetch",a,null)}function IL(a,o){Sr.C(a,o),X1("preconnect",a,o)}function jL(a,o,c){Sr.L(a,o,c);var p=uo;if(p&&a&&o){var v='link[rel="preload"][as="'+ai(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+ai(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+ai(c.imageSizes)+'"]')):v+='[href="'+ai(a)+'"]';var b=v;switch(o){case"style":b=co(a);break;case"script":b=ho(a)}di.has(b)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),di.set(b,a),p.querySelector(v)!==null||o==="style"&&p.querySelector(Ul(b))||o==="script"&&p.querySelector(Hl(b))||(o=p.createElement("link"),nn(o,"link",a),ze(o),p.head.appendChild(o)))}}function BL(a,o){Sr.m(a,o);var c=uo;if(c&&a){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+ai(p)+'"][href="'+ai(a)+'"]',b=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ho(a)}if(!di.has(b)&&(a=g({rel:"modulepreload",href:a},o),di.set(b,a),c.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Hl(b)))return}p=c.createElement("link"),nn(p,"link",a),ze(p),c.head.appendChild(p)}}}function zL(a,o,c){Sr.S(a,o,c);var p=uo;if(p&&a){var v=Rs(p).hoistableStyles,b=co(a);o=o||"default";var E=v.get(b);if(!E){var P={loading:0,preload:null};if(E=p.querySelector(Ul(b)))P.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=di.get(b))&&lm(a,c);var N=E=p.createElement("link");ze(N),nn(N,"link",a),N._p=new Promise(function(q,W){N.onload=q,N.onerror=W}),N.addEventListener("load",function(){P.loading|=1}),N.addEventListener("error",function(){P.loading|=2}),P.loading|=4,vh(E,o,p)}E={type:"stylesheet",instance:E,count:1,state:P},v.set(b,E)}}}function FL(a,o){Sr.X(a,o);var c=uo;if(c&&a){var p=Rs(c).hoistableScripts,v=ho(a),b=p.get(v);b||(b=c.querySelector(Hl(v)),b||(a=g({src:a,async:!0},o),(o=di.get(v))&&um(a,o),b=c.createElement("script"),ze(b),nn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(v,b))}}function UL(a,o){Sr.M(a,o);var c=uo;if(c&&a){var p=Rs(c).hoistableScripts,v=ho(a),b=p.get(v);b||(b=c.querySelector(Hl(v)),b||(a=g({src:a,async:!0,type:"module"},o),(o=di.get(v))&&um(a,o),b=c.createElement("script"),ze(b),nn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(v,b))}}function K1(a,o,c,p){var v=(v=At.current)?mh(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=co(c.href),c=Rs(v).hoistableStyles,p=c.get(o),p||(p={type:"style",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=co(c.href);var b=Rs(v).hoistableStyles,E=b.get(a);if(E||(v=v.ownerDocument||v,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,E),(b=v.querySelector(Ul(a)))&&!b._p&&(E.instance=b,E.state.loading=5),di.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},di.set(a,c),b||HL(v,a,c,E.state))),o&&p===null)throw Error(i(528,""));return E}if(o&&p!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ho(c),c=Rs(v).hoistableScripts,p=c.get(o),p||(p={type:"script",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function co(a){return'href="'+ai(a)+'"'}function Ul(a){return'link[rel="stylesheet"]['+a+"]"}function W1(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function HL(a,o,c,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),nn(o,"link",c),ze(o),a.head.appendChild(o))}function ho(a){return'[src="'+ai(a)+'"]'}function Hl(a){return"script[async]"+a}function Z1(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+ai(c.href)+'"]');if(p)return o.instance=p,ze(p),p;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),ze(p),nn(p,"style",v),vh(p,c.precedence,a),o.instance=p;case"stylesheet":v=co(c.href);var b=a.querySelector(Ul(v));if(b)return o.state.loading|=4,o.instance=b,ze(b),b;p=W1(c),(v=di.get(v))&&lm(p,v),b=(a.ownerDocument||a).createElement("link"),ze(b);var E=b;return E._p=new Promise(function(P,N){E.onload=P,E.onerror=N}),nn(b,"link",p),o.state.loading|=4,vh(b,c.precedence,a),o.instance=b;case"script":return b=ho(c.src),(v=a.querySelector(Hl(b)))?(o.instance=v,ze(v),v):(p=c,(v=di.get(b))&&(p=g({},c),um(p,v)),a=a.ownerDocument||a,v=a.createElement("script"),ze(v),nn(v,"link",p),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,vh(p,c.precedence,a));return o.instance}function vh(a,o,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,b=v,E=0;E<p.length;E++){var P=p[E];if(P.dataset.precedence===o)b=P;else if(b!==v)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function lm(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function um(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var yh=null;function Q1(a,o,c){if(yh===null){var p=new Map,v=yh=new Map;v.set(c,p)}else v=yh,p=v.get(c),p||(p=new Map,v.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var b=c[v];if(!(b[rl]||b[Qe]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(o)||"";E=a+E;var P=p.get(E);P?P.push(b):p.set(E,[b])}}return p}function J1(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function qL(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function t_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function $L(a,o,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=co(p.href),b=o.querySelector(Ul(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=bh.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=b,ze(b);return}b=o.ownerDocument||o,p=W1(p),(v=di.get(v))&&lm(p,v),b=b.createElement("link"),ze(b);var E=b;E._p=new Promise(function(P,N){E.onload=P,E.onerror=N}),nn(b,"link",p),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=bh.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var cm=0;function GL(a,o){return a.stylesheets&&a.count===0&&wh(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&wh(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&cm===0&&(cm=62500*xL());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&wh(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>cm?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ah=null;function wh(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ah=new Map,o.forEach(VL,a),Ah=null,bh.call(a))}function VL(a,o){if(!(o.state.loading&4)){var c=Ah.get(a);if(c)var p=c.get(null);else{c=new Map,Ah.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var E=v[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),p=E)}p&&c.set(null,p)}v=o.instance,E=v.getAttribute("data-precedence"),b=c.get(E)||p,b===p&&c.set(null,v),c.set(E,v),this.count++,p=bh.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),b?b.parentNode.insertBefore(v,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var ql={$$typeof:x,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function YL(a,o,c,p,v,b,E,P,N){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ap(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.hiddenUpdates=ap(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function e_(a,o,c,p,v,b,E,P,N,q,W,J){return a=new YL(a,o,c,E,N,q,W,J,P),o=1,b===!0&&(o|=24),b=Gn(3,null,null,o),a.current=b,b.stateNode=a,o=qp(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:p,isDehydrated:c,cache:o},Yp(b),a}function n_(a){return a?(a=Hs,a):Hs}function i_(a,o,c,p,v,b){v=n_(v),p.context===null?p.context=v:p.pendingContext=v,p=na(o),p.payload={element:c},b=b===void 0?null:b,b!==null&&(p.callback=b),c=ia(a,p,o),c!==null&&(Pn(c,a,o),wl(c,a,o))}function r_(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function hm(a,o){r_(a,o),(a=a.alternate)&&r_(a,o)}function a_(a){if(a.tag===13||a.tag===31){var o=Ua(a,67108864);o!==null&&Pn(o,a,67108864),hm(a,67108864)}}function s_(a){if(a.tag===13||a.tag===31){var o=Wn();o=sp(o);var c=Ua(a,o);c!==null&&Pn(c,a,o),hm(a,o)}}var Sh=!0;function XL(a,o,c,p){var v=I.T;I.T=null;var b=F.p;try{F.p=2,fm(a,o,c,p)}finally{F.p=b,I.T=v}}function KL(a,o,c,p){var v=I.T;I.T=null;var b=F.p;try{F.p=8,fm(a,o,c,p)}finally{F.p=b,I.T=v}}function fm(a,o,c,p){if(Sh){var v=dm(p);if(v===null)Qg(a,o,p,_h,c),l_(a,p);else if(ZL(v,a,o,c,p))p.stopPropagation();else if(l_(a,p),o&4&&-1<WL.indexOf(a)){for(;v!==null;){var b=Ps(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=Ia(b.pendingLanes);if(E!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;E;){var N=1<<31-qn(E);P.entanglements[1]|=N,E&=~N}zi(b),(qt&6)===0&&(ah=Un()+500,jl(0))}}break;case 31:case 13:P=Ua(b,2),P!==null&&Pn(P,b,2),oh(),hm(b,2)}if(b=dm(p),b===null&&Qg(a,o,p,_h,c),b===v)break;v=b}v!==null&&p.stopPropagation()}else Qg(a,o,p,null,c)}}function dm(a){return a=gp(a),pm(a)}var _h=null;function pm(a){if(_h=null,a=Ds(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return _h=a,null}function o_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lk()){case gA:return 2;case mA:return 8;case fc:case Ik:return 32;case vA:return 268435456;default:return 32}default:return 32}}var gm=!1,pa=null,ga=null,ma=null,$l=new Map,Gl=new Map,va=[],WL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(a,o){switch(a){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":$l.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(o.pointerId)}}function Vl(a,o,c,p,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:b,targetContainers:[v]},o!==null&&(o=Ps(o),o!==null&&a_(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function ZL(a,o,c,p,v){switch(o){case"focusin":return pa=Vl(pa,a,o,c,p,v),!0;case"dragenter":return ga=Vl(ga,a,o,c,p,v),!0;case"mouseover":return ma=Vl(ma,a,o,c,p,v),!0;case"pointerover":var b=v.pointerId;return $l.set(b,Vl($l.get(b)||null,a,o,c,p,v)),!0;case"gotpointercapture":return b=v.pointerId,Gl.set(b,Vl(Gl.get(b)||null,a,o,c,p,v)),!0}return!1}function u_(a){var o=Ds(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,_A(a.priority,function(){s_(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,_A(a.priority,function(){s_(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Eh(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=dm(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);pp=p,c.target.dispatchEvent(p),pp=null}else return o=Ps(c),o!==null&&a_(o),a.blockedOn=c,!1;o.shift()}return!0}function c_(a,o,c){Eh(a)&&c.delete(o)}function QL(){gm=!1,pa!==null&&Eh(pa)&&(pa=null),ga!==null&&Eh(ga)&&(ga=null),ma!==null&&Eh(ma)&&(ma=null),$l.forEach(c_),Gl.forEach(c_)}function xh(a,o){a.blockedOn===o&&(a.blockedOn=null,gm||(gm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QL)))}var Ch=null;function h_(a){Ch!==a&&(Ch=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ch===a&&(Ch=null);for(var o=0;o<a.length;o+=3){var c=a[o],p=a[o+1],v=a[o+2];if(typeof p!="function"){if(pm(p||c)===null)continue;break}var b=Ps(c);b!==null&&(a.splice(o,3),o-=3,dg(b,{pending:!0,data:v,method:c.method,action:p},p,v))}}))}function fo(a){function o(N){return xh(N,a)}pa!==null&&xh(pa,a),ga!==null&&xh(ga,a),ma!==null&&xh(ma,a),$l.forEach(o),Gl.forEach(o);for(var c=0;c<va.length;c++){var p=va[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<va.length&&(c=va[0],c.blockedOn===null);)u_(c),c.blockedOn===null&&va.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var v=c[p],b=c[p+1],E=v[xn]||null;if(typeof b=="function")E||h_(c);else if(E){var P=null;if(b&&b.hasAttribute("formAction")){if(v=b,E=b[xn]||null)P=E.formAction;else if(pm(v)!==null)continue}else P=E.action;typeof P=="function"?c[p+1]=P:(c.splice(p,3),p-=3),h_(c)}}}function f_(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(E){return v=E})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function mm(a){this._internalRoot=a}Th.prototype.render=mm.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,p=Wn();i_(c,p,a,o,null,null)},Th.prototype.unmount=mm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;i_(a.current,2,null,a,null,null),oh(),o[Ms]=null}};function Th(a){this._internalRoot=a}Th.prototype.unstable_scheduleHydration=function(a){if(a){var o=SA();a={blockedOn:null,target:a,priority:o};for(var c=0;c<va.length&&o!==0&&o<va[c].priority;c++);va.splice(c,0,a),c===0&&u_(a)}};var d_=t.version;if(d_!=="19.2.4")throw Error(i(527,d_,"19.2.4"));F.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var JL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{el=Oh.inject(JL),Hn=Oh}catch{}}return Xl.createRoot=function(a,o){if(!r(a))throw Error(i(299));var c=!1,p="",v=AS,b=wS,E=SS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=e_(a,1,!1,null,null,c,p,null,v,b,E,f_),a[Ms]=o.current,Zg(a),new mm(o)},Xl.hydrateRoot=function(a,o,c){if(!r(a))throw Error(i(299));var p=!1,v="",b=AS,E=wS,P=SS,N=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.formState!==void 0&&(N=c.formState)),o=e_(a,1,!0,o,c??null,p,v,N,b,E,P,f_),o.context=n_(null),c=o.current,p=Wn(),p=sp(p),v=na(p),v.callback=null,ia(c,v,p),c=p,o.current.lanes=c,il(o,c),zi(o),a[Ms]=o.current,Zg(a),new Th(o)},Xl.version="19.2.4",Xl}var x_;function hI(){if(x_)return Am.exports;x_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Am.exports=cI(),Am.exports}var fI=hI(),C_;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(C_||(C_={}));var T_;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(T_||(T_={}));var O_;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(O_||(O_={}));const M_=["user","model","function","system"];var D_;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(D_||(D_={}));var P_;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(P_||(P_={}));var R_;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(R_||(R_={}));var k_;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(k_||(k_={}));var gu;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(gu||(gu={}));var N_;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(N_||(N_={}));var L_;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(L_||(L_={}));var I_;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(I_||(I_={}));class gn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class po extends gn{constructor(t,e){super(t),this.response=e}}class nM extends gn{constructor(t,e,i,r){super(t),this.status=e,this.statusText=i,this.errorDetails=r}}class Ca extends gn{}class iM extends gn{}const dI="https://generativelanguage.googleapis.com",pI="v1beta",gI="0.24.1",mI="genai-js";var gs;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(gs||(gs={}));class vI{constructor(t,e,i,r,s){this.model=t,this.task=e,this.apiKey=i,this.stream=r,this.requestOptions=s}toString(){var t,e;const i=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||pI;let s=`${((e=this.requestOptions)===null||e===void 0?void 0:e.baseUrl)||dI}/${i}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function yI(n){const t=[];return n?.apiClient&&t.push(n.apiClient),t.push(`${mI}/${gI}`),t.join(" ")}async function bI(n){var t;const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",yI(n.requestOptions)),e.append("x-goog-api-key",n.apiKey);let i=(t=n.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(r){throw new Ca(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${r.message}`)}for(const[r,s]of i.entries()){if(r==="x-goog-api-key")throw new Ca(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Ca(`Header name ${r} can only be set using the apiClient field`);e.append(r,s)}}return e}async function AI(n,t,e,i,r,s){const l=new vI(n,t,e,i,s);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},EI(s)),{method:"POST",headers:await bI(l),body:r})}}async function Hu(n,t,e,i,r,s={},l=fetch){const{url:u,fetchOptions:h}=await AI(n,t,e,i,r,s);return wI(u,h,l)}async function wI(n,t,e=fetch){let i;try{i=await e(n,t)}catch(r){SI(r,n)}return i.ok||await _I(i,n),i}function SI(n,t){let e=n;throw e.name==="AbortError"?(e=new iM(`Request aborted when fetching ${t.toString()}: ${n.message}`),e.stack=n.stack):n instanceof nM||n instanceof Ca||(e=new gn(`Error fetching from ${t.toString()}: ${n.message}`),e.stack=n.stack),e}async function _I(n,t){let e="",i;try{const r=await n.json();e=r.error.message,r.error.details&&(e+=` ${JSON.stringify(r.error.details)}`,i=r.error.details)}catch{}throw new nM(`Error fetching from ${t.toString()}: [${n.status} ${n.statusText}] ${e}`,n.status,n.statusText,i)}function EI(n){const t={};if(n?.signal!==void 0||n?.timeout>=0){const e=new AbortController;n?.timeout>=0&&setTimeout(()=>e.abort(),n.timeout),n?.signal&&n.signal.addEventListener("abort",()=>{e.abort()}),t.signal=e.signal}return t}function S0(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),tf(n.candidates[0]))throw new po(`${ba(n)}`,n);return xI(n)}else if(n.promptFeedback)throw new po(`Text not available. ${ba(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),tf(n.candidates[0]))throw new po(`${ba(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),j_(n)[0]}else if(n.promptFeedback)throw new po(`Function call not available. ${ba(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),tf(n.candidates[0]))throw new po(`${ba(n)}`,n);return j_(n)}else if(n.promptFeedback)throw new po(`Function call not available. ${ba(n)}`,n)},n}function xI(n){var t,e,i,r;const s=[];if(!((e=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||e===void 0)&&e.parts)for(const l of(r=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)l.text&&s.push(l.text),l.executableCode&&s.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&s.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function j_(n){var t,e,i,r;const s=[];if(!((e=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||e===void 0)&&e.parts)for(const l of(r=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)l.functionCall&&s.push(l.functionCall);if(s.length>0)return s}const CI=[gu.RECITATION,gu.SAFETY,gu.LANGUAGE];function tf(n){return!!n.finishReason&&CI.includes(n.finishReason)}function ba(n){var t,e,i;let r="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)r+="Response was blocked",!((t=n.promptFeedback)===null||t===void 0)&&t.blockReason&&(r+=` due to ${n.promptFeedback.blockReason}`),!((e=n.promptFeedback)===null||e===void 0)&&e.blockReasonMessage&&(r+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((i=n.candidates)===null||i===void 0)&&i[0]){const s=n.candidates[0];tf(s)&&(r+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(r+=`: ${s.finishMessage}`))}return r}function yu(n){return this instanceof yu?(this.v=n,this):new yu(n)}function TI(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,s=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(m){i[m]&&(r[m]=function(y){return new Promise(function(A,w){s.push([m,y,A,w])>1||u(m,y)})})}function u(m,y){try{h(i[m](y))}catch(A){g(s[0][3],A)}}function h(m){m.value instanceof yu?Promise.resolve(m.value.v).then(f,d):g(s[0][2],m)}function f(m){u("next",m)}function d(m){u("throw",m)}function g(m,y){m(y),s.shift(),s.length&&u(s[0][0],s[0][1])}}const B_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function OI(n){const t=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),e=PI(t),[i,r]=e.tee();return{stream:DI(i),response:MI(r)}}async function MI(n){const t=[],e=n.getReader();for(;;){const{done:i,value:r}=await e.read();if(i)return S0(RI(t));t.push(r)}}function DI(n){return TI(this,arguments,function*(){const e=n.getReader();for(;;){const{value:i,done:r}=yield yu(e.read());if(r)break;yield yield yu(S0(i))}})}function PI(n){const t=n.getReader();return new ReadableStream({start(i){let r="";return s();function s(){return t.read().then(({value:l,done:u})=>{if(u){if(r.trim()){i.error(new gn("Failed to parse stream"));return}i.close();return}r+=l;let h=r.match(B_),f;for(;h;){try{f=JSON.parse(h[1])}catch{i.error(new gn(`Error parsing JSON response: "${h[1]}"`));return}i.enqueue(f),r=r.substring(h[0].length),h=r.match(B_)}return s()}).catch(l=>{let u=l;throw u.stack=l.stack,u.name==="AbortError"?u=new iM("Request aborted when reading from the stream"):u=new gn("Error reading from the stream"),u})}}})}function RI(n){const t=n[n.length-1],e={promptFeedback:t?.promptFeedback};for(const i of n){if(i.candidates){let r=0;for(const s of i.candidates)if(e.candidates||(e.candidates=[]),e.candidates[r]||(e.candidates[r]={index:r}),e.candidates[r].citationMetadata=s.citationMetadata,e.candidates[r].groundingMetadata=s.groundingMetadata,e.candidates[r].finishReason=s.finishReason,e.candidates[r].finishMessage=s.finishMessage,e.candidates[r].safetyRatings=s.safetyRatings,s.content&&s.content.parts){e.candidates[r].content||(e.candidates[r].content={role:s.content.role||"user",parts:[]});const l={};for(const u of s.content.parts)u.text&&(l.text=u.text),u.functionCall&&(l.functionCall=u.functionCall),u.executableCode&&(l.executableCode=u.executableCode),u.codeExecutionResult&&(l.codeExecutionResult=u.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),e.candidates[r].content.parts.push(l)}r++}i.usageMetadata&&(e.usageMetadata=i.usageMetadata)}return e}async function rM(n,t,e,i){const r=await Hu(t,gs.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(e),i);return OI(r)}async function aM(n,t,e,i){const s=await(await Hu(t,gs.GENERATE_CONTENT,n,!1,JSON.stringify(e),i)).json();return{response:S0(s)}}function sM(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function bu(n){let t=[];if(typeof n=="string")t=[{text:n}];else for(const e of n)typeof e=="string"?t.push({text:e}):t.push(e);return kI(t)}function kI(n){const t={role:"user",parts:[]},e={role:"function",parts:[]};let i=!1,r=!1;for(const s of n)"functionResponse"in s?(e.parts.push(s),r=!0):(t.parts.push(s),i=!0);if(i&&r)throw new gn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!r)throw new gn("No content is provided for sending chat message.");return i?t:e}function NI(n,t){var e;let i={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(e=t?.cachedContent)===null||e===void 0?void 0:e.name,contents:[]};const r=n.generateContentRequest!=null;if(n.contents){if(r)throw new Ca("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=n.contents}else if(r)i=Object.assign(Object.assign({},i),n.generateContentRequest);else{const s=bu(n);i.contents=[s]}return{generateContentRequest:i}}function z_(n){let t;return n.contents?t=n:t={contents:[bu(n)]},n.systemInstruction&&(t.systemInstruction=sM(n.systemInstruction)),t}function LI(n){return typeof n=="string"||Array.isArray(n)?{content:bu(n)}:n}const F_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],II={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function jI(n){let t=!1;for(const e of n){const{role:i,parts:r}=e;if(!t&&i!=="user")throw new gn(`First content should be with role 'user', got ${i}`);if(!M_.includes(i))throw new gn(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(M_)}`);if(!Array.isArray(r))throw new gn("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new gn("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of r)for(const h of F_)h in u&&(s[h]+=1);const l=II[i];for(const u of F_)if(!l.includes(u)&&s[u]>0)throw new gn(`Content with role '${i}' can't contain '${u}' part`);t=!0}}function U_(n){var t;if(n.candidates===void 0||n.candidates.length===0)return!1;const e=(t=n.candidates[0])===null||t===void 0?void 0:t.content;if(e===void 0||e.parts===void 0||e.parts.length===0)return!1;for(const i of e.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}const H_="SILENT_ERROR";class BI{constructor(t,e,i,r={}){this.model=e,this.params=i,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,i?.history&&(jI(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,e={}){var i,r,s,l,u,h;await this._sendPromise;const f=bu(t),d={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,f]},g=Object.assign(Object.assign({},this._requestOptions),e);let m;return this._sendPromise=this._sendPromise.then(()=>aM(this._apiKey,this.model,d,g)).then(y=>{var A;if(U_(y.response)){this._history.push(f);const w=Object.assign({parts:[],role:"model"},(A=y.response.candidates)===null||A===void 0?void 0:A[0].content);this._history.push(w)}else{const w=ba(y.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}m=y}).catch(y=>{throw this._sendPromise=Promise.resolve(),y}),await this._sendPromise,m}async sendMessageStream(t,e={}){var i,r,s,l,u,h;await this._sendPromise;const f=bu(t),d={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,f]},g=Object.assign(Object.assign({},this._requestOptions),e),m=rM(this._apiKey,this.model,d,g);return this._sendPromise=this._sendPromise.then(()=>m).catch(y=>{throw new Error(H_)}).then(y=>y.response).then(y=>{if(U_(y)){this._history.push(f);const A=Object.assign({},y.candidates[0].content);A.role||(A.role="model"),this._history.push(A)}else{const A=ba(y);A&&console.warn(`sendMessageStream() was unsuccessful. ${A}. Inspect response object for details.`)}}).catch(y=>{y.message!==H_&&console.error(y)}),m}}async function zI(n,t,e,i){return(await Hu(t,gs.COUNT_TOKENS,n,!1,JSON.stringify(e),i)).json()}async function FI(n,t,e,i){return(await Hu(t,gs.EMBED_CONTENT,n,!1,JSON.stringify(e),i)).json()}async function UI(n,t,e,i){const r=e.requests.map(l=>Object.assign(Object.assign({},l),{model:t}));return(await Hu(t,gs.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:r}),i)).json()}class q_{constructor(t,e,i={}){this.apiKey=t,this._requestOptions=i,e.model.includes("/")?this.model=e.model:this.model=`models/${e.model}`,this.generationConfig=e.generationConfig||{},this.safetySettings=e.safetySettings||[],this.tools=e.tools,this.toolConfig=e.toolConfig,this.systemInstruction=sM(e.systemInstruction),this.cachedContent=e.cachedContent}async generateContent(t,e={}){var i;const r=z_(t),s=Object.assign(Object.assign({},this._requestOptions),e);return aM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}async generateContentStream(t,e={}){var i;const r=z_(t),s=Object.assign(Object.assign({},this._requestOptions),e);return rM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}startChat(t){var e;return new BI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(e=this.cachedContent)===null||e===void 0?void 0:e.name},t),this._requestOptions)}async countTokens(t,e={}){const i=NI(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),e);return zI(this.apiKey,this.model,i,r)}async embedContent(t,e={}){const i=LI(t),r=Object.assign(Object.assign({},this._requestOptions),e);return FI(this.apiKey,this.model,i,r)}async batchEmbedContents(t,e={}){const i=Object.assign(Object.assign({},this._requestOptions),e);return UI(this.apiKey,this.model,t,i)}}class HI{constructor(t){this.apiKey=t}getGenerativeModel(t,e){if(!t.model)throw new gn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new q_(this.apiKey,t,e)}getGenerativeModelFromCachedContent(t,e,i){if(!t.name)throw new Ca("Cached content must contain a `name` field.");if(!t.model)throw new Ca("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const l of r)if(e?.[l]&&t[l]&&e?.[l]!==t[l]){if(l==="model"){const u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model,h=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(u===h)continue}throw new Ca(`Different value for "${l}" specified in modelParams (${e[l]}) and cachedContent (${t[l]})`)}const s=Object.assign(Object.assign({},e),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new q_(this.apiKey,s,i)}}const vn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),fy=[.001,0,0,.001,0,0],Em=1.35,Zn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Sa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Au="pdfjs_internal_editor_",Tt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},jt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},qI={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},dy={TRIANGLES:1,LATTICE:2},Ne={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ef={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ao={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ld={ERRORS:0,WARNINGS:1,INFOS:5},wu={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Kl={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},$I={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ud=ld.WARNINGS;function GI(n){Number.isInteger(n)&&(ud=n)}function VI(){return ud}function cd(n){ud>=ld.INFOS&&console.info(`Info: ${n}`)}function xt(n){ud>=ld.WARNINGS&&console.warn(`Warning: ${n}`)}function ee(n){throw new Error(n)}function Bt(n,t){n||ee(t)}function YI(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oM(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"&&(e.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),e.tryConvertEncoding))try{n=QI(n)}catch{}const i=t?URL.parse(n,t):URL.parse(n);return YI(i)?i:null}function lM(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&oM(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ct(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const xs=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class $_ extends xs{constructor(t,e){super(t,"PasswordException"),this.code=e}}class xm extends xs{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class py extends xs{constructor(t){super(t,"InvalidPDFException")}}class hf extends xs{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class XI extends xs{constructor(t){super(t,"FormatError")}}class Ma extends xs{constructor(t){super(t,"AbortException")}}function uM(n){(typeof n!="object"||n?.length===void 0)&&ee("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),l=n.subarray(r,s);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function qu(n){typeof n!="string"&&ee("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function KI(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function WI(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function ZI(){try{return new Function(""),!0}catch{return!1}}class Ie{static get isLittleEndian(){return Ct(this,"isLittleEndian",WI())}static get isEvalSupported(){return Ct(this,"isEvalSupported",ZI())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ct(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ct(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ct(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ct(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Cm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class ot{static makeHexColor(t,e,i){return`#${Cm[t]}${Cm[e]}${Cm[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const r=t[i],s=t[i+1];t[i]=r*e[0]+s*e[2]+e[4],t[i+1]=r*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],s=e[1],l=e[2],u=e[3],h=e[4],f=e[5];for(let d=0;d<6;d+=2){const g=t[i+d],m=t[i+d+1];t[i+d]=g*r+m*l+h,t[i+d+1]=g*s+m*u+f}}static applyInverseTransform(t,e){const i=t[0],r=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,i){const r=e[0],s=e[1],l=e[2],u=e[3],h=e[4],f=e[5],d=t[0],g=t[1],m=t[2],y=t[3];let A=r*d+h,w=A,S=r*m+h,_=S,C=u*g+f,x=C,O=u*y+f,M=O;if(s!==0||l!==0){const D=s*d,R=s*m,L=l*g,z=l*y;A+=L,_+=L,S+=z,w+=z,C+=D,M+=D,O+=R,x+=R}i[0]=Math.min(i[0],A,S,w,_),i[1]=Math.min(i[1],C,O,x,M),i[2]=Math.max(i[2],A,S,w,_),i[3]=Math.max(i[3],C,O,x,M)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],s=t[2],l=t[3],u=i**2+r**2,h=i*s+r*l,f=s**2+l**2,d=(u+f)/2,g=Math.sqrt(d**2-(u*f-h**2));e[0]=Math.sqrt(d+g||1),e[1]=Math.sqrt(d-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>l?null:[i,s,r,l]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,s){s[0]=Math.min(s[0],t,i),s[1]=Math.min(s[1],e,r),s[2]=Math.max(s[2],t,i),s[3]=Math.max(s[3],e,r)}static#t(t,e,i,r,s,l,u,h,f,d){if(f<=0||f>=1)return;const g=1-f,m=f*f,y=m*f,A=g*(g*(g*t+3*f*e)+3*m*i)+y*r,w=g*(g*(g*s+3*f*l)+3*m*u)+y*h;d[0]=Math.min(d[0],A),d[1]=Math.min(d[1],w),d[2]=Math.max(d[2],A),d[3]=Math.max(d[3],w)}static#e(t,e,i,r,s,l,u,h,f,d,g,m){if(Math.abs(f)<1e-12){Math.abs(d)>=1e-12&&this.#t(t,e,i,r,s,l,u,h,-g/d,m);return}const y=d**2-4*g*f;if(y<0)return;const A=Math.sqrt(y),w=2*f;this.#t(t,e,i,r,s,l,u,h,(-d+A)/w,m),this.#t(t,e,i,r,s,l,u,h,(-d-A)/w,m)}static bezierBoundingBox(t,e,i,r,s,l,u,h,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,h),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,h),this.#e(t,i,s,u,e,r,l,h,3*(-t+3*(i-s)+u),6*(t-2*i+s),3*(i-t),f),this.#e(t,i,s,u,e,r,l,h,3*(-e+3*(r-l)+h),6*(e-2*r+l),3*(r-e),f)}}function QI(n){return decodeURIComponent(escape(n))}let Tm=null,G_=null;function JI(n){return Tm||(Tm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,G_=new Map([["","t"]])),n.replaceAll(Tm,(t,e,i)=>e?e.normalize("NFKC"):G_.get(i))}function cM(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),uM(n)}const Eo="pdfjs_internal_id_";function tj(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...s]=e;if(!n(i)&&!Number.isInteger(i)||!t(r))return!1;const l=s.length;let u=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const h of s)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function yn(n,t,e){return Math.min(Math.max(n,t),e)}function hM(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(uM(n))}function ej(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):qu(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class Su{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(s){if(!s)return;let l=null;const u=s.name;if(u==="#text")l=s.value;else if(Su.shouldBuildText(u))s?.attributes?.textContent?l=s.attributes.textContent:s.value&&(l=s.value);else return;if(l!==null&&e.push({str:l}),!!s.children)for(const h of s.children)r(h)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class fM{static setupStorage(t,e,i,r,s){const l=r.getValue(e,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),s==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?t.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),s==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of i.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const h=u.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:s}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[h,f]of Object.entries(l))if(f!=null)switch(h){case"class":f.length&&t.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,f)}u&&s.addLinkAttributes(t,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(t,l.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,s=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:s,linkService:i});const u=s!=="richText",h=t.div;if(h.append(l),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=g}u&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const g=document.createTextNode(r.value);l.append(g),u&&Su.shouldBuildText(r.name)&&f.push(g)}return{textDivs:f}}const d=[[r,-1,l]];for(;d.length>0;){const[g,m,y]=d.at(-1);if(m+1===g.children.length){d.pop();continue}const A=g.children[++d.at(-1)[1]];if(A===null)continue;const{name:w}=A;if(w==="#text"){const _=document.createTextNode(A.value);f.push(_),y.append(_);continue}const S=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,w):document.createElement(w);if(y.append(S),A.attributes&&this.setAttributes({html:S,element:A,storage:e,intent:s,linkService:i}),A.children?.length>0)d.push([A,-1,S]);else if(A.value){const _=document.createTextNode(A.value);u&&Su.shouldBuildText(w)&&f.push(_),S.append(_)}}for(const g of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const _r="http://www.w3.org/2000/svg";class Io{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function $u(n,t="text"){if(uu(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Gu{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:s=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=l,i*=e;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let d,g,m,y;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,g=0,m=0,y=1;break;case 90:d=0,g=1,m=1,y=0;break;case 270:d=0,g=-1,m=-1,y=0;break;case 0:d=1,g=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(m=-m,y=-y);let A,w,S,_;d===0?(A=Math.abs(f-t[1])*i+s,w=Math.abs(h-t[0])*i+l,S=(t[3]-t[1])*i,_=(t[2]-t[0])*i):(A=Math.abs(h-t[0])*i+s,w=Math.abs(f-t[1])*i+l,S=(t[2]-t[0])*i,_=(t[3]-t[1])*i),this.transform=[d*i,g*i,m*i,y*i,A-d*i*h-m*i*f,w-g*i*h-y*i*f],this.width=S,this.height=_}get rawDims(){const t=this.viewBox;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Gu({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){const i=[t,e];return ot.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];ot.applyTransform(e,this.transform);const i=[t[2],t[3]];return ot.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return ot.applyInverseTransform(i,this.transform),i}}class _0 extends xs{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function hd(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function E0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function nj(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function ij(n,t="document.pdf"){if(typeof n!="string")return t;if(hd(n))return xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const r=u=>{try{let h=decodeURIComponent(u);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:u):h}catch{return u}},s=/\.pdf$/i,l=i.pathname.split("/").at(-1);if(s.test(l))return r(l);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const f of u)if(s.test(f))return r(f);const h=Array.from(i.searchParams.keys()).reverse();for(const f of h)if(s.test(f))return r(f)}if(i.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(h)return r(h[0])}return t}class V_{started=Object.create(null);times=[];time(t){t in this.started&&xt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||xt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:s}of this.times)t.push(`${i.padEnd(e)} ${s-r}ms
`);return t.join("")}}function uu(n,t){const e=t?URL.parse(n,t):URL.parse(n);return e?.protocol==="http:"||e?.protocol==="https:"}function Si(n){n.preventDefault()}function we(n){n.preventDefault(),n.stopPropagation()}function rj(n){console.log("Deprecated API usage: "+n)}class gy{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const f=e[7]||"Z";let d=parseInt(e[8],10);d=d>=0&&d<=23?d:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=d,u+=g):f==="+"&&(l-=d,u-=g),new Date(Date.UTC(i,r,s,l,u,h))}}function aj(n,{scale:t=1,rotation:e=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Gu({viewBox:s,userUnit:1,scale:t,rotation:e})}function Vu(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(xt(`Not a valid color format: "${n}"`),[0,0,0])}function sj(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,Vu(i))}t.remove()}function pe(n){const{a:t,b:e,c:i,d:r,e:s,f:l}=n.getTransform();return[t,e,i,r,s,l]}function Hi(n){const{a:t,b:e,c:i,d:r,e:s,f:l}=n.getTransform().invertSelf();return[t,e,i,r,s,l]}function ms(n,t,e=!1,i=!0){if(t instanceof Gu){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:l}=n,u=Ie.isCSSRoundSupported,h=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${s}px`,d=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,g=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=d,l.height=g):(l.width=g,l.height=d)}i&&n.setAttribute("data-main-rotation",t.rotation)}class Ji{constructor(){const{pixelRatio:t}=Ji;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,s=-1){let l=1/0,u=1/0,h=1/0;i=Ji.capPixels(i,s),i>0&&(l=Math.sqrt(i/(t*e))),r!==-1&&(u=r/t,h=r/e);const f=Math.min(l,u,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const my=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class oj{static get isDarkMode(){return Ct(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class lj{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),Ct(this,"commentForegroundColor",Vu(i))}}function uj(n,t,e,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),t=Math.round(t*i+r),e=Math.round(e*i+r),[n,t,e]}function Y_(n,t){const e=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(e,i,r),l=Math.min(e,i,r),u=(s+l)/2;if(s===l)t[0]=t[1]=0;else{const h=s-l;switch(t[1]=u<.5?h/(s+l):h/(2-s-l),s){case e:t[0]=((i-r)/h+(i<r?6:0))*60;break;case i:t[0]=((r-e)/h+2)*60;break;case r:t[0]=((e-i)/h+4)*60;break}}t[2]=u}function vy(n,t){const e=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,l=s*(1-Math.abs(e/60%2-1)),u=r-s/2;switch(Math.floor(e/60)){case 0:t[0]=s+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=s+u,t[2]=u;break;case 2:t[0]=u,t[1]=s+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=s+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=s+u;break;case 5:case 6:t[0]=s+u,t[1]=u,t[2]=l+u;break}}function X_(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function K_(n,t,e){vy(n,e),e.map(X_);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];vy(t,e),e.map(X_);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const W_=new Map;function cj(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=W_.get(e);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),l=r.subarray(3,6);Y_(n,l);const u=r.subarray(6,9);Y_(t,u);const h=u[2]<.5,f=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),K_(l,u,s)<f){let d,g;h?(d=l[2],g=1):(d=0,g=l[2]);const m=.005;for(;g-d>m;){const y=l[2]=(d+g)/2;h===K_(l,u,s)<f?d=y:g=y}l[2]=h?g:d}return vy(l,s),i=ot.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),W_.set(e,i),i}function dM({html:n,dir:t,className:e},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=t||"auto";const l=n.split(/(?:\r\n?|\n)/);for(let u=0,h=l.length;u<h;++u){const f=l[u];s.append(document.createTextNode(f)),u<h-1&&s.append(document.createElement("br"))}r.append(s)}else fM.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",e),i.append(r)}function pM(n){const t=new Path2D;if(!n)return t;for(let e=0,i=n.length;e<i;)switch(n[e++]){case Kl.moveTo:t.moveTo(n[e++],n[e++]);break;case Kl.lineTo:t.lineTo(n[e++],n[e++]);break;case Kl.curveTo:t.bezierCurveTo(n[e++],n[e++],n[e++],n[e++],n[e++],n[e++]);break;case Kl.quadraticCurveTo:t.quadraticCurveTo(n[e++],n[e++],n[e++],n[e++]);break;case Kl.closePath:t.closePath();break;default:xt(`Unrecognized drawing path operator: ${n[e-1]}`);break}return t}class mu{#t=null;#e=null;#i;#n=null;#s=null;#a=null;#r=null;#o=null;static#u=null;constructor(t){this.#i=t,mu.#u||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Si,{signal:e}),t.addEventListener("pointerdown",mu.#l,{signal:e}));const i=this.#n=document.createElement("div");i.className="buttons",t.append(i);const r=this.#i.toolbarPosition;if(r){const{style:s}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*l}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#f(t){this.#i._focusEventsAllowed=!1,we(t)}#h(t){this.#i._focusEventsAllowed=!0,we(t)}#d(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Si,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#s?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",mu.#u[t]),this.#d(i)&&i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(i)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#n.append(e,this.#m),this.#s=t}addComment(t,e=null){if(this.#a)return;const i=t.renderForToolbar();if(!i)return;this.#d(i);const r=this.#r=this.#m;e?(this.#n.insertBefore(i,e),this.#n.insertBefore(r,e)):this.#n.append(i,r),this.#a=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#d(e),this.#n.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#d(e),this.#n.append(e,this.#m)}removeButton(t){t==="comment"&&(this.#a?.removeToolbarCommentButton(),this.#a=null,this.#r?.remove(),this.#r=null)}async addButton(t,e){switch(t){case"colorPicker":e&&this.addColorPicker(e);break;case"altText":e&&await this.addAltText(e);break;case"editSignature":e&&await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":e&&this.addComment(e);break}}async addButtonBefore(t,e,i){if(!e&&t==="comment")return;const r=this.#n.querySelector(i);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class hj{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Si,{signal:e});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#i.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#s(t,e){let i=0,r=0;for(const s of t){const l=s.y+s.height;if(l<i)continue;const u=s.x+(e?s.width:0);if(l>i){r=u,i=l;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,i]}show(t,e,i){const[r,s]=this.#s(e,i),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#a(t,e,i,r){const s=document.createElement("button");s.classList.add("basic",t),s.tabIndex=0,s.setAttribute("data-l10n-id",e);const l=document.createElement("span");s.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",i);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(s.addEventListener("contextmenu",Si,{signal:u}),s.addEventListener("click",r,{signal:u})),this.#t.append(s)}}function gM(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}class Gt{static#t=NaN;static#e=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(t){(Gt.#e||=new Set).add(t)}static setPointer(t,e){Gt.#t||=e,Gt.#n??=t}static setTimeStamp(t){Gt.#i=t}static isSamePointerId(t){return Gt.#t===t}static isSamePointerIdOrRemove(t){return Gt.#t===t?!0:(Gt.#e?.delete(t),!1)}static isSamePointerType(t){return Gt.#n===t}static isInitializedAndDifferentPointerType(t){return Gt.#n!==null&&!Gt.isSamePointerType(t)}static isSameTimeStamp(t){return Gt.#i===t}static isUsingMultiplePointers(){return Gt.#e?.size>=1}static clearPointerType(){Gt.#n=null}static clearPointerIds(){Gt.#t=NaN,Gt.#e=null}static clearTimeStamp(){Gt.#i=NaN}}class fj{#t=0;get id(){return`${Au}${this.#t++}`}}class x0{#t=cM();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",s)}async#n(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=await $u(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=x0._isSVGFittingCanvas,l=new FileReader,u=new Image,h=new Promise((f,d)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},l.onload=async()=>{const g=i.svgUrl=l.result;u.src=await s?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=l.onerror=d});l.readAsDataURL(r),await h}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){xt(r),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:r,type:s}=t;return this.#n(`${e}_${i}_${r}_${s}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const i=await e;return this.#n(t,i)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class dj{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const h={cmd:t,undo:e,post:i,type:s};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(h);return}if(l&&this.#t[this.#n].type===s){u&&(h.undo=this.#t[this.#n].undo),this.#t[this.#n]=h;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(h)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Yu{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ie.platform;for(const[i,r,s={}]of t)for(const l of i){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:r,options:s}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:r,options:s}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:l=[],checker:u=null}}=i;u&&!u(t,e)||(r.bind(t,...l,e)(),s||we(e))}}class C0{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return sj(t),Ct(this,"_colors",t)}convert(t){const e=Vu(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((s,l)=>s===e[l]))return C0._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?ot.makeHexColor(...e):t}}class Da{#t=new AbortController;#e=null;#i=null;#n=new Map;#s=new Map;#a=null;#r=null;#o=null;#u=new dj;#l=null;#f=null;#h=null;#d=0;#m=new Set;#g=null;#c=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#x=null;#_=null;#w=null;#T=null;#A=!1;#E=null;#D=new fj;#O=!1;#M=!1;#j=!1;#R=null;#N=null;#B=null;#L=null;#$=null;#C=Tt.NONE;#S=new Set;#k=null;#z=null;#U=null;#Y=null;#V=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#I=null;#G=null;#Q=null;#J=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Da.prototype,e=l=>l.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new Yu([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#G.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,i,r,s,l,u,h,f,d,g,m,y,A,w,S){const _=this._signal=this.#t.signal;this.#G=t,this.#Q=e,this.#J=i,this.#a=r,this.#l=s,this.#z=l,this.#V=h,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:_}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:_}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:_}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:_}),u._on("setpreference",this.onSetPreference.bind(this),{signal:_}),u._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:_}),window.addEventListener("pointerdown",()=>{this.#M=!0},{capture:!0,signal:_}),window.addEventListener("pointerup",()=>{this.#M=!1},{capture:!0,signal:_}),this.#st(),this.#ft(),this.#et(),this.#r=h.annotationStorage,this.#x=h.filterFactory,this.#U=f,this.#T=d||null,this.#v=g,this.#b=m,this.#y=y,this.#$=A||null,this.viewParameters={realScale:Io.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=S!==!1,s?.setSidebarUiManager(this)}destroy(){this.#F?.resolve(),this.#F=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#s.values())t.destroy();this.#s.clear(),this.#n.clear(),this.#p.clear(),this.#L?.clear(),this.#e=null,this.#S.clear(),this.#u.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#E?.hide(),this.#E=null,this.#B?.destroy(),this.#B=null,this.#i=null,this.#_&&(clearTimeout(this.#_),this.#_=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#$}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ct(this,"hcmFilter",this.#U?this.#x.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Ct(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Ct(this,"highlightColors",null);const e=new Map,i=!!this.#U;for(const[r,s]of t){const l=r.endsWith("_HCM");if(i&&l){e.set(r.replace("_HCM",""),s);continue}!i&&!l&&e.set(r,s)}return Ct(this,"highlightColors",e)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#B=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,i,r){this.#l?.showDialog(this,t,e,i,r)}selectComment(t,e){this.#s.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,i=void 0){this.#l?.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#s.has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await i}getSignature(t){this.#z?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#z}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#y=e)}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#G.focus()}findParent(t,e){for(const i of this.#s.values()){const{x:r,y:s,width:l,height:u}=i.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=s&&e<=s+u)return i}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Io.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Z({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#s.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:u}=i,h=i.toString(),d=this.#Z(i).closest(".textLayer"),g=this.getSelectionBoxes(d);if(!g)return;i.empty();const m=this.#tt(d),y=this.#C===Tt.NONE,A=()=>{const w=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:u,text:h});y&&this.showAllEditors("highlight",!0,!0),e&&w?.editComment()};if(y){this.switchToMode(Tt.HIGHLIGHT,A);return}A()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Z(t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#E||=new hj(this),this.#E.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${Au}${t}`,i=this.#r.getRawValue(e);return i&&this.#r.remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#at(){const t=document.getSelection();if(!t||t.isCollapsed){this.#k&&(this.#E?.hide(),this.#k=null,this.#P({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#k)return;const r=this.#Z(t).closest(".textLayer");if(!r){this.#k&&(this.#E?.hide(),this.#k=null,this.#P({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#k=e,this.#P({hasSelectedText:!0}),!(this.#C!==Tt.HIGHLIGHT&&this.#C!==Tt.NONE)&&(this.#C===Tt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#C===Tt.HIGHLIGHT?this.#tt(r):null;if(s?.toggleDrawing(),this.#M){const l=new AbortController,u=this.combinedSignal(l),h=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),s?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}else s?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#C===Tt.HIGHLIGHT?this.highlightSelection(t):this.#v&&this.#rt()}#st(){document.addEventListener("selectionchange",this.#at.bind(this),{signal:this._signal})}#ot(){if(this.#w)return;this.#w=new AbortController;const t=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#lt(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#S)if(e.div.contains(t)){this.#N=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[t,e]=this.#N;this.#N=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#R)return;this.#R=new AbortController;const t=this.combinedSignal(this.#R);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ut(){this.#R?.abort(),this.#R=null}#ct(){if(this.#f)return;this.#f=new AbortController;const t=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#ht(){this.#f?.abort(),this.#f=null}#ft(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#ut(),this.setEditingState(!1)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#c)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#c)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#S){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const l of this.#c)if(l.isHandlingMimeForPasting(s.type)){l.paste(s,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){xt(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const h of i){const f=await r.deserialize(h);if(!f)return;s.push(f)}const l=()=>{for(const h of s)this.#nt(h);this.#it(s)},u=()=>{for(const h of s)h.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(s){xt(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==Tt.NONE&&!this.isEditorHandlingKeyboard&&Da._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#P(t){Object.entries(t).some(([i,r])=>this.#X[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,t)}),this.#C===Tt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#q([[jt.HIGHLIGHT_FREE,!0]]))}#q(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ot(),this.#ct(),this.#P({isEditing:this.#C!==Tt.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:this.#u.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#lt(),this.#ht(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#c){this.#c=t;for(const e of this.#c)this.#q(e.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#s.get(this.#d)}getLayer(t){return this.#s.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#s.set(t.pageIndex,t),this.#O?t.enable():t.disable()}removeLayer(t){this.#s.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,r=!1,s=!1,l=!1){if(this.#C!==t&&!(this.#F&&(await this.#F.promise,!this.#F))){if(this.#F=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===Tt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===Tt.NONE){this.setEditingState(!1),this.#pt();for(const u of this.#n.values())u.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#F.resolve();return}for(const u of this.#n.values())u.addStandaloneCommentButton();t===Tt.SIGNATURE&&await this.#z?.loadSignatures(),i&&Gt.clearPointerType(),this.setEditingState(!0),await this.#dt(),this.unselectAll();for(const u of this.#s.values())u.updateMode(t);if(t===Tt.POPUP){this.#i||=await this.#V.getAnnotationsByType(new Set(this.#c.map(f=>f._editorType)));const u=new Set,h=[];for(const f of this.#n.values()){const{annotationElementId:d,hasComment:g,deleted:m}=f;d&&u.add(d),g&&!m&&h.push(f.getData())}for(const f of this.#i){const{id:d,popupRef:g,contentsObj:m}=f;g&&m?.str&&!u.has(d)&&!this.#m.has(d)&&h.push(f)}this.#l?.showSidebar(h)}if(!e){r&&this.addNewEditorFromKeyboard(),this.#F.resolve();return}for(const u of this.#n.values())u.uid===e?(this.setSelected(u),l?u.editComment():s?u.enterInEditMode():u.focus()):u.unselect();this.#F.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#c){switch(t){case jt.CREATE:this.currentLayer.addNewEditor(e);return;case jt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of this.#S)i.updateParams(t,e);else for(const i of this.#c)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const s of this.#n.values())s.editorType===t&&s.show(e);(this.#Y?.get(jt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#q([[jt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#j!==t){this.#j=t;for(const e of this.#s.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#dt(){if(!this.#O){this.#O=!0;const t=[];for(const e of this.#s.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#O){this.#O=!1;for(const t of this.#s.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.focusMainContainer(),this.#_=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#L?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#m.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#m.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#m.has(t)}removeDeletedAnnotationElement(t){this.#m.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#nt(t){const e=this.#s.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#q(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#gt===t&&this.#q(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#q(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#P({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#q(t.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#h?.commitOrRemove();for(const e of this.#S)e!==t&&e.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#q(t.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#u.undo(),this.#P({hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#u.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#u.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#u.add(t),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#u.cleanType(t)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#S],i=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const s of e)s.remove()},r=()=>{for(const s of e)this.#nt(s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#it(t){for(const e of this.#S)e.unselect();this.#S.clear();for(const e of t)e.isEmpty()||(this.#S.add(e),e.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#it(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==Tt.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[r,s]=this.#H,l=[...this.#S],u=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(r,s),h.translationDone())},undo:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(-r,-s),h.translationDone())},mustExec:!1})},u);for(const h of l)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const t of this.#S)this.#g.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const t=this.#g;this.#g=null;let e=!1;for(const[{x:r,y:s,pageIndex:l},u]of t)u.newX=r,u.newY=s,u.newPageIndex=l,e||=r!==u.savedX||s!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const i=(r,s,l,u)=>{if(this.#n.has(r.id)){const h=this.#s.get(u);h?r._setParentAndPosition(h,s,l):(r.pageIndex=u,r.x=s,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:l,newPageIndex:u}]of t)i(r,s,l,u)},undo:()=>{for(const[r,{savedX:s,savedY:l,savedPageIndex:u}]of t)i(r,s,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#g)for(const i of this.#g.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==Tt.NONE}get imageManager(){return Ct(this,"imageManager",new x0)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,d=e.rangeCount;f<d;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,d,g,m)=>({x:(d-r)/l,y:1-(f+g-i)/s,width:m/l,height:g/s});break;case"180":u=(f,d,g,m)=>({x:1-(f+g-i)/s,y:1-(d+m-r)/l,width:g/s,height:m/l});break;case"270":u=(f,d,g,m)=>({x:1-(d+m-r)/l,y:(f-i)/s,width:m/l,height:g/s});break;default:u=(f,d,g,m)=>({x:(f-i)/s,y:(d-r)/l,width:g/s,height:m/l});break}const h=[];for(let f=0,d=e.rangeCount;f<d;f++){const g=e.getRangeAt(f);if(!g.collapsed)for(const{x:m,y,width:A,height:w}of g.getClientRects())A===0||w===0||h.push(u(m,y,A,w))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#r.getRawValue(e);i&&(this.#C===Tt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const r=this.#L?.get(t);r&&(r.setCanvas(e,i),this.#L.delete(t))}addMissingCanvas(t,e){(this.#L||=new Map).set(t,e)}}class Xi{#t=null;#e=!1;#i=null;#n=null;#s=null;#a=null;#r=!1;#o=null;#u=null;#l=null;#f=null;#h=!1;static#d=null;static _l10n=null;constructor(t){this.#u=t,this.#h=t._uiManager.useNewAltTextFlow,Xi.#d||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Xi._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Xi.#d.missing),e.setAttribute("data-l10n-id",Xi.#d["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#u._uiManager._signal;t.addEventListener("contextmenu",Si,{signal:i}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#h&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#r=!0,r(s))},{signal:i}),await this.#g(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#f=await Xi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#g())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#u.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#f),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(this.#l=i,this.#f=r),!(this.#t===t&&this.#e===e)&&(s||(this.#t=t,this.#e=e),this.#g())}toggle(t=!1){this.#i&&(!t&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#i.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#s=null,this.#o?.remove(),this.#o=null}async#g(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Xi.#d[this.#m]),this.#n?.setAttribute("data-l10n-id",Xi.#d[`${this.#m}-label`]),!this.#t){this.#s?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#s;if(!e){this.#s=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#u.id}`;const r=100,s=this.#u._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#s.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),t.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#s?.classList.remove("show")},{signal:s})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#u.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Mh{#t=null;#e=null;#i=!1;#n=null;#s=null;#a=null;#r=null;#o=null;#u=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#f(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#f(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:i}=this.#t.getBoundingClientRect(),{x:r,y:s,width:l,height:u}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+i-s)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#f(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",Si,{signal:i}),e&&(t.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,we(s)},{capture:!0,signal:i}),t.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,we(s)},{capture:!0,signal:i})),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#i=!0,r(s))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),t}edit(t){const e=this.commentPopupPositionInLayer;let i,r;if(e)[i,r]=e;else{[i,r]=this.#n.commentButtonPosition;const{width:d,height:g,x:m,y}=this.#n;i=m+i*d,r=y+r*g}const s=this.#n.parent.boundingClientRect,{x:l,y:u,width:h,height:f}=s;this.#n._uiManager.editComment(this.#n,l+i*h,u+r*f,{...t,parentDimensions:s})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#u||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#s}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#a=null),t===null){this.#r="",this.#u=!0;return}this.#r=t,this.#o=new Date,this.#u=!1}setInitialText(t,e=null){this.#s=t,this.data=t,this.#o=null,this.#a=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#a=null,this.#o=null,this.#n=null,this.#i=!1,this.#u=!1}}class fd{#t;#e=!1;#i=null;#n;#s;#a;#r;#o=null;#u;#l=null;#f;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#i=i,this.#n=e,this.#s=r,this.#a=s,this.#r=l,this.#f=new AbortController,this.#u=AbortSignal.any([u,this.#f.signal]),t.addEventListener("touchstart",this.#d.bind(this),{passive:!1,signal:this.#u})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ji.pixelRatio}#d(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#u,r.signal]),l=this.#t,u={capture:!0,signal:s,passive:!1},h=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(we(f),h(f))},u),l.addEventListener("pointerup",h,u),l.addEventListener("pointercancel",h,u);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#u,this.#h.signal]),s=this.#t,l={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#m.bind(this),l);const u=this.#g.bind(this);s.addEventListener("touchend",u,l),s.addEventListener("touchcancel",u,l),l.capture=!0,s.addEventListener("pointerdown",we,l),s.addEventListener("pointermove",we,l),s.addEventListener("pointercancel",we,l),s.addEventListener("pointerup",we,l),this.#s?.()}if(we(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#m(t){if(!this.#l||t.touches.length!==2)return;we(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:s}=e,{screenX:l,screenY:u}=i,h=this.#l,{touch0X:f,touch0Y:d,touch1X:g,touch1Y:m}=h,y=g-f,A=m-d,w=l-r,S=u-s,_=Math.hypot(w,S)||1,C=Math.hypot(y,A)||1;if(!this.#e&&Math.abs(C-_)<=fd.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=r,h.touch0Y=s,h.touch1X=l,h.touch1Y=u,!this.#e){this.#e=!0;return}const x=[(r+l)/2,(s+u)/2];this.#a?.(x,C,_)}#g(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#l&&(we(t),this.#l=null,this.#e=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#o?.abort(),this.#o=null}}class bt{#t=null;#e=null;#i=null;#n=null;#s=null;#a=!1;#r=null;#o="";#u=null;#l=null;#f=null;#h=null;#d=null;#m="";#g=!1;#c=null;#p=!1;#v=!1;#b=!1;#y=null;#x=0;#_=0;#w=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#E=bt._zIndex++;static _borderLineWidth=-1;static _colorManager=new C0;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=bt.prototype._resizeWithKeyboard,e=Da.TRANSLATE_SMALL,i=Da.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new Yu([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],bt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,l];const[u,h]=this.parentDimensions;this.x=t.x/u,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new pj({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(bt._l10n??=t,bt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),bt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);bt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ee("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(t){this.#A=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#I(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[s,l]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/s,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}#D([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#D(this.parentDimensions,t,e)}translateInPage(t,e){this.#c||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#c||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[h,f]=this.getBaseTranslation();l+=h,u+=f;const{style:d}=i;d.left=`${(100*l).toFixed(2)}%`,d.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#c&&(this.#c[0]!==this.x||this.#c[1]!==this.y)}get _hasBeenResized(){return!!this.#c&&(this.#c[2]!==this.width||this.#c[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=bt,r=i/t,s=i/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:s,y:l,width:u,height:h}=this;if(u*=i,h*=r,s*=i,l*=r,this._mustFixPosition)switch(t){case 0:s=yn(s,0,i-u),l=yn(l,0,r-h);break;case 90:s=yn(s,0,i-h),l=yn(l,u,r);break;case 180:s=yn(s,u,i),l=yn(l,h,r);break;case 270:s=yn(s,h,i),l=yn(l,0,r-u);break}this.x=s/=i,this.y=l/=r;const[f,d]=this.getBaseTranslation();s+=f,l+=d,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#O(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return bt.#O(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return bt.#O(t,e,360-this.parentRotation)}#M(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#j(){if(this.#u)return;this.#u=document.createElement("div"),this.#u.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");this.#u.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#R.bind(this,i),{signal:e}),r.addEventListener("contextmenu",Si,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#u)}#R(t,e){e.preventDefault();const{isMac:i}=Ie.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const s=new AbortController,l=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#L.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",we,{passive:!1,signal:l}),window.addEventListener("contextmenu",Si,{signal:l}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=h,this.#B()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#N(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#f)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#f;this.#f=null;const s=this.x,l=this.y,u=this.width,h=this.height;s===t&&l===e&&u===i&&h===r||this.addCommands({cmd:this.#N.bind(this,s,l,u,h),undo:this.#N.bind(this,t,e,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#L(t,e){const[i,r]=this.parentDimensions,s=this.x,l=this.y,u=this.width,h=this.height,f=bt.MIN_SIZE/i,d=bt.MIN_SIZE/r,g=this.#M(this.rotation),m=(I,F)=>[g[0]*I+g[2]*F,g[1]*I+g[3]*F],y=this.#M(360-this.rotation),A=(I,F)=>[y[0]*I+y[2]*F,y[1]*I+y[3]*F];let w,S,_=!1,C=!1;switch(t){case"topLeft":_=!0,w=(I,F)=>[0,0],S=(I,F)=>[I,F];break;case"topMiddle":w=(I,F)=>[I/2,0],S=(I,F)=>[I/2,F];break;case"topRight":_=!0,w=(I,F)=>[I,0],S=(I,F)=>[0,F];break;case"middleRight":C=!0,w=(I,F)=>[I,F/2],S=(I,F)=>[0,F/2];break;case"bottomRight":_=!0,w=(I,F)=>[I,F],S=(I,F)=>[0,0];break;case"bottomMiddle":w=(I,F)=>[I/2,F],S=(I,F)=>[I/2,0];break;case"bottomLeft":_=!0,w=(I,F)=>[0,F],S=(I,F)=>[I,0];break;case"middleLeft":C=!0,w=(I,F)=>[0,F/2],S=(I,F)=>[I,F/2];break}const x=w(u,h),O=S(u,h);let M=m(...O);const D=bt._round(s+M[0]),R=bt._round(l+M[1]);let L=1,z=1,K,G;if(e.fromKeyboard)({deltaX:K,deltaY:G}=e);else{const{screenX:I,screenY:F}=e,[et,at]=this.#l;[K,G]=this.screenToPageTranslation(I-et,F-at),this.#l[0]=I,this.#l[1]=F}if([K,G]=A(K/i,G/r),_){const I=Math.hypot(u,h);L=z=Math.max(Math.min(Math.hypot(O[0]-x[0]-K,O[1]-x[1]-G)/I,1/u,1/h),f/u,d/h)}else C?L=yn(Math.abs(O[0]-x[0]-K),f,1)/u:z=yn(Math.abs(O[1]-x[1]-G),d,1)/h;const U=bt._round(u*L),st=bt._round(h*z);M=m(...S(U,st));const it=D-M[0],lt=R-M[1];this.#c||=[this.x,this.y,this.width,this.height],this.width=U,this.height=st,this.x=it,this.y=lt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new mu(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Xi.initialize(bt._l10n),this.#i=new Xi(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Mh(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#s){this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden");return}this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:r}}=this.#n;return{text:e,richText:t,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Mh(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(this.#n||=new Mh(this),this.#n.setInitialText(t,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Mh(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[s]=this.pageDimensions,[l]=this.pageTranslation,u=l+s+1,h=r-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,h,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#a?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),gM(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new fd({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#$.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#$(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,i){let s=.7*(i/e)+1-.7;if(s===1)return;const l=this.#M(this.rotation),u=(D,R)=>[l[0]*D+l[2]*R,l[1]*D+l[3]*R],[h,f]=this.parentDimensions,d=this.x,g=this.y,m=this.width,y=this.height,A=bt.MIN_SIZE/h,w=bt.MIN_SIZE/f;s=Math.max(Math.min(s,1/m,1/y),A/m,w/y);const S=bt._round(m*s),_=bt._round(y*s);if(S===m&&_===y)return;this.#c||=[d,g,m,y];const C=u(m/2,y/2),x=bt._round(d+C[0]),O=bt._round(g+C[1]),M=u(S/2,_/2);this.x=x-M[0],this.y=O-M[1],this.width=S,this.height=_,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(t){const{isMac:e}=Ie.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#z(t);return}this.#k(t)}#k(t){const{isMac:e}=Ie.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:s},u=f=>{r.abort(),this.#r=null,this.#g=!1,this._uiManager.endDragSession()||this.#k(f),i&&this._onStopDragging()};e&&(this.#x=t.clientX,this.#_=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:g,pointerId:m}=f;if(m!==this.#r){we(f);return}const[y,A]=this.screenToPageTranslation(d-this.#x,g-this.#_);this.#x=d,this.#_=g,this._uiManager.dragSelectedEditors(y,A)},l),window.addEventListener("touchmove",we,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#T||f.isPrimary)&&u(f),we(f)},l));const h=f=>{if(!this.#r||this.#r===f.pointerId){u(f);return}we(f)};window.addEventListener("pointerup",h,{signal:s}),window.addEventListener("blur",h,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[s,l]=this.pageDimensions,[u,h]=this.pageTranslation,f=t/r,d=e/r,g=this.x*s,m=this.y*l,y=this.width*s,A=this.height*l;switch(i){case 0:return[g+f+u,l-m-d-A+h,g+f+y+u,l-m-d+h];case 90:return[g+d+u,l-m+f+h,g+d+A+u,l-m+f+y+h];case 180:return[g-f-y+u,l-m+d+h,g-f+u,l-m+d+A+h];case 270:return[g-d-A+u,l-m-f-y+h,g-d+u,l-m-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,s,l]=t,u=s-i,h=l-r;switch(this.rotation){case 0:return[i,e-l,u,h];case 90:return[i,e-r,h,u];case 180:return[s,e-r,u,h];case 270:return[s,e-l,h,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:r,deleted:s,richText:l},uid:u,pageIndex:h,creationDate:f,modificationDate:d}=this;return{id:u,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:i||d,popupRef:!s,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:l}=window;return e<l&&r>0&&t<s&&i>0}#U(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[s,l]=r.pageDimensions,[u,h,f,d]=r.getRectInCurrentCoords(t.rect,l);return r.x=u/s,r.y=h/l,r.width=f/s,r.height=d/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#I(),this.removeEditToolbar(),this.#w){for(const t of this.#w.values())clearTimeout(t);this.#w=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#h?.remove(),this.#h=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#j(),this.#u.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,r,s,l]=this.getPDFRect();return[bt._round(i+(s-i)*t),bt._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#u.children;if(!this.#e){this.#e=Array.from(e);const l=this.#Y.bind(this),u=this.#V.bind(this),h=this._uiManager._signal;for(const f of this.#e){const d=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:h}),f.addEventListener("blur",u,{signal:h}),f.addEventListener("focus",this.#X.bind(this,d),{signal:h}),f.setAttribute("data-l10n-id",bt._l10nResizer[d])}}const i=this.#e[0];let r=0;for(const l of e){if(l===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(s!==r){if(s<r)for(let u=0;u<r-s;u++)this.#u.append(this.#u.firstElementChild);else if(s>r)for(let u=0;u<s-r;u++)this.#u.firstElementChild.before(this.#u.lastElementChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",bt._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#u.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Y(t){bt._resizerKeyboardManager.exec(this,t)}#V(t){this.#b&&t.relatedTarget?.parentNode!==this.#u&&this.#I()}#X(t){this.#m=this.#b?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#L(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#I(){this.#b=!1,this.#H(-1),this.#B()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#u?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#w||=new Map;const{action:i}=t;let r=this.#w.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#w.delete(i),this.#w.size===0&&(this.#w=null)},bt._telemetryTimeout),this.#w.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstElementChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class pj extends bt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Z_=3285377520,pi=4294901760,qi=65535;class mM{constructor(t){this.h1=t?t&4294967295:Z_,this.h2=t?t&4294967295:Z_}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let w=0,S=t.length;w<S;w++){const _=t.charCodeAt(w);_<=255?e[i++]=_:(e[i++]=_>>>8,e[i++]=_&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,l=new Uint32Array(e.buffer,0,r);let u=0,h=0,f=this.h1,d=this.h2;const g=3432918353,m=461845907,y=g&qi,A=m&qi;for(let w=0;w<r;w++)w&1?(u=l[w],u=u*g&pi|u*y&qi,u=u<<15|u>>>17,u=u*m&pi|u*A&qi,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(h=l[w],h=h*g&pi|h*y&qi,h=h<<15|h>>>17,h=h*m&pi|h*A&qi,d^=h,d=d<<13|d>>>19,d=d*5+3864292196);switch(u=0,s){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*g&pi|u*y&qi,u=u<<15|u>>>17,u=u*m&pi|u*A&qi,r&1?f^=u:d^=u}this.h1=f,this.h2=d}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&pi|t*36045&qi,e=e*4283543511&pi|((e<<16|t>>>16)*2950163797&pi)>>>16,t^=e>>>1,t=t*444984403&pi|t*60499&qi,e=e*3301882366&pi|((e<<16|t>>>16)*3120437893&pi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const yy=Object.freeze({map:null,hash:"",transfer:void 0});class T0{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof bt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof bt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let r=!1;if(i!==void 0)for(const[s,l]of Object.entries(e))i[s]!==l&&(r=!0,i[s]=l);else r=!0,this.#n.set(t,e);r&&this.#s(),e instanceof bt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#s(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new vM(this)}get serializable(){if(this.#n.size===0)return yy;const t=new Map,e=new mM,i=[],r=Object.create(null);let s=!1;for(const[l,u]of this.#n){const h=u instanceof bt?u.serialize(!1,r):u;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),s||=!!h.bitmap)}if(s)for(const l of t.values())l.bitmap&&i.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:yy}get editorStats(){let t=null;const e=new Map;let i=0,r=0;for(const s of this.#n.values()){if(!(s instanceof bt)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const l=s.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const h=t[u]||=new Map;for(const[f,d]of Object.entries(l)){if(f==="type")continue;let g=h.get(f);g||(g=new Map,h.set(f,g));const m=g.get(d)??0;g.set(d,m+1)}}if((r>0||i>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:i}),!t)return null;for(const[s,l]of e)t[s]=l.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const i=this.#i?.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class vM extends T0{#t;constructor(t){super();const{map:e,hash:i,transfer:r}=t.serializable,s=structuredClone(e,r?{transfer:r}:null);this.#t={map:s,hash:i,transfer:r}}get print(){ee("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}class gj{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(Bt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:l}=t,u=new FontFace(r,s,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),i?.(t)}catch{xt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ee("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw xt(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ct(this,"isSyncFontLoadingSupported",vn||Ie.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Bt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(O,M){return O.charCodeAt(M)<<24|O.charCodeAt(M+1)<<16|O.charCodeAt(M+2)<<8|O.charCodeAt(M+3)&255}function r(O,M,D,R){const L=O.substring(0,M),z=O.substring(M+D);return L+R+z}let s,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let f=0;function d(O,M){if(++f>30){xt("Load test font never loaded."),M();return}if(h.font="30px "+O,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(d.bind(null,O,M))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=r(m,976,g.length,g);const A=16,w=1482184792;let S=i(m,A);for(s=0,l=g.length-3;s<l;s+=4)S=S-w+i(g,s)|0;s<g.length&&(S=S-w+i(g+"XXX",s)|0),m=r(m,A,4,KI(S));const _=`url(data:font/opentype;base64,${btoa(m)});`,C=`@font-face {font-family:"${g}";src:${_}}`;this.insertRule(C);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const O of[t.loadedName,g]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=O,x.append(M)}this._document.body.append(x),d(g,()=>{x.remove(),e.complete()})}}class mj{#t;constructor(t,e=null,i,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${hM(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(l){xt(`getPathGenerator - ignoring character: "${l}".`)}const s=pM(r?.path);return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=s}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}set disableFontFace(t){Ct(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}set bbox(t){Ct(this,"bbox",t)}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class Mo{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,i={};let r=0;for(const f of Mo.strings){const d=e.encode(t[f]);i[f]=d,r+=4+d.length}const s=new ArrayBuffer(r),l=new Uint8Array(s),u=new DataView(s);let h=0;for(const f of Mo.strings){const d=i[f],g=d.length;u.setUint32(h,g),l.set(d,h+4),h+=4+g}return Bt(h===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Bt(t<Mo.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Do{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,i={};let r=0;for(const m of Do.strings){const y=e.encode(t[m]);i[m]=y,r+=4+y.length}r+=4;let s,l,u=1+r;t.style&&(s=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+s.length+4+l.length);const h=new ArrayBuffer(u),f=new Uint8Array(h),d=new DataView(h);let g=0;d.setUint8(g++,t.guessFallback?1:0),d.setUint32(g,0),g+=4,r=0;for(const m of Do.strings){const y=i[m],A=y.length;r+=4+A,d.setUint32(g,A),f.set(y,g+4),g+=4+A}return d.setUint32(g-r-4,r),t.style&&(d.setUint32(g,s.length),f.set(s,g+4),g+=4+s.length,d.setUint32(g,l.length),f.set(l,g+4),g+=4+l.length),Bt(g<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(g)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Bt(t<Do.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),i=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),s=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:i,weight:s}}}class Jt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#s=this.#n+1+6;#a;#r;#o;constructor({data:t,extra:e}){this.#a=t,this.#r=new TextDecoder,this.#o=new DataView(this.#a),e&&Object.assign(this,e)}#u(t){Bt(t<Jt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,r=this.#o.getUint8(e)>>i&3;return r===0?void 0:r===2}get black(){return this.#u(0)}get bold(){return this.#u(1)}get disableFontFace(){return this.#u(2)}get fontExtraProperties(){return this.#u(3)}get isInvalidPDFjsFont(){return this.#u(4)}get isType3Font(){return this.#u(5)}get italic(){return this.#u(6)}get missingFile(){return this.#u(7)}get remeasure(){return this.#u(8)}get vertical(){return this.#u(9)}#l(t){return Bt(t<Jt.numbers.length,"Invalid number index"),this.#o.getFloat64(Jt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Jt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=Jt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=Jt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#f(t){Bt(t<Jt.strings.length,"Invalid string index");let e=Jt.#s+4;for(let s=0;s<t;s++)e+=this.#o.getUint32(e)+4;const i=this.#o.getUint32(e),r=new Uint8Array(i);return r.set(new Uint8Array(this.#a,e+4,i)),this.#r.decode(r)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let t=Jt.#s;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const s=this.#o.getUint32(t);if(s!==0)return new Uint8Array(this.#a,t+4,s)}clearData(){let t=Jt.#s;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const s=this.#o.getUint32(t);new Uint8Array(this.#a,t+4,s).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Jt.#s;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#a,t+4,r)),new Mo(s.buffer)}get systemFontInfo(){let t=Jt.#s;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#a,t+4,i)),new Do(r.buffer)}static write(t){const e=t.systemFontInfo?Do.write(t.systemFontInfo):null,i=t.cssFontInfo?Mo.write(t.cssFontInfo):null,r=new TextEncoder,s={};let l=0;for(const w of Jt.strings)s[w]=r.encode(t[w]),l+=4+s[w].length;const u=Jt.#s+4+l+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),h=new ArrayBuffer(u),f=new Uint8Array(h),d=new DataView(h);let g=0;const m=Jt.bools.length;let y=0,A=0;for(let w=0;w<m;w++){const S=t[Jt.bools[w]];y|=(S===void 0?0:S?2:1)<<A,A+=2,(A===8||w===m-1)&&(d.setUint8(g++,y),y=0,A=0)}Bt(g===Jt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const w of Jt.numbers)d.setFloat64(g,t[w]),g+=8;if(Bt(g===Jt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){d.setUint8(g++,4);for(const w of t.bbox)d.setInt16(g,w,!0),g+=2}else d.setUint8(g++,0),g+=8;if(Bt(g===Jt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){d.setUint8(g++,6);for(const w of t.fontMatrix)d.setFloat64(g,w,!0),g+=8}else d.setUint8(g++,0),g+=48;if(Bt(g===Jt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){d.setUint8(g++,1);for(const w of t.defaultVMetrics)d.setInt16(g,w,!0),g+=2}else d.setUint8(g++,0),g+=6;Bt(g===Jt.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(Jt.#s,0),g+=4;for(const w of Jt.strings){const S=s[w],_=S.length;d.setUint32(g,_),f.set(S,g+4),g+=4+_}if(d.setUint32(Jt.#s,g-Jt.#s-4),!e)d.setUint32(g,0),g+=4;else{const w=e.byteLength;d.setUint32(g,w),Bt(g+4+w<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),g+4),g+=4+w}if(!i)d.setUint32(g,0),g+=4;else{const w=i.byteLength;d.setUint32(g,w),Bt(g+4+w<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),g+4),g+=4+w}return t.data===void 0?(d.setUint32(g,0),g+=4):(d.setUint32(g,t.data.length),f.set(t.data,g+4),g+=4+t.data.length),Bt(g<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(g)}}class Ue{static#t=0;static#e=1;static#i=2;static#n=3;static#s=4;static#a=8;static#r=12;static#o=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,i=null,r=[],s=[],l=[],u=[],h=null,f=null;switch(t[0]){case"RadialAxial":e=t[1]==="axial"?1:2,i=t[2],l=t[3],e===1?r.push(...t[4],...t[5]):r.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,h=t[1],r=t[2],s=t[3],u=t[4]||[],i=t[6],f=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const d=Math.floor(r.length/2),g=Math.floor(s.length/3),m=l.length,y=u.length;let A=0;for(const M of u)A+=1,A=Math.ceil(A/4)*4,A+=4+M.coords.length*4,A+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(A+=4);const w=20+d*8+g*3+m*8+(i?16:0)+(f?3:0)+A,S=new ArrayBuffer(w),_=new DataView(S),C=new Uint8Array(S);_.setUint8(Ue.#t,e),_.setUint8(Ue.#e,i?1:0),_.setUint8(Ue.#i,f?1:0),_.setUint8(Ue.#n,h),_.setUint32(Ue.#s,d,!0),_.setUint32(Ue.#a,g,!0),_.setUint32(Ue.#r,m,!0),_.setUint32(Ue.#o,y,!0);let x=20;new Float32Array(S,x,d*2).set(r),x+=d*8,C.set(s,x),x+=g*3;for(const[M,D]of l)_.setFloat32(x,M,!0),x+=4,_.setUint32(x,parseInt(D.slice(1),16),!0),x+=4;if(i)for(const M of i)_.setFloat32(x,M,!0),x+=4;f&&(C.set(f,x),x+=3);for(let M=0;M<u.length;M++){const D=u[M];_.setUint8(x,D.type),x+=1,x=Math.ceil(x/4)*4,_.setUint32(x,D.coords.length,!0),x+=4,new Int32Array(S,x,D.coords.length).set(D.coords),x+=D.coords.length*4,_.setUint32(x,D.colors.length,!0),x+=4,new Int32Array(S,x,D.colors.length).set(D.colors),x+=D.colors.length*4,D.verticesPerRow!==void 0&&(_.setUint32(x,D.verticesPerRow,!0),x+=4)}return S}getIR(){const t=this.view,e=this.data[Ue.#t],i=!!this.data[Ue.#e],r=!!this.data[Ue.#i],s=t.getUint32(Ue.#s,!0),l=t.getUint32(Ue.#a,!0),u=t.getUint32(Ue.#r,!0),h=t.getUint32(Ue.#o,!0);let f=20;const d=new Float32Array(this.buffer,f,s*2);f+=s*8;const g=new Uint8Array(this.buffer,f,l*3);f+=l*3;const m=[];for(let S=0;S<u;++S){const _=t.getFloat32(f,!0);f+=4;const C=t.getUint32(f,!0);f+=4,m.push([_,`#${C.toString(16).padStart(6,"0")}`])}let y=null;if(i){y=[];for(let S=0;S<4;++S)y.push(t.getFloat32(f,!0)),f+=4}let A=null;r&&(A=new Uint8Array(this.buffer,f,3),f+=3);const w=[];for(let S=0;S<h;++S){const _=t.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const C=t.getUint32(f,!0);f+=4;const x=new Int32Array(this.buffer,f,C);f+=C*4;const O=t.getUint32(f,!0);f+=4;const M=new Int32Array(this.buffer,f,O);f+=O*4;const D={type:_,coords:x,colors:M};_===dy.LATTICE&&(D.verticesPerRow=t.getUint32(f,!0),f+=4),w.push(D)}if(e===1)return["RadialAxial","axial",y,m,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(e===2)return["RadialAxial","radial",y,m,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(e===3){const S=this.data[Ue.#n];let _=null;if(d.length>0){let C=d[0],x=d[0],O=d[1],M=d[1];for(let D=0;D<d.length;D+=2){const R=d[D],L=d[D+1];C=C>R?R:C,O=O>L?L:O,x=x<R?R:x,M=M<L?L:M}_=[C,O,x,M]}return["Mesh",S,d,g,w,_,y,A]}throw new Error(`Unsupported pattern kind: ${e}`)}}class vj{static write(t){let e,i;return Ie.isFloat16ArraySupported?(i=new ArrayBuffer(t.length*2),e=new Float16Array(i)):(i=new ArrayBuffer(t.length*4),e=new Float32Array(i)),e.set(t),i}#t;constructor(t){this.#t=t}get path(){return Ie.isFloat16ArraySupported?new Float16Array(this.#t):new Float32Array(this.#t)}}function yj(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(vn)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function bj(n){if(vn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return qu(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Dh(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const by=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,Aj=n=>typeof n=="object"&&typeof n?.name=="string",wj=tj.bind(null,by,Aj);class Sj{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:s}=i;if(s.aborted){xt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",l),s.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Ph={DATA:1,ERROR:2},De={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Q_(){}function kn(n){if(n instanceof Ma||n instanceof py||n instanceof $_||n instanceof hf||n instanceof xm)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||ee('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ma(n.message);case"InvalidPDFException":return new py(n.message);case"PasswordException":return new $_(n.message,n.code);case"ResponseException":return new hf(n.message,n.status,n.missing);case"UnknownErrorException":return new xm(n.message,n.details)}return new xm(n.message,n.toString())}class cu{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Ph.DATA)r.resolve(t.data);else if(t.callback===Ph.ERROR)r.reject(kn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(l){s.postMessage({sourceName:i,targetName:r,callback:Ph.DATA,callbackId:t.callbackId,data:l})},function(l){s.postMessage({sourceName:i,targetName:r,callback:Ph.ERROR,callbackId:t.callbackId,reason:kn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(l){s.reject(l)}return s.promise}sendWithStream(t,e,i,r){const s=this.streamId++,l=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:f,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:u,action:t,streamId:s,data:e,desiredSize:f.desiredSize},r),d.promise},pull:f=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,h.postMessage({sourceName:l,targetName:u,stream:De.PULL,streamId:s,desiredSize:f.desiredSize}),d.promise},cancel:f=>{Bt(f instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,h.postMessage({sourceName:l,targetName:u,stream:De.CANCEL,streamId:s,reason:kn(f)}),d.promise}},i)}#i(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,l=this,u=this.actionHandler[t.action],h={enqueue(f,d=1,g){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=d,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:De.ENQUEUE,streamId:e,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:De.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Bt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:De.ERROR,streamId:e,reason:kn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(u,t.data,h).then(function(){s.postMessage({sourceName:i,targetName:r,stream:De.START_COMPLETE,streamId:e,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:De.START_COMPLETE,streamId:e,reason:kn(f)})})}#n(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case De.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(kn(t.reason));break;case De.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(kn(t.reason));break;case De.PULL:if(!u){s.postMessage({sourceName:i,targetName:r,stream:De.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||Q_).then(function(){s.postMessage({sourceName:i,targetName:r,stream:De.PULL_COMPLETE,streamId:e,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:De.PULL_COMPLETE,streamId:e,reason:kn(f)})});break;case De.ENQUEUE:if(Bt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case De.CLOSE:if(Bt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#s(l,e);break;case De.ERROR:Bt(l,"error should have stream controller"),l.controller.error(kn(t.reason)),this.#s(l,e);break;case De.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(kn(t.reason)),this.#s(l,e);break;case De.CANCEL:if(!u)break;const h=kn(t.reason);Promise.try(u.onCancel||Q_,h).then(function(){s.postMessage({sourceName:i,targetName:r,stream:De.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:De.CANCEL_COMPLETE,streamId:e,reason:kn(f)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#s(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class yM{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ee("Abstract method `_createCanvas` called.")}}class _j extends yM{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class bM{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ee("Abstract method `_fetch` called.")}}class J_ extends bM{async _fetch(t){const e=await $u(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):qu(e)}}class AM{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,s){return"none"}destroy(t=!1){}}class Ej extends AM{#t;#e;#i;#n;#s;#a;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#s=e}get#o(){return this.#e||=new Map}get#u(){return this.#a||=new Map}get#l(){if(!this.#i){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#s.createElementNS(_r,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#s.createElementNS(_r,"defs"),t.append(i),i.append(this.#i),this.#s.body.append(t)}return this.#i}#f(t){if(t.length===1){const h=t[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=h[g]/255;const d=f.join(",");return[d,d,d]}const[e,i,r]=t,s=new Array(256),l=new Array(256),u=new Array(256);for(let h=0;h<256;h++)s[h]=e[h]/255,l[h]=i[h]/255,u[h]=r[h]/255;return[s.join(","),l.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#s.URL;e!==this.#s.baseURI&&(hd(e)?xt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=lM(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,r,s]=this.#f(t),l=t.length===1?i:`${i}${r}${s}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#r++}`,h=this.#h(u);this.#o.set(t,h),this.#o.set(l,h);const f=this.#g(u);return this.#p(i,r,s,f),h}addHCMFilter(t,e){const i=`${t}-${e}`,r="base";let s=this.#u.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#u.set(r,s)),!t||!e))return s.url;const l=this.#b(t);t=ot.makeHexColor(...l);const u=this.#b(e);if(e=ot.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return s.url;const h=new Array(256);for(let y=0;y<=255;y++){const A=y/255;h[y]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=h.join(","),d=`g_${this.#n}_hcm_filter`,g=s.filter=this.#g(d);this.#p(f,f,f,g),this.#m(g);const m=(y,A)=>{const w=l[y]/255,S=u[y]/255,_=new Array(A+1);for(let C=0;C<=A;C++)_[C]=w+C/A*(S-w);return _.join(",")};return this.#p(m(0,5),m(1,5),m(2,5),g),s.url=this.#h(d),s.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#f([t]),r=`alpha_${i}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const s=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#h(s);this.#o.set(t,l),this.#o.set(r,l);const u=this.#g(s);return this.#v(i,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#f([t]),r=`luminosity_${i}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#h(s);this.#o.set(t,l),this.#o.set(r,l);const u=this.#g(s);return this.#d(u),t&&this.#v(i,u),l}addHighlightHCMFilter(t,e,i,r,s){const l=`${e}-${i}-${r}-${s}`;let u=this.#u.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#u.set(t,u)),!e||!i))return u.url;const[h,f]=[e,i].map(this.#b.bind(this));let d=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[m,y]=[r,s].map(this.#b.bind(this));g<d&&([d,g,m,y]=[g,d,y,m]),this.#l.style.color="";const A=(_,C,x)=>{const O=new Array(256),M=(g-d)/x,D=_/255,R=(C-_)/(255*x);let L=0;for(let z=0;z<=x;z++){const K=Math.round(d+z*M),G=D+z*R;for(let U=L;U<=K;U++)O[U]=G;L=K+1}for(let z=L;z<256;z++)O[z]=O[L-1];return O.join(",")},w=`g_${this.#n}_hcm_${t}_filter`,S=u.filter=this.#g(w);return this.#m(S),this.#p(A(m[0],y[0],5),A(m[1],y[1],5),A(m[2],y[2],5),S),u.url=this.#h(w),u.url}destroy(t=!1){t&&this.#a?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#a?.clear(),this.#a=null,this.#r=0)}#d(t){const e=this.#s.createElementNS(_r,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#s.createElementNS(_r,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#g(t){const e=this.#s.createElementNS(_r,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#c(t,e,i){const r=this.#s.createElementNS(_r,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#p(t,e,i,r){const s=this.#s.createElementNS(_r,"feComponentTransfer");r.append(s),this.#c(s,"feFuncR",t),this.#c(s,"feFuncG",e),this.#c(s,"feFuncB",i)}#v(t,e){const i=this.#s.createElementNS(_r,"feComponentTransfer");e.append(i),this.#c(i,"feFuncA",t)}#b(t){return this.#l.style.color=t,Vu(getComputedStyle(this.#l).getPropertyValue("color"))}}class wM{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ee("Abstract method `_fetch` called.")}}class tE extends wM{async _fetch(t){const e=await $u(t,"arraybuffer");return new Uint8Array(e)}}class SM{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){ee("Abstract method `_fetch` called.")}}class eE extends SM{async _fetch(t){const e=await $u(t,"arraybuffer");return new Uint8Array(e)}}vn&&xt("Please use the `legacy` build in Node.js environments.");async function O0(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class xj extends AM{}class Cj extends yM{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class Tj extends bM{async _fetch(t){return O0(t)}}class Oj extends wM{async _fetch(t){return O0(t)}}class Mj extends SM{async _fetch(t){return O0(t)}}const go="__forcedDependency",{floor:nE,ceil:iE}=Math;function Rh(n,t,e,i,r,s){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],i),n[t*4+2]=Math.max(n[t*4+2],r),n[t*4+3]=Math.max(n[t*4+3],s)}const Ay=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Dj{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Ay}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const kh=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};class Pj{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[go]:[]};#i=new Map;#n=[];#s=[];#a=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#u=-1;#l=new Set;#f=new Map;#h=new Map;#d;#m;#g;#c;#p;constructor(t,e,i=!1){this.#d=t.width,this.#m=t.height,this.#v(e),i&&(this.#p=new Map)}growOperationsCount(t){t>=this.#c.length&&this.#v(t,this.#c)}#v(t,e){const i=new ArrayBuffer(t*4);this.#g=new Uint8ClampedArray(i),this.#c=new Uint32Array(i),e&&e.length>0?(this.#c.set(e),this.#c.fill(Ay,e.length)):this.#c.fill(Ay)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[go]:{__proto__:this.#e[go]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const i=this.#n.pop();return i!==void 0&&(kh(this.#p,t)?.dependencies.add(i),this.#c[t]=this.#c[i]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(kh(this.#p,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}beginMarkedContent(t){return this.#s.push(t),this}endMarkedContent(t){const e=this.#s.pop();return e!==void 0&&(kh(this.#p,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}pushBaseTransform(t){return this.#a.push(ot.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,i){this.#t[t]=this.#i.get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(go,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(go,t);return this}resetBBox(t){return this.#u!==t&&(this.#u=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,i,r,s,l){const u=ot.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform()),h=[1/0,1/0,-1/0,-1/0];ot.axialAlignedBoundingBox([i,s,r,l],u,h);const f=ot.intersect(this.#r,h);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,i,r,s,l){const u=this.#r;if(u[0]===1/0)return this;const h=ot.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform());if(u[0]===-1/0)return ot.axialAlignedBoundingBox([i,s,r,l],h,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return ot.axialAlignedBoundingBox([i,s,r,l],h,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,i,r=1,s=0,l=0,u){const h=i.bbox;let f,d;if(h&&(f=h[2]!==h[0]&&h[3]!==h[1]&&this.#h.get(i),f!==!1&&(d=[0,0,0,0],ot.axialAlignedBoundingBox(h,i.fontMatrix,d),(r!==1||s!==0||l!==0)&&ot.scaleMinMax([r,0,0,-r,s,l],d),f)))return this.recordBBox(t,e,d[0],d[2],d[1],d[3]);if(!u)return this.recordFullPageBBox(t);const g=u();return h&&d&&f===void 0&&(f=d[0]<=s-g.actualBoundingBoxLeft&&d[2]>=s+g.actualBoundingBoxRight&&d[1]<=l-g.actualBoundingBoxAscent&&d[3]>=l+g.actualBoundingBoxDescent,this.#h.set(i,f),f)?this.recordBBox(t,e,d[0],d[2],d[1],d[3]):this.recordBBox(t,e,s-g.actualBoundingBoxLeft,s+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#d,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const i=this.#l,r=this.#t,s=this.#e;for(const l of e)l in this.#t?i.add(r[l]):l in s&&s[l].forEach(i.add,i);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[go]),this.#p){const i=kh(this.#p,t),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#s.forEach(r.add,r),r.delete(t),i.isRenderingOperation=!0}if(this.#u===t){const i=nE(this.#o[0]*256/this.#d),r=nE(this.#o[1]*256/this.#m),s=iE(this.#o[2]*256/this.#d),l=iE(this.#o[3]*256/this.#m);Rh(this.#g,t,i,r,s,l);for(const u of this.#l)u!==t&&Rh(this.#g,u,i,r,s,l);for(const u of this.#n)u!==t&&Rh(this.#g,u,i,r,s,l);for(const u of this.#s)u!==t&&Rh(this.#g,u,i,r,s,l);e||(this.#l.clear(),this.#u=-1)}return this}recordShowTextOperation(t,e=!1){const i=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#u===t&&(this.#u=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#f.get(t);return this.#f.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new Dj(this.#c,this.#g)}takeDebugMetadata(){return this.#p}}class ff{#t;#e;#i;#n=0;#s=0;constructor(t,e,i){if(t instanceof ff&&t.#i===!!i)return t;this.#t=t,this.#e=e,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#s++,this.#t.save(this.#e),this}restore(t){return this.#s>0&&(this.#t.restore(this.#e),this.#s--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,i,r,s,l){return this.#i||this.#t.recordClipBox(this.#e,e,i,r,s,l),this}recordBBox(t,e,i,r,s,l){return this.#i||this.#t.recordBBox(this.#e,e,i,r,s,l),this}recordCharacterBBox(t,e,i,r,s,l,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,i,r,s,l,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const gi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},on={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function wy(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}class M0{isModifyingCurrentTransform(){return!1}getPattern(){ee("Abstract method `getPattern` called.")}}class Rj extends M0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(t,e=null){let i,r=this._p0,s=this._p1;if(e&&(r=r.slice(),s=s.slice(),ot.applyTransform(r,e),ot.applyTransform(s,e)),this._type==="axial")i=t.createLinearGradient(r[0],r[1],s[0],s[1]);else if(this._type==="radial"){let l=this._r0,u=this._r1;if(e){const h=new Float32Array(2);ot.singularValueDecompose2dScale(e,h),l*=h[0],u*=h[0]}i=t.createRadialGradient(r[0],r[1],l,s[0],s[1],u)}for(const l of this._colorStops)i.addColorStop(l[0],l[1]);return i}getPattern(t,e,i,r){let s;if(r===on.STROKE||r===on.FILL){if(this.isOriginBased()){let m=ot.transform(i,e.baseTransform);this.matrix&&(m=ot.transform(m,this.matrix));const y=.001,A=Math.hypot(m[0],m[1]),w=Math.hypot(m[2],m[3]),S=(m[0]*m[2]+m[1]*m[3])/(A*w);if(Math.abs(S)<y)if(this.isRadial()){if(Math.abs(A-w)<y)return this._createGradient(t,m)}else return this._createGradient(t,m)}const l=e.current.getClippedPathBoundingBox(r,pe(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,h),d=f.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-l[0],-l[1]),i=ot.transform(i,[1,0,0,1,l[0],l[1]]),d.transform(...e.baseTransform),this.matrix&&d.transform(...this.matrix),wy(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=t.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(i);s.setTransform(g)}else wy(t,this._bbox),s=this._createGradient(t);return s}}function Om(n,t,e,i,r,s,l,u){const h=t.coords,f=t.colors,d=n.data,g=n.width*4;let m;h[e+1]>h[i+1]&&(m=e,e=i,i=m,m=s,s=l,l=m),h[i+1]>h[r+1]&&(m=i,i=r,r=m,m=l,l=u,u=m),h[e+1]>h[i+1]&&(m=e,e=i,i=m,m=s,s=l,l=m);const y=(h[e]+t.offsetX)*t.scaleX,A=(h[e+1]+t.offsetY)*t.scaleY,w=(h[i]+t.offsetX)*t.scaleX,S=(h[i+1]+t.offsetY)*t.scaleY,_=(h[r]+t.offsetX)*t.scaleX,C=(h[r+1]+t.offsetY)*t.scaleY;if(A>=C)return;const x=f[s],O=f[s+1],M=f[s+2],D=f[l],R=f[l+1],L=f[l+2],z=f[u],K=f[u+1],G=f[u+2],U=Math.round(A),st=Math.round(C);let it,lt,I,F,et,at,dt,k;for(let $=U;$<=st;$++){if($<S){const ut=$<A?0:(A-$)/(A-S);it=y-(y-w)*ut,lt=x-(x-D)*ut,I=O-(O-R)*ut,F=M-(M-L)*ut}else{let ut;$>C?ut=1:S===C?ut=0:ut=(S-$)/(S-C),it=w-(w-_)*ut,lt=D-(D-z)*ut,I=R-(R-K)*ut,F=L-(L-G)*ut}let tt;$<A?tt=0:$>C?tt=1:tt=(A-$)/(A-C),et=y-(y-_)*tt,at=x-(x-z)*tt,dt=O-(O-K)*tt,k=M-(M-G)*tt;const rt=Math.round(Math.min(it,et)),mt=Math.round(Math.max(it,et));let At=g*$+rt*4;for(let ut=rt;ut<=mt;ut++)tt=(it-ut)/(it-et),tt<0?tt=0:tt>1&&(tt=1),d[At++]=lt-(lt-at)*tt|0,d[At++]=I-(I-dt)*tt|0,d[At++]=F-(F-k)*tt|0,d[At++]=255}}function kj(n,t,e){const i=t.coords,r=t.colors;let s,l;switch(t.type){case dy.LATTICE:const u=t.verticesPerRow,h=Math.floor(i.length/u)-1,f=u-1;for(s=0;s<h;s++){let d=s*u;for(let g=0;g<f;g++,d++)Om(n,e,i[d],i[d+1],i[d+u],r[d],r[d+1],r[d+u]),Om(n,e,i[d+u+1],i[d+1],i[d+u],r[d+u+1],r[d+1],r[d+u])}break;case dy.TRIANGLES:for(s=0,l=i.length;s<l;s+=3)Om(n,e,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Nj extends M0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,d=Math.ceil(this._bounds[3])-h,g=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(d*t[1]*1.1)),3e3),y=f/g,A=d/m,w={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/y,scaleY:1/A},S=g+4,_=m+4,C=i.getCanvas("mesh",S,_),x=C.context,O=x.createImageData(g,m);if(e){const D=O.data;for(let R=0,L=D.length;R<L;R+=4)D[R]=e[0],D[R+1]=e[1],D[R+2]=e[2],D[R+3]=255}for(const D of this._figures)kj(O,D,w);return x.putImageData(O,2,2),{canvas:C.canvas,offsetX:u-2*y,offsetY:h-2*A,scaleX:y,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){wy(t,this._bbox);const s=new Float32Array(2);if(r===on.SHADING)ot.singularValueDecompose2dScale(pe(t),s);else if(this.matrix){ot.singularValueDecompose2dScale(this.matrix,s);const[u,h]=s;ot.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=u,s[1]*=h}else ot.singularValueDecompose2dScale(e.baseTransform,s);const l=this._createMeshCanvas(s,r===on.SHADING?null:this._background,e.cachedCanvases);return r!==on.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class Lj extends M0{getPattern(){return"hotpink"}}function Ij(n){switch(n[0]){case"RadialAxial":return new Rj(n);case"Mesh":return new Nj(n);case"Dummy":return new Lj}throw new Error(`Unknown IR type: ${n[0]}`)}const rE={COLORED:1,UNCOLORED:2};class D0{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:i,operatorList:r,paintType:s,tilingType:l,color:u,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:d}=this;f=Math.abs(f),d=Math.abs(d),cd("TilingType: "+l);const g=i[0],m=i[1],y=i[2],A=i[3],w=y-g,S=A-m,_=new Float32Array(2);ot.singularValueDecompose2dScale(this.matrix,_);const[C,x]=_;ot.singularValueDecompose2dScale(this.baseTransform,_);const O=C*_[0],M=x*_[1];let D=w,R=S,L=!1,z=!1;const K=Math.ceil(f*O),G=Math.ceil(d*M),U=Math.ceil(w*O),st=Math.ceil(S*M);K>=U?D=f:L=!0,G>=st?R=d:z=!0;const it=this.getSizeAndScale(D,this.ctx.canvas.width,O),lt=this.getSizeAndScale(R,this.ctx.canvas.height,M),I=t.cachedCanvases.getCanvas("pattern",it.size,lt.size),F=I.context,et=h.createCanvasGraphics(F,e);if(et.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(et,s,u),F.translate(-it.scale*g,-lt.scale*m),et.transform(0,it.scale,0,0,lt.scale,0,0),F.save(),et.dependencyTracker?.save(),this.clipBbox(et,g,m,y,A),et.baseTransform=pe(et.ctx),et.executeOperatorList(r),et.endDrawing(),et.dependencyTracker?.restore(),F.restore(),L||z){const at=I.canvas;L&&(D=f),z&&(R=d);const dt=this.getSizeAndScale(D,this.ctx.canvas.width,O),k=this.getSizeAndScale(R,this.ctx.canvas.height,M),$=dt.size,tt=k.size,rt=t.cachedCanvases.getCanvas("pattern-workaround",$,tt),mt=rt.context,At=L?Math.floor(w/f):0,ut=z?Math.floor(S/d):0;for(let ae=0;ae<=At;ae++)for(let Z=0;Z<=ut;Z++)mt.drawImage(at,$*ae,tt*Z,$,tt,0,0,$,tt);return{canvas:rt.canvas,scaleX:dt.scale,scaleY:k.scale,offsetX:g,offsetY:m}}return{canvas:I.canvas,scaleX:it.scale,scaleY:lt.scale,offsetX:g,offsetY:m}}getSizeAndScale(t,e,i){const r=Math.max(D0.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*i);return s>=r?s=r:i=s/t,{scale:i,size:s}}clipBbox(t,e,i,r,s){const l=r-e,u=s-i;t.ctx.rect(e,i,l,u),ot.axialAlignedBoundingBox([e,i,r,s],pe(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,s=t.current;switch(e){case rE.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;r.fillStyle=s.fillColor=l,r.strokeStyle=s.strokeColor=u;break;case rE.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new XI(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r,s){let l=i;r!==on.SHADING&&(l=ot.transform(l,e.baseTransform),this.matrix&&(l=ot.transform(l,this.matrix)));const u=this.createPatternCanvas(e,s);let h=new DOMMatrix(l);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(h),f}}function jj({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:l=!1}){const u=Ie.isLittleEndian?4278190080:255,[h,f]=l?[s,u]:[u,s],d=i>>3,g=i&7,m=n.length;e=new Uint32Array(e.buffer);let y=0;for(let A=0;A<r;A++){for(const S=t+d;t<S;t++){const _=t<m?n[t]:255;e[y++]=_&128?f:h,e[y++]=_&64?f:h,e[y++]=_&32?f:h,e[y++]=_&16?f:h,e[y++]=_&8?f:h,e[y++]=_&4?f:h,e[y++]=_&2?f:h,e[y++]=_&1?f:h}if(g===0)continue;const w=t<m?n[t++]:255;for(let S=0;S<g;S++)e[y++]=w&1<<7-S?f:h}return{srcPos:t,destPos:y}}const aE=16,sE=100,Bj=15,oE=10,Nn=16,Mm=new DOMMatrix,Jn=new Float32Array(2),xo=new Float32Array([1/0,1/0,-1/0,-1/0]);function zj(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,r,s,l,u){t.transform(e,i,r,s,l,u),this.__originalTransform(e,i,r,s,l,u)},n.setTransform=function(e,i,r,s,l,u){t.setTransform(e,i,r,s,l,u),this.__originalSetTransform(e,i,r,s,l,u)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,s,l,u){t.bezierCurveTo(e,i,r,s,l,u),this.__originalBezierCurveTo(e,i,r,s,l,u)},n.rect=function(e,i,r,s){t.rect(e,i,r,s),this.__originalRect(e,i,r,s)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Fj{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Nh(n,t,e,i,r,s,l,u,h,f){const[d,g,m,y,A,w]=pe(n);if(g===0&&m===0){const C=l*d+A,x=Math.round(C),O=u*y+w,M=Math.round(O),D=(l+h)*d+A,R=Math.abs(Math.round(D)-x)||1,L=(u+f)*y+w,z=Math.abs(Math.round(L)-M)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(y),x,M),n.drawImage(t,e,i,r,s,0,0,R,z),n.setTransform(d,g,m,y,A,w),[R,z]}if(d===0&&y===0){const C=u*m+A,x=Math.round(C),O=l*g+w,M=Math.round(O),D=(u+f)*m+A,R=Math.abs(Math.round(D)-x)||1,L=(l+h)*g+w,z=Math.abs(Math.round(L)-M)||1;return n.setTransform(0,Math.sign(g),Math.sign(m),0,x,M),n.drawImage(t,e,i,r,s,0,0,z,R),n.setTransform(d,g,m,y,A,w),[z,R]}n.drawImage(t,e,i,r,s,l,u,h,f);const S=Math.hypot(d,g),_=Math.hypot(m,y);return[S*h,_*f]}class lE{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=fy;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ne.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,i){i?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=xo.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=on.FILL,e=null){const i=this.minMax.slice();if(t===on.STROKE){e||ee("Stroke bounding box must include transform."),ot.singularValueDecompose2dScale(e,Jn);const r=Jn[0]*this.lineWidth/2,s=Jn[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const t=ot.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(xo,0)}getClippedPathBoundingBox(t=on.FILL,e=null){return ot.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function uE(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%Nn,s=(e-r)/Nn,l=r===0?s:s+1,u=n.createImageData(i,Nn);let h=0,f;const d=t.data,g=u.data;let m,y,A,w;if(t.kind===ef.GRAYSCALE_1BPP){const S=d.byteLength,_=new Uint32Array(g.buffer,0,g.byteLength>>2),C=_.length,x=i+7>>3,O=4294967295,M=Ie.isLittleEndian?4278190080:255;for(m=0;m<l;m++){for(A=m<s?Nn:r,f=0,y=0;y<A;y++){const D=S-h;let R=0;const L=D>x?i:D*8-7,z=L&-8;let K=0,G=0;for(;R<z;R+=8)G=d[h++],_[f++]=G&128?O:M,_[f++]=G&64?O:M,_[f++]=G&32?O:M,_[f++]=G&16?O:M,_[f++]=G&8?O:M,_[f++]=G&4?O:M,_[f++]=G&2?O:M,_[f++]=G&1?O:M;for(;R<L;R++)K===0&&(G=d[h++],K=128),_[f++]=G&K?O:M,K>>=1}for(;f<C;)_[f++]=0;n.putImageData(u,0,m*Nn)}}else if(t.kind===ef.RGBA_32BPP){for(y=0,w=i*Nn*4,m=0;m<s;m++)g.set(d.subarray(h,h+w)),h+=w,n.putImageData(u,0,y),y+=Nn;m<l&&(w=i*r*4,g.set(d.subarray(h,h+w)),n.putImageData(u,0,y))}else if(t.kind===ef.RGB_24BPP)for(A=Nn,w=i*A,m=0;m<l;m++){for(m>=s&&(A=r,w=i*A),f=0,y=w;y--;)g[f++]=d[h++],g[f++]=d[h++],g[f++]=d[h++],g[f++]=255;n.putImageData(u,0,m*Nn)}else throw new Error(`bad image kind: ${t.kind}`)}function cE(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%Nn,s=(e-r)/Nn,l=r===0?s:s+1,u=n.createImageData(i,Nn);let h=0;const f=t.data,d=u.data;for(let g=0;g<l;g++){const m=g<s?Nn:r;({srcPos:h}=jj({src:f,srcPos:h,dest:d,width:i,height:m,nonBlackColor:0})),n.putImageData(u,0,g*Nn)}}function Wl(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function Lh(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function hE(n,t){if(t)return!0;ot.singularValueDecompose2dScale(n,Jn);const e=Math.fround(Ji.pixelRatio*Io.PDF_TO_CSS_UNITS);return Jn[0]<=e&&Jn[1]<=e}const Uj=["butt","round","square"],Hj=["miter","round","bevel"],qj={},fE={};class Po{constructor(t,e,i,r,s,{optionalContentConfig:l,markedContentStack:u=null},h,f,d){this.ctx=t,this.current=new lE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new Fj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(t,e,i=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,l),this.ctx.fillStyle=u,i){const h=this.cachedCanvases.getCanvas("transparent",s,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...pe(this.compositeCtx))}this.ctx.save(),Lh(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=pe(this.ctx)}executeOperatorList(t,e,i,r,s){const l=t.argsArray,u=t.fnArray;let h=e||0;const f=l.length;if(f===h)return h;const d=f-h>oE&&typeof i=="function",g=d?Date.now()+Bj:0;let m=0;const y=this.commonObjs,A=this.objs;let w,S;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,i),h;if(!s||s(h))if(w=u[h],S=l[h]??null,w!==wu.dependency)S===null?this[w](h):this[w](h,...S);else for(const _ of S){this.dependencyTracker?.recordNamedData(_,h);const C=_.startsWith("g_")?y:A;if(!C.has(_))return C.get(_,i),h}if(h++,h===f)return h;if(d&&++m>oE){if(Date.now()>g)return i(),h;m=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=i,h=r,f="prescale1",d,g;for(;s>2&&u>1||l>2&&h>1;){let m=u,y=h;s>2&&u>1&&(m=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),s/=u/m),l>2&&h>1&&(y=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/y),d=this.cachedCanvases.getCanvas(f,m,y),g=d.context,g.clearRect(0,0,m,y),g.drawImage(t,0,0,u,h,0,0,m,y),t=d.canvas,u=m,h=y,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t,e){const i=this.ctx,{width:r,height:s}=e,l=this.current.fillColor,u=this.current.patternFill,h=pe(i);let f,d,g,m;if((e.bitmap||e.data)&&e.count>1){const K=e.bitmap||e.data.buffer;d=JSON.stringify(u?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(K),f||(f=new Map,this._cachedBitmapsMap.set(K,f));const G=f.get(d);if(G&&!u){const U=Math.round(Math.min(h[0],h[2])+h[4]),st=Math.round(Math.min(h[1],h[3])+h[5]);return this.dependencyTracker?.recordDependencies(t,gi.transformAndFill),{canvas:G,offsetX:U,offsetY:st}}g=G}g||(m=this.cachedCanvases.getCanvas("maskCanvas",r,s),cE(m.context,e));let y=ot.transform(h,[1/r,0,0,-1/s,0,0]);y=ot.transform(y,[1,0,0,1,0,-s]);const A=xo.slice();ot.axialAlignedBoundingBox([0,0,r,s],y,A);const[w,S,_,C]=A,x=Math.round(_-w)||1,O=Math.round(C-S)||1,M=this.cachedCanvases.getCanvas("fillCanvas",x,O),D=M.context,R=w,L=S;D.translate(-R,-L),D.transform(...y),g||(g=this._scaleImage(m.canvas,Hi(D)),g=g.img,f&&u&&f.set(d,g)),D.imageSmoothingEnabled=hE(pe(D),e.interpolate),Nh(D,g,0,0,g.width,g.height,0,0,r,s),D.globalCompositeOperation="source-in";const z=ot.transform(Hi(D),[1,0,0,1,-R,-L]);return D.fillStyle=u?l.getPattern(i,this,z,on.FILL,t):l,D.fillRect(0,0,r,s),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(d,M.canvas)),this.dependencyTracker?.recordDependencies(t,gi.transformAndFill),{canvas:M.canvas,offsetX:Math.round(R),offsetY:Math.round(L)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=Uj[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=Hj[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[i,r]of e)switch(i){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const l=this.ctx=s.context;l.setTransform(this.suspendedCtx.getTransform()),Wl(this.suspendedCtx,l),zj(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Wl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const s=r[0],l=r[1],u=r[2]-s,h=r[3]-l;u===0||h===0||(this.genericComposeSMask(e.context,i,u,h,e.subtype,e.backdrop,e.transferMap,s,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,s,l,u,h,f,d,g){let m=t.canvas,y=h-d,A=f-g;if(l)if(y<0||A<0||y+i>m.width||A+r>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",i,r),_=S.context;_.drawImage(m,-y,-A),_.globalCompositeOperation="destination-atop",_.fillStyle=l,_.fillRect(0,0,i,r),_.globalCompositeOperation="source-over",m=S.canvas,y=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(y,A,i,r),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(y,A,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const w=new Path2D;w.rect(h,f,i,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(m,y,A,i,r,h,f,i,r),e.restore()}save(t){this.inSMaskMode&&Wl(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Wl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,s,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,i,r,s,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,r){let[s]=i;if(!r){s||=i[0]=new Path2D,this[e](t,s);return}if(this.dependencyTracker!==null){const l=e===wu.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}s instanceof Path2D||(s=i[0]=pM(s)),ot.axialAlignedBoundingBox(r,pe(this.ctx),this.current.minMax),this[e](t,s),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const l=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Hi(r),on.STROKE,t),l){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,gi.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(on.STROKE,pe(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){const r=this.ctx,s=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=s.getPattern(r,this,Hi(r),on.FILL,t),f){const d=new Path2D;d.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=d}u=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,gi.fill),u&&(r.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,e,h)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,gi.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=qj}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=fE}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:l,x:u,y:h,fontSize:f,path:d}of e)d&&r.addPath(d,new DOMMatrix(l).preMultiplySelf(s).translate(u,h).scale(f,-f));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||fy,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&xt("Invalid font matrix for font "+e),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",u=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let h="normal";r.black?h="900":r.bold&&(h="bold");const f=r.italic?"italic":"normal";let d=i;i<aE?d=aE:i>sE&&(d=sE),this.current.fontSizeScale=i/d,this.ctx.font=`${f} ${h} ${d}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r}paintChar(t,e,i,r,s,l){const u=this.ctx,h=this.current,f=h.font,d=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,m=d&Ne.FILL_STROKE_MASK,y=!!(d&Ne.ADD_TO_PATH_FLAG),A=h.patternFill&&!f.missingFile,w=h.patternStroke&&!f.missingFile;let S;if((f.disableFontFace||y||A||w)&&!f.missingFile&&(S=f.getPathGenerator(this.commonObjs,e)),S&&(f.disableFontFace||A||w)){u.save(),u.translate(i,r),u.scale(g,-g),this.dependencyTracker?.recordCharacterBBox(t,u,f);let _;if(m===Ne.FILL||m===Ne.FILL_STROKE)if(s){_=u.getTransform(),u.setTransform(...s);const C=this.#i(S,_,s);u.fill(C)}else u.fill(S);if(m===Ne.STROKE||m===Ne.FILL_STROKE)if(l){_||=u.getTransform(),u.setTransform(...l);const{a:C,b:x,c:O,d:M}=_,D=ot.inverseTransform(l),R=ot.transform([C,x,O,M,0,0],D);ot.singularValueDecompose2dScale(R,Jn),u.lineWidth*=Math.max(Jn[0],Jn[1])/g,u.stroke(this.#i(S,_,l))}else u.lineWidth/=g,u.stroke(S);u.restore()}else(m===Ne.FILL||m===Ne.FILL_STROKE)&&(u.fillText(e,i,r),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,r,()=>u.measureText(e))),(m===Ne.STROKE||m===Ne.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,r,()=>u.measureText(e)).recordDependencies(t,gi.stroke),u.strokeText(e,i,r));y&&((this.pendingTextPaths||=[]).push({transform:pe(u),x:i,y:r,fontSize:g,path:S}),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Ct(this,"isFontSubpixelAAEnabled",i)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,gi.showText).resetBBox(t),this.current.textRenderingMode&Ne.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const s=i.fontSize;if(s===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=i.fontSizeScale,h=i.charSpacing,f=i.wordSpacing,d=i.fontDirection,g=i.textHScale*d,m=e.length,y=r.vertical,A=y?1:-1,w=r.defaultVMetrics,S=s*i.fontMatrix[0],_=i.textRenderingMode===Ne.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),d>0?l.scale(g,-1):l.scale(g,1);let C,x;const O=i.textRenderingMode&Ne.FILL_STROKE_MASK,M=O===Ne.FILL||O===Ne.FILL_STROKE,D=O===Ne.STROKE||O===Ne.FILL_STROKE;if(M&&i.patternFill){l.save();const G=i.fillColor.getPattern(l,this,Hi(l),on.FILL,t);C=pe(l),l.restore(),l.fillStyle=G}if(D&&i.patternStroke){l.save();const G=i.strokeColor.getPattern(l,this,Hi(l),on.STROKE,t);x=pe(l),l.restore(),l.strokeStyle=G}let R=i.lineWidth;const L=i.textMatrixScale;if(L===0||R===0?D&&(R=this.getSinglePixelWidth()):R/=L,u!==1&&(l.scale(u,u),R/=u),l.lineWidth=R,r.isInvalidPDFjsFont){const G=[];let U=0;for(const it of e)G.push(it.unicode),U+=it.width;const st=G.join("");if(l.fillText(st,0,0),this.dependencyTracker!==null){const it=l.measureText(st);this.dependencyTracker.recordBBox(t,this.ctx,-it.actualBoundingBoxLeft,it.actualBoundingBoxRight,-it.actualBoundingBoxAscent,it.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=U*S*g,l.restore(),this.compose();return}let z=0,K;for(K=0;K<m;++K){const G=e[K];if(typeof G=="number"){z+=A*G*s/1e3;continue}let U=!1;const st=(G.isSpace?f:0)+h,it=G.fontChar,lt=G.accent;let I,F,et=G.width;if(y){const k=G.vmetric||w,$=-(G.vmetric?k[1]:et*.5)*S,tt=k[2]*S;et=k?-k[0]:et,I=$/u,F=(z+tt)/u}else I=z/u,F=0;let at;if(r.remeasure&&et>0){at=l.measureText(it);const k=at.width*1e3/s*u;if(et<k&&this.isFontSubpixelAAEnabled){const $=et/k;U=!0,l.save(),l.scale($,1),I/=$}else et!==k&&(I+=(et-k)/2e3*s/u)}if(this.contentVisible&&(G.isInFont||r.missingFile)){if(_&&!lt)l.fillText(it,I,F),this.dependencyTracker?.recordCharacterBBox(t,l,at?{bbox:null}:r,s/u,I,F,()=>at??l.measureText(it));else if(this.paintChar(t,it,I,F,C,x),lt){const k=I+s*lt.offset.x/u,$=F-s*lt.offset.y/u;this.paintChar(t,lt.fontChar,k,$,C,x)}}const dt=y?et*S-st*d:et*S+st*d;z+=dt,U&&l.restore()}y?i.y-=z:i.x+=z*g,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,r=this.current,s=r.font,l=r.fontSize,u=r.fontDirection,h=s.vertical?1:-1,f=r.charSpacing,d=r.wordSpacing,g=r.textHScale*u,m=r.fontMatrix||fy,y=e.length,A=r.textRenderingMode===Ne.INVISIBLE;let w,S,_,C;if(A||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(g,u);const x=this.dependencyTracker;for(this.dependencyTracker=x?new ff(x,t):null,w=0;w<y;++w){if(S=e[w],typeof S=="number"){C=h*S*l/1e3,this.ctx.translate(C,0),r.x+=C*g;continue}const O=(S.isSpace?d:0)+f,M=s.charProcOperatorList[S.operatorListId];M?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...m),this.executeOperatorList(M),this.restore()):xt(`Type3 character "${S.operatorListId}" is not available.`);const D=[S.width,0];ot.applyTransform(D,m),_=D[0]*l+O,i.translate(_,0),r.x+=_*g}i.restore(),x&&(this.dependencyTracker=x)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,r,s,l,u){const h=new Path2D;h.rect(r,s,l-r,u-s),this.ctx.clip(h),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,s,u).recordClipBox(t,this.ctx,r,l,s,u),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||pe(this.ctx),s={createCanvasGraphics:(l,u)=>new Po(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ff(this.dependencyTracker,u,!0):null)};i=new D0(e,this.ctx,s,r)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Ij(this.getObject(t,e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(t,e){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,e);i.fillStyle=r.getPattern(i,this,Hi(i),on.SHADING,t);const s=Hi(i);if(s){const{width:l,height:u}=i.canvas,h=xo.slice();ot.axialAlignedBoundingBox([0,0,l,u],s,h);const[f,d,g,m]=h;this.ctx.fillRect(f,d,g-f,m-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,gi.transform).recordDependencies(t,gi.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){ee("Should not call beginInlineImage")}beginImageData(){ee("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=pe(this.ctx),i)){ot.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,s,l,u]=i,h=new Path2D;h.rect(r,s,l-r,u-s),this.ctx.clip(h),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,s,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||cd("TODO: Support non-isolated groups."),e.knockout&&xt("Knockout groups not supported.");const r=pe(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=xo.slice();ot.axialAlignedBoundingBox(e.bbox,pe(i),s);const l=[0,0,i.canvas.width,i.canvas.height];s=ot.intersect(s,l)||[0,0,0,0];const u=Math.floor(s[0]),h=Math.floor(s[1]),f=Math.max(Math.ceil(s[2])-u,1),d=Math.max(Math.ceil(s[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,d]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(g,f,d),y=m.context;y.translate(-u,-h),y.transform(...r);let A=new Path2D;const[w,S,_,C]=e.bbox;if(A.rect(w,S,_-w,C-S),e.matrix){const x=new Path2D;x.addPath(A,new DOMMatrix(e.matrix)),A=x}y.clip(A),e.smask&&this.smaskStack.push({canvas:m.canvas,context:y,offsetX:u,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(u,h),i.save()),Wl(i,y),this.ctx=y,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=pe(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...s);const l=xo.slice();ot.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],s,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,i,r,s,l){if(this.#t(),Lh(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],h=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=h,ot.singularValueDecompose2dScale(pe(this.ctx),Jn);const{viewportScale:f}=this,d=Math.ceil(u*this.outputScaleX*f),g=Math.ceil(h*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(d,g);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Jn[0],0,0,-Jn[1],0,h*Jn[1]),Lh(this.ctx)}else{Lh(this.ctx),this.endPath(t);const f=new Path2D;f.rect(i[0],i[1],u,h),this.ctx.clip(f)}}this.current=new lE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...s)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const r=this.ctx,s=this._createMaskCanvas(t,e),l=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,s.offsetX,s.offsetX+l.width,s.offsetY,s.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,r=0,s=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const h=this.ctx;h.save();const f=pe(h);h.transform(i,r,s,l,0,0);const d=this._createMaskCanvas(t,e);h.setTransform(1,0,0,1,d.offsetX-f[4],d.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let g=0,m=u.length;g<m;g+=2){const y=ot.transform(f,[i,r,s,l,u[g],u[g+1]]);h.drawImage(d.canvas,y[4],y[5]),this.dependencyTracker?.recordBBox(t,this.ctx,y[4],y[4]+d.canvas.width,y[5],y[5]+d.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,gi.transformAndFill);for(const l of e){const{data:u,width:h,height:f,transform:d}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,f),m=g.context;m.save();const y=this.getObject(t,u,l);cE(m,y),m.globalCompositeOperation="source-in",m.fillStyle=s?r.getPattern(m,this,Hi(i),on.FILL,t):r,m.fillRect(0,0,h,f),m.restore(),i.save(),i.transform(...d),i.scale(1,-1),Nh(i,g.canvas,0,0,h,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,h,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,r,s){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){xt("Dependent image isn't ready yet");return}const u=l.width,h=l.height,f=[];for(let d=0,g=s.length;d<g;d+=2)f.push({transform:[i,0,0,r,s[d],s[d+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",i,r),l=s.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",s.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const i=e.width,r=e.height,s=this.ctx;this.save(t);const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none"),s.scale(1/i,-1/r);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",i,r).context;uE(d,e),u=this.applyTransferMapsToCanvas(d)}const h=this._scaleImage(u,Hi(s));s.imageSmoothingEnabled=hE(pe(s),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,s,0,i,-r,0).recordDependencies(t,gi.imageXObject).recordOperation(t),Nh(s,h.img,0,0,h.paintWidth,h.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;uE(f,e),s=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),Nh(r,s,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,gi.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===fE?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=pe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:s}=this.ctx.getTransform();let l,u;if(i===0&&r===0){const h=Math.abs(e),f=Math.abs(s);if(h===f)if(t===0)l=u=1/h;else{const d=h*t;l=u=d<1?1/d:1}else if(t===0)l=1/h,u=1/f;else{const d=h*t,g=f*t;l=d<1?1/d:1,u=g<1?1/g:1}}else{const h=Math.abs(e*s-i*r),f=Math.hypot(e,i),d=Math.hypot(r,s);if(t===0)l=d/h,u=f/h;else{const g=t*h;l=d>g?d/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[s,l]=this.getScaleForStroking();if(s===l){i.lineWidth=(r||1)*s,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(s,l),Mm.a=1/s,Mm.d=1/l;const h=new Path2D;if(h.addPath(t,Mm),u.length>0){const f=Math.max(s,l);i.setLineDash(u.map(d=>d/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const n in wu)Po.prototype[n]!==void 0&&(Po.prototype[wu[n]]=Po.prototype[n]);class Ro{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class $j{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const wo=Symbol("INTERNAL");class Gj{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:s}){this.#t=!!(t&Zn.DISPLAY),this.#e=!!(t&Zn.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==wo&&ee("Internal method `_setVisible` called."),this.#i=i,this.#n=e}}class Vj{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=Zn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const i of t.groups)this.#e.set(i.id,new Gj(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(wo,!1);for(const i of t.on)this.#e.get(i)._setVisible(wo,!0);for(const i of t.off)this.#e.get(i)._setVisible(wo,!1);this.#i=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const s=t[r];let l;if(Array.isArray(s))l=this.#s(s);else if(this.#e.has(s))l=this.#e.get(s).visible;else return xt(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return cd("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(xt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return xt(`Unknown optional content policy ${t.policy}.`),!0}return xt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const r=this.#e.get(t);if(!r){xt(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const s of r.rbGroups)for(const l of s)l!==t&&this.#e.get(l)?._setVisible(wo,!1,!0);r._setVisible(wo,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=this.#e.get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new mM;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class Yj{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Bt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,s?.length>0){const h=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),t.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(i),!0)});Bt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Bt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Xj(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Kj(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class Xj{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=E0(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Kj{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Wj(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let d=u(e);return d=unescape(d),d=h(d),d=f(d),s(d)}if(e=l(n),e){const d=f(e);return s(d)}if(e=i("filename","i").exec(n),e){e=e[1];let d=u(e);return d=f(d),s(d)}function i(d,g){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function r(d,g){if(d){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const m=new TextDecoder(d,{fatal:!0}),y=qu(g);g=m.decode(y),t=!1}catch{}}return g}function s(d){return t&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),t&&(d=r("iso-8859-1",d))),d}function l(d){const g=[];let m;const y=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(d))!==null;){let[,w,S,_]=m;if(w=parseInt(w,10),w in g){if(w===0)break;continue}g[w]=[S,_]}const A=[];for(let w=0;w<g.length&&w in g;++w){let[S,_]=g[w];_=u(_),S&&(_=unescape(_),w===0&&(_=h(_))),A.push(_)}return A.join("")}function u(d){if(d.startsWith('"')){const g=d.slice(1).split('\\"');for(let m=0;m<g.length;++m){const y=g[m].indexOf('"');y!==-1&&(g[m]=g[m].slice(0,y),g.length=m+1),g[m]=g[m].replaceAll(/\\(.)/g,"$1")}d=g.join('"')}return d}function h(d){const g=d.indexOf("'");if(g===-1)return d;const m=d.slice(0,g),A=d.slice(g+1).replace(/^[^']*'/,"");return r(m,A)}function f(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,m,y,A){if(y==="q"||y==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,S){return String.fromCharCode(parseInt(S,16))}),r(m,A);try{A=atob(A)}catch{}return r(m,A)})}return""}function _M(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function dd(n){return URL.parse(n)?.origin??null}function EM({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function xM(n){const t=n.get("Content-Disposition");if(t){let e=Wj(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(E0(e))return e}return null}function Xu(n,t){return new hf(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function CM(n){return n===200||n===206}function TM(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function OM(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(xt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Zj{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=_M(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Qj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Jj(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Qj{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,TM(i,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=dd(s.url),!CM(s.status))throw Xu(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const l=s.headers,{allowRangeRequests:u,suggestedLength:h}=EM({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=xM(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ma("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:OM(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Jj{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${i-1}`);const l=r.url;fetch(l,TM(s,this._withCredentials,this._abortController)).then(u=>{const h=dd(u.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!CM(u.status))throw Xu(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:OM(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Dm=200,Pm=206;function tB(n){const t=n.response;return typeof t!="string"?t:qu(t).buffer}class eB{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=_M(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,l]of this.headers)e.setRequestHeader(s,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Pm):r.expectedStatus=Dm,e.responseType="arraybuffer",Bt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||Dm;if(!(s===Dm&&i.expectedStatus===Pm)&&s!==i.expectedStatus){i.onError(r.status);return}const u=tB(r);if(s===Pm){const h=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?i.onDone({begin:parseInt(f[1],10),chunk:u}):(xt('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class nB{constructor(t){this._source=t,this._manager=new eB(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Bt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iB(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new rB(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class iB{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=dd(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...f]=u.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:l}=EM({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=xM(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Xu(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class rB{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=dd(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Xu(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const aB=/^[a-z][a-z0-9\-+.]+:/i;function sB(n){if(aB.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class oB{constructor(t){this.source=t,this.url=sB(t.url),Bt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new lB(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new uB(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class lB{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Xu(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ma("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class uB{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Zl=Symbol("INITIAL_DATA");class MM{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Zl}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const i=this.#t[t];if(!i||i.data===Zl)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==Zl}delete(t){const e=this.#t[t];return!e||e.data===Zl?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Zl&&(yield[t,e])}}}const cB=1e5,dE=30;class Qn{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#a=null;#r=0;#o=0;#u=null;#l=null;#f=0;#h=0;#d=Object.create(null);#m=[];#g=null;#c=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#x=new WeakMap;static#_=null;static#w=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#g=t;else if(typeof t=="object")this.#g=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=i.scale*Ji.pixelRatio,this.#f=i.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:l,pageY:u}=i.rawDims;this.#v=[1,0,0,-1,-l,u+s],this.#o=r,this.#r=s,Qn.#M(),e.style.setProperty("--min-font-size",Qn.#_),ms(e,i),this.#t.promise.finally(()=>{Qn.#w.delete(this),this.#a=null,this.#d=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ie.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#u.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#s??=e.lang,Object.assign(this.#d,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#u=this.#g.getReader(),Qn.#w.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*Ji.pixelRatio,r=t.rotation;if(r!==this.#f&&(e?.(),this.#f=r,ms(this.#l,{rotation:r})),i!==this.#h){e?.(),this.#h=i;const s={div:null,properties:null,ctx:Qn.#D(this.#s)};for(const l of this.#c)s.properties=this.#p.get(l),s.div=l,this.#E(s)}}cancel(){const t=new Ma("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#m}#T(t){if(this.#i)return;this.#a.ctx??=Qn.#D(this.#s);const e=this.#c,i=this.#m;for(const r of t){if(e.length>cB){xt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),s.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(r.str),this.#A(r)}}#A(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const r=ot.transform(this.#v,t.transform);let s=Math.atan2(r[1],r[0]);const l=this.#d[t.fontName];l.vertical&&(s+=Math.PI/2);let u=this.#n&&l.fontSubstitution||l.fontFamily;u=Qn.fontFamilyMap.get(u)||u;const h=Math.hypot(r[2],r[3]),f=h*Qn.#j(u,l,this.#s);let d,g;s===0?(d=r[4],g=r[5]-f):(d=r[4]+f*Math.sin(s),g=r[5]-f*Math.cos(s));const m=e.style;m.left=`${(100*d/this.#o).toFixed(2)}%`,m.top=`${(100*g/this.#r).toFixed(2)}%`,m.setProperty("--font-height",`${h.toFixed(2)}px`),m.fontFamily=u,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),s!==0&&(i.angle=s*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),w=Math.abs(t.transform[3]);A!==w&&Math.max(A,w)/Math.min(A,w)>1.5&&(y=!0)}if(y&&(i.canvasWidth=l.vertical?t.height:t.width),this.#p.set(e,i),this.#a.div=e,this.#a.properties=i,this.#E(this.#a),i.hasText&&this.#e.append(e),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this.#e.append(A)}}#E(t){const{div:e,properties:i,ctx:r}=t,{style:s}=e;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:h}=i;Qn.#O(r,h*this.#h,l);const{width:f}=r.measureText(e.textContent);f>0&&s.setProperty("--scale-x",u*this.#h/f)}i.angle!==0&&s.setProperty("--rotate",`${i.angle}deg`)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#D(t=null){let e=this.#y.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#O(t,e,i){const r=this.#x.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#M(){if(this.#_!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#_=t.getBoundingClientRect().height,t.remove()}static#j(t,e,i){const r=this.#b.get(t);if(r)return r;const s=this.#D(i);s.canvas.width=s.canvas.height=dE,this.#O(s,dE,t);const l=s.measureText(""),u=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let f=.8;return u?f=u/(u+h):(Ie.platform.isFirefox&&xt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}}const hB=100;function DM(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new P0,{docId:e}=t,i=n.url?yj(n.url):null,r=n.data?bj(n.data):null,s=n.httpHeaders||null,l=n.withCredentials===!0,u=n.password??null,h=n.range instanceof PM?n.range:null,f=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof _u?n.worker:null;const g=n.verbosity,m=typeof n.docBaseUrl=="string"&&!hd(n.docBaseUrl)?n.docBaseUrl:null,y=Dh(n.cMapUrl),A=n.cMapPacked!==!1,w=n.CMapReaderFactory||(vn?Tj:J_),S=Dh(n.iccUrl),_=Dh(n.standardFontDataUrl),C=n.StandardFontDataFactory||(vn?Oj:tE),x=Dh(n.wasmUrl),O=n.WasmFactory||(vn?Mj:eE),M=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,R=n.isEvalSupported!==!1,L=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!vn,z=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!vn&&(Ie.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,G=typeof n.disableFontFace=="boolean"?n.disableFontFace:vn,U=n.fontExtraProperties===!0,st=n.enableXfa===!0,it=n.ownerDocument||globalThis.document,lt=n.disableRange===!0,I=n.disableStream===!0,F=n.disableAutoFetch===!0,et=n.pdfBug===!0,at=n.CanvasFactory||(vn?Cj:_j),dt=n.FilterFactory||(vn?xj:Ej),k=n.enableHWA===!0,$=n.useWasm!==!1,tt=h?h.length:n.length??NaN,rt=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!vn&&!G,mt=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(w===J_&&C===tE&&O===eE&&y&&_&&x&&uu(y,document.baseURI)&&uu(_,document.baseURI)&&uu(x,document.baseURI)),At=null;GI(g);const ut={canvasFactory:new at({ownerDocument:it,enableHWA:k}),filterFactory:new dt({docId:e,ownerDocument:it}),cMapReaderFactory:mt?null:new w({baseUrl:y,isCompressed:A}),standardFontDataFactory:mt?null:new C({baseUrl:_}),wasmFactory:mt?null:new O({baseUrl:x})};d||(d=_u.create({verbosity:g,port:Ro.workerPort}),t._worker=d);const ae={docId:e,apiVersion:"5.4.530",data:r,password:u,disableAutoFetch:F,rangeChunkSize:f,length:tt,docBaseUrl:m,enableXfa:st,evaluatorOptions:{maxImageSize:D,disableFontFace:G,ignoreErrors:M,isEvalSupported:R,isOffscreenCanvasSupported:L,isImageDecoderSupported:z,canvasMaxAreaInBytes:K,fontExtraProperties:U,useSystemFonts:rt,useWasm:$,useWorkerFetch:mt,cMapUrl:y,iccUrl:S,standardFontDataUrl:_,wasmUrl:x}},Z={ownerDocument:it,pdfBug:et,styleElement:At,loadingParams:{disableAutoFetch:F,enableXfa:st}};return d.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const _t=d.messageHandler.sendWithPromise("GetDocRequest",ae,r?[r.buffer]:null);let Mt;if(h)Mt=new Yj(h,{disableRange:lt,disableStream:I});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const nt=uu(i)?Zj:vn?oB:nB;Mt=new nt({url:i,length:tt,httpHeaders:s,withCredentials:l,rangeChunkSize:f,disableRange:lt,disableStream:I})}return _t.then(nt=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const xe=new cu(e,nt,d.port),kt=new pB(xe,t,Mt,Z,ut,k);t._transport=kt,xe.send("Ready",null)})}).catch(t._capability.reject),t}class P0{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${P0.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class PM{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#s=[];constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#s)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#n)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){ee("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class fB{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class dB{#t=!1;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new V_:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new MM,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Gu({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:r="display",annotationMode:s=Sa.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:d=null,printAnnotationStorage:g=null,isEditing:m=!1,recordOperations:y=!1,operationsFilter:A=null}){this._stats?.time("Overall");const w=this._transport.getRenderingIntent(r,s,g,m),{renderingIntent:S,cacheKey:_}=w;this.#t=!1,h||=this._transport.getOptionalContentConfig(S);let C=this._intentStates.get(_);C||(C=Object.create(null),this._intentStates.set(_,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const x=!!(S&Zn.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(w));const O=!!(this._pdfBug&&globalThis.StepperManager?.enabled),M=!this.recordedBBoxes&&(y||O),D=z=>{if(C.renderTasks.delete(R),M){const K=R.gfx?.dependencyTracker.take();K&&(R.stepper&&R.stepper.setOperatorBBoxes(K,R.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=K))}x&&(this.#t=!0),this.#e(),z?(R.capability.reject(z),this._abortOperatorList({intentState:C,reason:z instanceof Error?z:new Error(z)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Co({callback:D,params:{canvas:e,canvasContext:t,dependencyTracker:M?new Pj(e,C.operatorList.length,O):null,viewport:i,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:A});(C.renderTasks||=new Set).add(R);const L=R.task;return Promise.all([C.displayReadyCapability.promise,h]).then(([z,K])=>{if(this.destroyed){D();return}if(this._stats?.time("Rendering"),!(K.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:z,optionalContentConfig:K}),R.operatorListChanged()}).catch(D),L}getOperatorList({intent:t="display",annotationMode:e=Sa.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function s(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,i,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=s,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Su.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function s(){l.read().then(function({value:h,done:f}){if(f){i(u);return}u.lang??=h.lang,Object.assign(u.styles,h.styles),u.items.push(...h.items),s()},r)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new V_),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:l}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},l).getReader(),f=this._intentStates.get(e);f.streamReader=h;const d=()=>{h.read().then(({value:g,done:m})=>{if(m){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),d())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const m of f.renderTasks)m.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};d()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof _0){let r=hB;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Ma(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Ea,Mi,Cr,us,od,cs,hs,wn,nf,RM,kM,hu,Lo,rf;const he=class he{constructor({name:t=null,port:e=null,verbosity:i=VI()}={}){Fi(this,wn);Fi(this,Ea,Promise.withResolvers());Fi(this,Mi,null);Fi(this,Cr,null);Fi(this,us,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(ce(he,hs).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ce(he,hs).set(e,this),Ui(this,wn,RM).call(this,e)}else Ui(this,wn,kM).call(this)}get promise(){return ce(this,Ea).promise}get port(){return ce(this,Cr)}get messageHandler(){return ce(this,Mi)}destroy(){this.destroyed=!0,ce(this,us)?.terminate(),Rn(this,us,null),ce(he,hs).delete(ce(this,Cr)),Rn(this,Cr,null),ce(this,Mi)?.destroy(),Rn(this,Mi,null)}static create(t){const e=ce(this,hs).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new he(t)}static get workerSrc(){if(Ro.workerSrc)return Ro.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>ce(this,Lo,rf)?ce(this,Lo,rf):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ea=new WeakMap,Mi=new WeakMap,Cr=new WeakMap,us=new WeakMap,od=new WeakMap,cs=new WeakMap,hs=new WeakMap,wn=new WeakSet,nf=function(){ce(this,Ea).resolve(),ce(this,Mi).send("configure",{verbosity:this.verbosity})},RM=function(t){Rn(this,Cr,t),Rn(this,Mi,new cu("main","worker",t)),ce(this,Mi).on("ready",()=>{}),Ui(this,wn,nf).call(this)},kM=function(){if(ce(he,cs)||ce(he,Lo,rf)){Ui(this,wn,hu).call(this);return}let{workerSrc:t}=he;try{he._isSameOrigin(window.location,t)||(t=he._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new cu("main","worker",e),r=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?ce(this,Ea).reject(new Error("Worker was destroyed")):Ui(this,wn,hu).call(this)},s=new AbortController;e.addEventListener("error",()=>{ce(this,us)||r()},{signal:s.signal}),i.on("test",u=>{if(s.abort(),this.destroyed||!u){r();return}Rn(this,Mi,i),Rn(this,Cr,e),Rn(this,us,e),Ui(this,wn,nf).call(this)}),i.on("ready",u=>{if(s.abort(),this.destroyed){r();return}try{l()}catch{Ui(this,wn,hu).call(this)}});const l=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};l();return}catch{cd("The worker has been disabled.")}Ui(this,wn,hu).call(this)},hu=function(){ce(he,cs)||(xt("Setting up fake worker."),Rn(he,cs,!0)),he._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ce(this,Ea).reject(new Error("Worker was destroyed"));return}const e=new Sj;Rn(this,Cr,e);const i=`fake${g_(he,od)._++}`,r=new cu(i+"_worker",i,e);t.setup(r,e),Rn(this,Mi,new cu(i,i+"_worker",e)),Ui(this,wn,nf).call(this)}).catch(t=>{ce(this,Ea).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Lo=new WeakSet,rf=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Fi(he,Lo),Fi(he,od,0),Fi(he,cs,!1),Fi(he,hs,new WeakMap),vn&&(Rn(he,cs,!0),Ro.workerSrc||="./pdf.worker.mjs"),he._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},he._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},he.fromPort=t=>{if(rj("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return he.create(t)};let _u=he;class pB{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#s=null;constructor(t,e,i,r,s,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new MM,this.fontLoader=new gj({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#a(t,e=null){const i=this.#t.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Ct(this,"annotationStorage",new T0)}getRenderingIntent(t,e=Sa.ENABLE,i=null,r=!1,s=!1){let l=Zn.DISPLAY,u=yy;switch(t){case"any":l=Zn.ANY;break;case"display":break;case"print":l=Zn.PRINT;break;default:xt(`getRenderingIntent - invalid intent: ${t}`)}const h=l&Zn.PRINT&&i instanceof vM?i:this.annotationStorage;switch(e){case Sa.DISABLE:l+=Zn.ANNOTATIONS_DISABLE;break;case Sa.ENABLE:break;case Sa.ENABLE_FORMS:l+=Zn.ANNOTATIONS_FORMS;break;case Sa.ENABLE_STORAGE:l+=Zn.ANNOTATIONS_STORAGE,u=h.serializable;break;default:xt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=Zn.IS_EDITING),s&&(l+=Zn.OPLIST);const{ids:f,hash:d}=h.modifiedIds,g=[l,u.hash,d];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Qn.cleanup(),this._networkStream?.cancelAllRequests(new Ma("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{Bt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:l}){if(l){r.close();return}Bt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:l}=this._fullReader;return(!r||!s)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:l}}),t.on("GetRangeReader",(i,r)=>{Bt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:l,done:u}){if(u){r.close();return}Bt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{s.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new fB(i,this))}),t.on("DocException",i=>{e._capability.reject(kn(i))}),t.on("PasswordRequest",i=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw kn(i);const r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};e.onPassword(r,i.code)}catch(r){this.#s.reject(r)}return this.#s.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const g=s.error;xt(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const l=new Jt(s),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(g,m)=>globalThis.FontInspector.fontAdded(g,m):null,h=new mj(l,u,s.extra,s.charProcOperatorList);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:f}=s;Bt(f,"The imageRef must be defined.");for(const g of this.#e.values())for(const[,m]of g.objs)if(m?.ref===f)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new vj(s));break;case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const d=new Ue(s);this.commonObjs.resolve(i,d.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,s,l])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(i)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(s){case"Image":case"Pattern":u.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#i.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,t);const l=new dB(e,s,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,r),r}getPageIndex(t){return by(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#a("GetOptionalContentConfig").then(e=>new Vj(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new $j(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:r[2]}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Qn.cleanup()}}cachedPageNumber(t){if(!by(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class gB{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Co{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:l,pageIndex:u,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:d=!1,pdfBug:g=!1,pageColors:m=null,enableHWA:y=!1,operationsFilter:A=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=g,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new gB(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=y,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Co.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Co.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Po(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Co.#e.delete(this._canvas),t||=new _0(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Co.#e.delete(this._canvas),this.callback())))}}const mB="5.4.530",vB="50cc4adac";class bi{#t=null;#e=null;#i;#n=null;#s=!1;#a=!1;#r=null;#o;#u=null;#l=null;static#f=null;static get _keyboardManager(){return Ct(this,"_keyboardManager",new Yu([[["Escape","mac+Escape"],bi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],bi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],bi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],bi.prototype._moveToPrevious],[["Home","mac+Home"],bi.prototype._moveToBeginning],[["End","mac+End"],bi.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#a=!1,this.#r=t):this.#a=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",bi.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#g.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Si,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",bi.#f[i]);const l=document.createElement("span");s.append(l),l.className="swatch",l.style.backgroundColor=r,s.ariaSelected=r===this.#i,s.addEventListener("click",this.#d.bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#d(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:jt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#g(t);return}const e=t.target.getAttribute("data-color");e&&this.#d(e,t)}_moveToNext(t){if(!this.#p){this.#g(t);return}if(t.target===this.#t){this.#n.firstElementChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstElementChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#g(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#g(t);return}this.#n.firstElementChild?.focus()}_moveToEnd(t){if(!this.#p){this.#g(t);return}this.#n.lastElementChild?.focus()}#m(t){bi._keyboardManager.exec(this,t)}#g(t){if(this.#p){this.hideDropdown();return}if(this.#s=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#l.combinedSignal(this.#u)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#c(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#u?.abort(),this.#u=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Eu{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Eu.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,color:i}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Eu.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function pE(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Ql(n){return Math.max(0,Math.min(255,255*n))}class gE{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Ql(t),[t,t,t]}static G_HTML([t]){const e=pE(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Ql)}static RGB_HTML(t){return`#${t.map(pE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Ql(1-Math.min(1,t+r)),Ql(1-Math.min(1,i+r)),Ql(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,s=1-e,l=1-i,u=Math.min(r,s,l);return["CMYK",r,s,l,u]}}class yB{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ee("Abstract method `_createSVG` called.")}}class df extends yB{_createSVG(t){return document.createElementNS(_r,t)}}const bB=9,vs=new WeakSet,AB=new Date().getTimezoneOffset()*60*1e3;class Rm{static create(t){switch(t.data.annotationType){case Pe.LINK:return new R0(t);case Pe.TEXT:return new SB(t);case Pe.WIDGET:switch(t.data.fieldType){case"Tx":return new _B(t);case"Btn":return t.data.radioButton?new NM(t):t.data.checkBox?new xB(t):new CB(t);case"Ch":return new TB(t);case"Sig":return new EB(t)}return new Cs(t);case Pe.POPUP:return new Sy(t);case Pe.FREETEXT:return new LM(t);case Pe.LINE:return new MB(t);case Pe.SQUARE:return new DB(t);case Pe.CIRCLE:return new PB(t);case Pe.POLYLINE:return new IM(t);case Pe.CARET:return new kB(t);case Pe.INK:return new k0(t);case Pe.POLYGON:return new RB(t);case Pe.HIGHLIGHT:return new jM(t);case Pe.UNDERLINE:return new NB(t);case Pe.SQUIGGLY:return new LB(t);case Pe.STRIKEOUT:return new IB(t);case Pe.STAMP:return new BM(t);case Pe.FILEATTACHMENT:return new jB(t);default:return new ge(t)}}}class ge{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ge._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:r}=this.data;let s=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],s=e[u+2]):e[u+1]===l&&(s=Math.max(s,e[u+2]));return[s,l]}if(i?.length>=1){for(const u of i)for(let h=0,f=u.length;h<f;h+=2)u[h+1]>l?(l=u[h+1],s=u[h]):u[h+1]===l&&(s=Math.max(s,u[h]));if(s!==1/0)return[s,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-s)/i,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Au}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Au}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:i}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(t),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:l,pageX:u,pageY:h}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/s}%`,e.top=`${100*(l-t[3]+h)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),!(this instanceof Cs)&&!(this instanceof R0)&&(s.tabIndex=0);const{style:l}=s;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof Sy){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:u,height:h}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,S=e.borderStyle.verticalCornerRadius;if(w>0||S>0){const C=`calc(${w}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;l.borderRadius=C}else if(this instanceof NM){const C=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=C}switch(e.borderStyle.style){case Ao.SOLID:l.borderStyle="solid";break;case Ao.DASHED:l.borderStyle="dashed";break;case Ao.BEVELED:xt("Unimplemented border style: beveled");break;case Ao.INSET:xt("Unimplemented border style: inset");break;case Ao.UNDERLINE:l.borderBottomStyle="solid";break}const _=e.borderColor||null;_?(this.#e=!0,l.borderColor=ot.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):l.borderWidth=0}const f=ot.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:g,pageX:m,pageY:y}=r.rawDims;l.left=`${100*(f[0]-m)/d}%`,l.top=`${100*(f[1]-y)/g}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(l.width=`${100*u/d}%`,l.height=`${100*h/g}%`):this.setRotation(A,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:l}=this;t%180!==0&&([s,l]=[l,s]),e.style.width=`${100*s/i}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const s=r.detail[e],l=s[0],u=s.slice(1);r.target.style[i]=gE[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:gE[`${l}_rgb`](u)})};return Ct(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,s]of Object.entries(e)){const l=i[r];if(l){const u={detail:{[r]:s},target:t};l(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,s]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,S,_,C]=t.subarray(2,6);if(r===w&&s===S&&e===_&&i===C)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:w,borderWidth:S}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const h=r-e,f=s-i,{svgFactory:d}=this,g=d.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const m=d.createElement("defs");g.append(m);const y=d.createElement("clipPath"),A=`clippath_${this.data.id}`;y.setAttribute("id",A),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let w=2,S=t.length;w<S;w+=8){const _=t[w],C=t[w+1],x=t[w+2],O=t[w+3],M=d.createElement("rect"),D=(x-e)/h,R=(s-C)/f,L=(_-x)/h,z=(C-O)/f;M.setAttribute("x",D),M.setAttribute("y",R),M.setAttribute("width",L),M.setAttribute("height",z),y.append(M),u?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${R}" width="${L}" height="${z}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${A})`}_createPopup(t=null){const{data:e}=this;let i,r;t?(i={str:t.text},r=t.date):(i=e.contentsObj,r=e.modificationDate),this.#i=new Sy({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){ee("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:l,exportValues:u}of r){if(s===-1||l===e)continue;const h=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!vs.has(f)){xt(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:h,domElement:f})}return i}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,l=r.getAttribute("data-element-id");l!==e&&vs.has(r)&&i.push({id:l,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class wB extends ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class R0 extends ge{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(i,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=i,this.container.append(i)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,i=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),i&&(t.title=i),this.#t()}#e(t,e,i="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const s=i.get(r);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:r,refs:s,include:l}=e,u=[];if(r.length!==0||s.length!==0){const d=new Set(s);for(const g of r){const m=this._fieldObjects[g]||[];for(const{id:y}of m)d.add(y)}for(const g of Object.values(this._fieldObjects))for(const m of g)d.has(m.id)===l&&u.push(m)}else for(const d of Object.values(this._fieldObjects))u.push(...d);const h=this.annotationStorage,f=[];for(const d of u){const{id:g}=d;switch(f.push(g),d.type){case"text":{const y=d.defaultValue||"";h.setValue(g,{value:y});break}case"checkbox":case"radiobutton":{const y=d.defaultValue===d.exportValues;h.setValue(g,{value:y});break}case"combobox":case"listbox":{const y=d.defaultValue||"";h.setValue(g,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${g}"]`);if(m){if(!vs.has(m)){xt(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class SB extends ge{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class Cs extends ge{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ie.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,s){i.includes("mouse")?t.addEventListener(i,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(i,l=>{if(i==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(l)}})})}_setEventListeners(t,e,i,r){for(const[s,l]of i)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,s,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ot.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||bB,s=t.style;let l;const u=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),d=Math.round(f/(Em*r))||1,g=f/d;l=Math.min(r,h(g/Em))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,h(f/Em))}s.fontSize=`calc(${l}px * var(--total-scale-factor))`,s.color=ot.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class _B extends Cs{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const s=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=i),s.setValue(l.id,{[r]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let s=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&s.length>l&&(s=s.slice(0,l));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:s,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),vs.add(i),this.contentElement=i,i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:d,timeStep:g}=this.data,m=!!d&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(i,"value",A.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",A=>{const w=this.data.defaultFieldValue??"";i.value=h.userValue=w,h.formattedValue=null});let y=A=>{const{formattedValue:w}=h;w!=null&&(A.target.value=w),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",w=>{if(h.focused)return;const{target:S}=w;if(m&&(S.type=d,g&&(S.step=g)),h.userValue){const _=h.userValue;if(m)if(d==="time"){const C=new Date(_),x=[C.getHours(),C.getMinutes(),C.getSeconds()];S.value=x.map(O=>O.toString().padStart(2,"0")).join(":")}else S.value=new Date(_-AB).toISOString().split(d==="date"?"T":".",1)[0];else S.value=_}h.lastCommittedValue=S.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const S={value(_){h.userValue=_.detail.value??"",m||t.setValue(e,{value:h.userValue.toString()}),_.target.value=h.userValue},formattedValue(_){const{formattedValue:C}=_.detail;h.formattedValue=C,C!=null&&_.target!==document.activeElement&&(_.target.value=C);const x={formattedValue:C};m&&(x.value=C),t.setValue(e,x)},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{const{charLimit:C}=_.detail,{target:x}=_;if(C===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",C);let O=h.userValue;!O||O.length<=C||(O=O.slice(0,C),x.value=h.userValue=O,t.setValue(e,{value:O}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(S,w)}),i.addEventListener("keydown",w=>{h.commitKey=1;let S=-1;if(w.key==="Escape"?S=0:w.key==="Enter"&&!this.data.multiLine?S=2:w.key==="Tab"&&(h.commitKey=3),S===-1)return;const{value:_}=w.target;h.lastCommittedValue!==_&&(h.lastCommittedValue=_,h.userValue=_,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:S,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const A=y;y=null,i.addEventListener("blur",w=>{if(!h.focused||!w.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{target:S}=w;let{value:_}=S;if(m){if(_&&d==="time"){const C=_.split(":").map(x=>parseInt(x,10));_=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),S.step=""}else _.includes("T")||(_=`${_}T00:00`),_=new Date(_).valueOf();S.type="text"}h.userValue=_,h.lastCommittedValue!==_&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:h.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}),A(w)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",w=>{h.lastCommittedValue=null;const{data:S,target:_}=w,{value:C,selectionStart:x,selectionEnd:O}=_;let M=x,D=O;switch(w.inputType){case"deleteWordBackward":{const R=C.substring(0,x).match(/\w*[^\w]*$/);R&&(M-=R[0].length);break}case"deleteWordForward":{const R=C.substring(x).match(/^[^\w]*\w*/);R&&(D+=R[0].length);break}case"deleteContentBackward":x===O&&(M-=1);break;case"deleteContentForward":x===O&&(D+=1);break}w.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:S||"",willCommit:!1,selStart:M,selEnd:D}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(y&&i.addEventListener("blur",y),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class EB extends Cs{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class xB extends Cs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return vs.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=0,s.addEventListener("change",l=>{const{name:u,checked:h}=l.target;for(const f of this._getElementsByName(u,i)){const d=h&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=d),t.setValue(f.id,{value:d})}t.setValue(i,{value:h})}),s.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",l=>{const u={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class NM extends Cs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,i))t.setValue(l.id,{value:!1});const s=document.createElement("input");if(vs.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",l=>{const{name:u,checked:h}=l.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:h})}),s.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;s.addEventListener("updatefromsandbox",u=>{const h={value:f=>{const d=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const m=d&&g.id===i;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class CB extends R0{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class TB extends Cs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");vs.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const g=this.data.defaultFieldValue;for(const m of r.options)m.selected=m.value===g});for(const d of this.data.options){const g=document.createElement("option");g.textContent=d.displayValue,g.value=d.exportValue,i.value.includes(d.exportValue)&&(g.setAttribute("selected",!0),s=!1),r.append(g)}let l=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),l=()=>{d.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=d=>{const g=d?"value":"textContent",{options:m,multiple:y}=r;return y?Array.prototype.filter.call(m,A=>A.selected).map(A=>A[g]):m.selectedIndex===-1?null:m[m.selectedIndex][g]};let h=u(!1);const f=d=>{const g=d.target.options;return Array.prototype.map.call(g,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const g={value(m){l?.();const y=m.detail.value,A=new Set(Array.isArray(y)?y:[y]);for(const w of r.options)w.selected=A.has(w.value);t.setValue(e,{value:u(!0)}),h=u(!1)},multipleSelection(m){r.multiple=!0},remove(m){const y=r.options,A=m.detail.remove;y[A].selected=!1,r.remove(A),y.length>0&&Array.prototype.findIndex.call(y,S=>S.selected)===-1&&(y[0].selected=!0),t.setValue(e,{value:u(!0),items:f(m)}),h=u(!1)},clear(m){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),h=u(!1)},insert(m){const{index:y,displayValue:A,exportValue:w}=m.detail.insert,S=r.children[y],_=document.createElement("option");_.textContent=A,_.value=w,S?S.before(_):r.append(_),t.setValue(e,{value:u(!0),items:f(m)}),h=u(!1)},items(m){const{items:y}=m.detail;for(;r.length!==0;)r.remove(0);for(const A of y){const{displayValue:w,exportValue:S}=A,_=document.createElement("option");_.textContent=w,_.value=S,r.append(_)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(m)}),h=u(!1)},indices(m){const y=new Set(m.detail.indices);for(const A of m.target.options)A.selected=y.has(A.index);t.setValue(e,{value:u(!0)}),h=u(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(g,d)}),r.addEventListener("input",d=>{const g=u(!0),m=u(!1);t.setValue(e,{value:g}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:m,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Sy extends ge{constructor(t){const{data:e,elements:i,parent:r}=t,s=!!r._commentManager;if(super(t,{isRenderable:!s&&ge._hasPopupData(e)}),this.elements=i,s&&ge._hasPopupData(e)){const l=this.popup=this.#t();for(const u of i)u.popup=l}else this.popup=null}#t(){return new OB({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${Eo}${r}`).join(",")),this.container}}class OB{#t=null;#e=this.#$.bind(this);#i=this.#z.bind(this);#n=this.#k.bind(this);#s=this.#S.bind(this);#a=null;#r=null;#o=null;#u=null;#l=null;#f=null;#h=null;#d=!1;#m=null;#g=null;#c=null;#p=null;#v=null;#b=null;#y=null;#x=null;#_=null;#w=null;#T=!1;#A=null;#E=null;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:s,contentsObj:l,richText:u,parent:h,rect:f,parentRect:d,open:g,commentManager:m=null}){this.#r=t,this.#_=r,this.#o=l,this.#x=u,this.#f=h,this.#a=e,this.#y=f,this.#h=d,this.#l=i,this.#t=m,this.#A=i[0],this.#u=gy.toDateObject(s),this.trigger=i.flatMap(y=>y.getElementsToTriggerPopup()),m||(this.#D(),this.#r.hidden=!0,g&&this.#S())}#D(){if(this.#g)return;this.#g=new AbortController;const{signal:t}=this.#g;for(const e of this.trigger)e.addEventListener("click",this.#s,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#O(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#v=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#A.container.after(this.#p);return}if(this.#v||this.#O(),!this.#v)return;const{signal:t}=this.#g=new AbortController,e=this.#A.hasOwnCommentButton,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},s=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#A.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",s,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#p=document.createElement("button");l.className="annotationCommentButton";const u=this.#A.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#j(),this.#M(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",s,{signal:t}),u.after(l)}}#M(){if(this.#A.extraPopupElement&&!this.#A.editor)return;this.#p||this.renderCommentButton();const[t,e]=this.#v,{style:i}=this.#p;i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`}#j(){this.#A.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#A.commentData;return t?this.#f._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:r,modificationDate:s}=this.#A.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#E||=this.#A.commentText,this.#E}set comment(t){t!==this.comment&&(this.#A.commentText=this.#E=t)}focus(){this.#A.container?.focus()}get parentBoundingClientRect(){return this.#A.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:i}=this.#p.getBoundingClientRect(),{x:r,y:s,width:l,height:u}=this.#A.layer.getBoundingClientRect();return[(t-r)/l,(e+i-s)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:s,y:l,width:u,height:h}=r;this.#t.showDialog(null,this,s+e*u,l+i*h,{...t,parentDimensions:r})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#a){const i=t.style.outlineColor=ot.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#_?.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=this.#_}if(t.append(e),this.#u){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#u.valueOf()})),i.dateTime=this.#u.toISOString(),e.append(i)}dM({html:this.#R||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#R(){const t=this.#x,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#x.html||null}get#N(){return this.#R?.attributes?.style?.fontSize||0}get#B(){return this.#R?.attributes?.style?.color||null}#L(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#B,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return i}#$(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#d)&&this.#S()}updateEdited({rect:t,popup:e,deleted:i}){if(this.#t){i?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#j(),this.#E=e.text)),t&&(this.#v=null,this.#O(),this.#M());return}if(i||e?.deleted){this.remove();return}this.#D(),this.#w||={contentsObj:this.#o,richText:this.#x},t&&(this.#c=null),e&&e.text&&(this.#x=this.#L(e.text),this.#u=gy.toDateObject(e.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#x}=this.#w,this.#w=null,this.#m?.remove(),this.#m=null,this.#c=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#T=!1,this.#d=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#c!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:s}}}=this.#f;let l=!!this.#h,u=l?this.#h:this.#y;for(const A of this.#l)if(!u||ot.intersect(A.data.rect,u)!==null){u=A.data.rect,l=!0;break}const h=ot.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),d=l?u[2]-u[0]+5:0,g=h[0]+d,m=h[1];this.#c=[100*(g-r)/e,100*(m-s)/i];const{style:y}=this.#r;y.left=`${this.#c[0]}%`,y.top=`${this.#c[1]}%`}#S(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#d=!this.#d,this.#d?(this.#k(),this.#r.addEventListener("click",this.#s),this.#r.addEventListener("keydown",this.#e)):(this.#z(),this.#r.removeEventListener("click",this.#s),this.#r.removeEventListener("keydown",this.#e))}#k(){this.#m||this.render(),this.isVisible?this.#d&&this.#r.classList.add("focused"):(this.#C(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#z(){this.#r.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#D(),this.#T&&(this.#m||this.#k(),this.#T=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class LM extends ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Tt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class MB extends ge{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),s=this.#t=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class DB extends ge{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),s=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",s/2),l.setAttribute("y",s/2),l.setAttribute("width",e-s),l.setAttribute("height",i-s),l.setAttribute("stroke-width",s||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class PB extends ge{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),s=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",i/2),l.setAttribute("rx",e/2-s/2),l.setAttribute("ry",i/2-s/2),l.setAttribute("stroke-width",s||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class IM extends ge{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:r},width:s,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(s,l,!0);let h=[];for(let d=0,g=e.length;d<g;d+=2){const m=e[d]-t[0],y=t[3]-e[d+1];h.push(`${m},${y}`)}h=h.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",h),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class RB extends IM{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class kB extends ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class k0 extends ge{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Tt.HIGHLIGHT:Tt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:r,popupRef:s}}=this,{transform:l,width:u,height:h}=this.#i(e,t),f=this.svgFactory.create(u,h,!0),d=this.#t=this.svgFactory.createElement("svg:g");f.append(d),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",l);for(let g=0,m=i.length;g<m;g++){const y=this.svgFactory.createElement(this.svgElementName);this.#e.push(y),y.setAttribute("points",i[g].join(",")),d.append(y)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:r}=t,s=this.#t;if(e>=0&&s.setAttribute("stroke-width",e||1),i)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",i[l].join(","));if(r){const{transform:l,width:u,height:h}=this.#i(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${u} ${h}`),s.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class jM extends ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Tt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class NB extends ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class LB extends ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class IB extends ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class BM extends ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Tt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class jB extends ge{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:r}=Ie.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class N0{#t=null;#e=null;#i=null;#n=new Map;#s=null;#a=null;#r=[];#o=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:l,structTreeLayer:u,commentManager:h,linkService:f,annotationStorage:d}){this.div=t,this.#t=e,this.#e=i,this.#s=u||null,this.#a=f||null,this.#i=d||new T0,this.page=s,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=h||null}hasEditableAnnotations(){return this.#n.size>0}async render(t){const{annotations:e}=t,i=this.div;ms(i,this.viewport);const r=new Map,s=[],l={data:null,layer:i,linkService:this.#a,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new df,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const h=u.annotationType===Pe.POPUP;if(h){const g=r.get(u.id);if(!g)continue;if(!this._commentManager){s.push(u);continue}l.elements=g}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;l.data=u;const f=Rm.create(l);if(!f.isRenderable)continue;if(!h&&(this.#r.push(f),u.popupRef)){const g=r.get(u.popupRef);g?g.push(f):r.set(u.popupRef,[f])}const d=f.render();u.hidden&&(d.style.visibility="hidden"),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#u();for(const u of s){const h=l.elements=r.get(u.id);l.data=u;const f=Rm.create(l);if(!f.isRenderable)continue;const d=f.render();f.contentElement.id=`${Eo}${u.id}`,u.hidden&&(d.style.visibility="hidden"),h.at(-1).container.after(d)}this.#l()}async#u(){if(this.#r.length===0)return;this.div.replaceChildren();const t=[];if(!this.#o){this.#o=!0;for(const{contentElement:i,data:{id:r}}of this.#r){const s=i.id=`${Eo}${r}`;t.push(this.#s?.getAriaAttributes(s).then(l=>{if(l)for(const[u,h]of l)i.setAttribute(u,h)}))}}this.#r.sort(({data:{rect:[i,r,s,l]}},{data:{rect:[u,h,f,d]}})=>{if(i===s&&r===l)return 1;if(u===f&&h===d)return-1;const g=l,m=r,y=(r+l)/2,A=d,w=h,S=(h+d)/2;if(y>=A&&S<=m)return-1;if(S>=g&&y<=w)return 1;const _=(i+s)/2,C=(u+f)/2;return _-C});const e=document.createDocumentFragment();for(const i of this.#r)e.append(i.container),this._commentManager?(i.extraPopupElement?.popup||i.popup)?.renderCommentButton():i.extraPopupElement&&e.append(i.extraPopupElement.render());if(this.div.append(e),await Promise.all(t),this.#t)for(const i of this.#r)this.#t.addPointerInTextLayer(i.contentElement,!1)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#a,svgFactory:new df,parent:this};for(const i of t){i.borderStyle||=N0._defaultBorderStyle,e.data=i;const r=Rm.create(e);r.isRenderable&&(r.render(),r.contentElement.id=`${Eo}${i.id}`,this.#r.push(r))}await this.#u()}update({viewport:t}){const e=this.div;this.viewport=t,ms(e,{rotation:t.rotation}),this.#l(),e.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,i),l._hasNoCanvas=!1):l.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:i,rotation:r}=t,s=new wB({data:{id:i,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#i});return s.render(),s.contentElement.id=`${Eo}${i}`,s.createOrUpdatePopup(),this.#r.push(s),s}removeAnnotation(t){const e=this.#r.findIndex(r=>r.data.id===t);if(e<0)return;const[i]=this.#r.splice(e,1);this.#t?.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const e of t)e.updateFakeAnnotationElement(this);this.#u()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return Ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ao.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Ih=/\r\n?|\n/g;class He extends bt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=He.prototype,e=s=>s.isEmpty(),i=Da.TRANSLATE_SMALL,r=Da.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new Yu([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Tt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||He._defaultColor||bt._defaultLineColor,this.#n=t.fontSize||He._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){bt.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case jt.FREETEXT_SIZE:He._defaultFontSize=e;break;case jt.FREETEXT_COLOR:He._defaultColor=e;break}}updateParams(t,e){switch(t){case jt.FREETEXT_SIZE:this.#s(e);break;case jt.FREETEXT_COLOR:this.#a(e);break}}static get defaultPropertiesToUpdate(){return[[jt.FREETEXT_SIZE,He._defaultFontSize],[jt.FREETEXT_COLOR,He._defaultColor||bt._defaultLineColor]]}get propertiesToUpdate(){return[[jt.FREETEXT_SIZE,this.#n],[jt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Eu(this),[["colorPicker",this._colorPicker]]}get colorType(){return jt.FREETEXT_COLOR}#s(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(t){const e=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-He._internalPadding*t,-(He._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(He.#u(i)),e=i);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,l=s.style.display,u=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=l,s.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const i=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){He._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,h]=this.getInitialTranslation();[u,h]=this.pageTranslationToScreen(u,h);const[f,d]=this.pageDimensions,[g,m]=this.pageTranslation;let y,A;switch(this.rotation){case 0:y=t+(l[0]-g)/f,A=e+this.height-(l[1]-m)/d;break;case 90:y=t+(l[0]-g)/f,A=e-(l[1]-m)/d,[u,h]=[h,-u];break;case 180:y=t-this.width+(l[0]-g)/f,A=e-(l[1]-m)/d,[u,h]=[-u,-h];break;case 270:y=t+(l[0]-g-this.height*d)/f,A=e+(l[1]-m-this.width*f)/d,[u,h]=[-h,u];break}this.setAt(y*r,A*s,u,h)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ih,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=He.#h(e.getData("text")||"").replaceAll(Ih,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const l=s.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:u,startOffset:h}=l,f=[],d=[];if(u.nodeType===Node.TEXT_NODE){const y=u.parentElement;if(d.push(u.nodeValue.slice(h).replaceAll(Ih,"")),y!==this.editorDiv){let A=f;for(const w of this.editorDiv.childNodes){if(w===y){A=d;continue}A.push(He.#u(w))}}f.push(u.nodeValue.slice(0,h).replaceAll(Ih,""))}else if(u===this.editorDiv){let y=f,A=0;for(const w of this.editorDiv.childNodes)A++===h&&(y=d),y.push(He.#u(w))}this.#t=`${f.join(`
`)}${r}${d.join(`
`)}`,this.#l();const g=new Range;let m=Math.sumPrecise(f.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const A=y.nodeValue.length;if(m<=A){g.setStart(y,m),g.setEnd(y,m);break}m-=A}s.removeAllRanges(),s.addRange(g)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#f(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=He._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,i){let r=null;if(t instanceof LM){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:f,id:d,popupRef:g,richText:m,contentsObj:y,creationDate:A,modificationDate:w},textContent:S,textPosition:_,parent:{page:{pageNumber:C}}}=t;if(!S||S.length===0)return null;r=t={annotationType:Tt.FREETEXT,color:Array.from(u),fontSize:l,value:S.join(`
`),position:_,pageIndex:C-1,rect:h.slice(0),rotation:f,annotationElementId:d,id:d,deleted:!1,popupRef:g,comment:y?.str||null,richText:m,creationDate:A,modificationDate:w}}const s=await super.deserialize(t,e,i);return s.#n=t.fontSize,s.color=ot.makeHexColor(...t.color),s.#t=He.#h(t.value),s._initialData=r,t.comment&&s.setCommentData(t),s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=bt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#f()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#d(i)?null:(i.id=this.annotationElementId,i)}#d(t){const{value:e,fontSize:i,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((l,u)=>l!==r[u])||t.pageIndex!==s}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:i}=e;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),e.append(s)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ct{static PRECISION=1e-4;toSVGPath(){ee("Abstract method `toSVGPath` must be implemented.")}get box(){ee("Abstract getter `box` must be implemented.")}serialize(t,e){ee("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,s,l){l||=new Float32Array(t.length);for(let u=0,h=t.length;u<h;u+=2)l[u]=e+t[u]*r,l[u+1]=i+t[u+1]*s;return l}static _rescaleAndSwap(t,e,i,r,s,l){l||=new Float32Array(t.length);for(let u=0,h=t.length;u<h;u+=2)l[u]=e+t[u+1]*r,l[u+1]=i+t[u]*s;return l}static _translate(t,e,i,r){r||=new Float32Array(t.length);for(let s=0,l=t.length;s<l;s+=2)r[s]=e+t[s],r[s+1]=i+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,s){switch(s){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,s,l){return[(t+5*i)/6,(e+5*r)/6,(5*i+s)/6,(5*r+l)/6,(i+s)/2,(r+l)/2]}}class rs{#t;#e=[];#i;#n;#s=[];#a=new Float32Array(18);#r;#o;#u;#l;#f;#h;#d=[];static#m=8;static#g=2;static#c=rs.#m+rs.#g;constructor({x:t,y:e},i,r,s,l,u=0){this.#t=i,this.#h=s*r,this.#n=l,this.#a.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=rs.#m*r,this.#u=rs.#c*r,this.#f=r,this.#d.push(t,e)}isEmpty(){return isNaN(this.#a[8])}#p(){const t=this.#a.subarray(4,6),e=this.#a.subarray(16,18),[i,r,s,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-i)/s,(this.#o+(t[1]-e[1])/2-r)/l,(this.#r+(e[0]-t[0])/2-i)/s,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[i,r,s,l]=this.#t;let[u,h,f,d]=this.#a.subarray(8,12);const g=t-f,m=e-d,y=Math.hypot(g,m);if(y<this.#u)return!1;const A=y-this.#l,w=A/y,S=w*g,_=w*m;let C=u,x=h;u=f,h=d,f+=S,d+=_,this.#d?.push(t,e);const O=-_/A,M=S/A,D=O*this.#h,R=M*this.#h;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([f+D,d+R],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([f-D,d-R],16),isNaN(this.#a[6])?(this.#s.length===0&&(this.#a.set([u+D,h+R],2),this.#s.push(NaN,NaN,NaN,NaN,(u+D-i)/s,(h+R-r)/l),this.#a.set([u-D,h-R],14),this.#e.push(NaN,NaN,NaN,NaN,(u-D-i)/s,(h-R-r)/l)),this.#a.set([C,x,u,h,f,d],6),!this.isEmpty()):(this.#a.set([C,x,u,h,f,d],6),Math.abs(Math.atan2(x-h,C-u)-Math.atan2(_,S))<Math.PI/2?([u,h,f,d]=this.#a.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/s,((h+d)/2-r)/l),[u,h,C,x]=this.#a.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+u)/2-i)/s,((x+h)/2-r)/l),!0):([C,x,u,h,f,d]=this.#a.subarray(0,6),this.#s.push(((C+5*u)/6-i)/s,((x+5*h)/6-r)/l,((5*u+f)/6-i)/s,((5*h+d)/6-r)/l,((u+f)/2-i)/s,((h+d)/2-r)/l),[f,d,u,h,C,x]=this.#a.subarray(12,18),this.#e.push(((C+5*u)/6-i)/s,((x+5*h)/6-r)/l,((5*u+f)/6-i)/s,((5*h+d)/6-r)/l,((u+f)/2-i)/s,((h+d)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#e;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#y(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(i),i.join(" ")}#v(){const[t,e,i,r]=this.#t,[s,l,u,h]=this.#p();return`M${(this.#a[2]-t)/i} ${(this.#a[3]-e)/r} L${(this.#a[4]-t)/i} ${(this.#a[5]-e)/r} L${s} ${l} L${u} ${h} L${(this.#a[16]-t)/i} ${(this.#a[17]-e)/r} L${(this.#a[14]-t)/i} ${(this.#a[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){const[e,i,r,s]=this.#t,l=this.#a.subarray(4,6),u=this.#a.subarray(16,18),[h,f,d,g]=this.#p();t.push(`L${(l[0]-e)/r} ${(l[1]-i)/s} L${h} ${f} L${d} ${g} L${(u[0]-e)/r} ${(u[1]-i)/s}`)}newFreeDrawOutline(t,e,i,r,s,l){return new zM(t,e,i,r,s,l)}getOutlines(){const t=this.#s,e=this.#e,i=this.#a,[r,s,l,u]=this.#t,h=new Float32Array((this.#d?.length??0)+2);for(let g=0,m=h.length-2;g<m;g+=2)h[g]=(this.#d[g]-r)/l,h[g+1]=(this.#d[g+1]-s)/u;if(h[h.length-2]=(this.#r-r)/l,h[h.length-1]=(this.#o-s)/u,isNaN(i[6])&&!this.isEmpty())return this.#x(h);const f=new Float32Array(this.#s.length+24+this.#e.length);let d=t.length;for(let g=0;g<d;g+=2){if(isNaN(t[g])){f[g]=f[g+1]=NaN;continue}f[g]=t[g],f[g+1]=t[g+1]}d=this.#w(f,d);for(let g=e.length-6;g>=6;g-=6)for(let m=0;m<6;m+=2){if(isNaN(e[g+m])){f[d]=f[d+1]=NaN,d+=2;continue}f[d]=e[g+m],f[d+1]=e[g+m+1],d+=2}return this.#_(f,d),this.newFreeDrawOutline(f,h,this.#t,this.#f,this.#i,this.#n)}#x(t){const e=this.#a,[i,r,s,l]=this.#t,[u,h,f,d]=this.#p(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-r)/l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-r)/l],0),this.newFreeDrawOutline(g,t,this.#t,this.#f,this.#i,this.#n)}#_(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#w(t,e){const i=this.#a.subarray(4,6),r=this.#a.subarray(16,18),[s,l,u,h]=this.#t,[f,d,g,m]=this.#p();return t.set([NaN,NaN,NaN,NaN,(i[0]-s)/u,(i[1]-l)/h,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(r[0]-s)/u,(r[1]-l)/h],e),e+=24}}class zM extends ct{#t;#e=new Float32Array(4);#i;#n;#s;#a;#r;constructor(t,e,i,r,s,l){super(),this.#r=t,this.#s=e,this.#t=i,this.#a=r,this.#i=s,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,h,f,d]=this.#e;for(let g=0,m=t.length;g<m;g+=2)t[g]=(t[g]-u)/f,t[g+1]=(t[g+1]-h)/d;for(let g=0,m=e.length;g<m;g+=2)e[g]=(e[g]-u)/f,e[g+1]=(e[g+1]-h)/d}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,i=this.#r.length;e<i;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],s){const l=i-t,u=r-e;let h,f;switch(s){case 0:h=ct._rescale(this.#r,t,r,l,-u),f=ct._rescale(this.#s,t,r,l,-u);break;case 90:h=ct._rescaleAndSwap(this.#r,t,e,l,u),f=ct._rescaleAndSwap(this.#s,t,e,l,u);break;case 180:h=ct._rescale(this.#r,i,e,-l,u),f=ct._rescale(this.#s,i,e,-l,u);break;case 270:h=ct._rescaleAndSwap(this.#r,i,r,-l,-u),f=ct._rescaleAndSwap(this.#s,i,r,-l,-u);break}return{outline:Array.from(h),points:[Array.from(f)]}}#o(t){const e=this.#r;let i=e[4],r=e[5];const s=[i,r,i,r];let l=i,u=r,h=i,f=r;const d=t?Math.max:Math.min,g=new Float32Array(4);for(let y=6,A=e.length;y<A;y+=6){const w=e[y+4],S=e[y+5];isNaN(e[y])?(ot.pointBoundingBox(w,S,s),u>S?(l=w,u=S):u===S&&(l=d(l,w)),f<S?(h=w,f=S):f===S&&(h=d(h,w))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,ot.bezierBoundingBox(i,r,...e.slice(y,y+6),g),ot.rectBoundingBox(g[0],g[1],g[2],g[3],s),u>g[1]?(l=g[0],u=g[1]):u===g[1]&&(l=d(l,g[0])),f<g[3]?(h=g[2],f=g[3]):f===g[3]&&(h=d(h,g[2]))),i=w,r=S}const m=this.#e;m[0]=s[0]-this.#i,m[1]=s[1]-this.#i,m[2]=s[2]-s[0]+2*this.#i,m[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[l,u],this.lastPoint=[h,f]}get box(){return this.#e}newOutliner(t,e,i,r,s,l=0){return new rs(t,e,i,r,s,l)}getNewOutline(t,e){const[i,r,s,l]=this.#e,[u,h,f,d]=this.#t,g=s*f,m=l*d,y=i*f+u,A=r*d+h,w=this.newOutliner({x:this.#s[0]*g+y,y:this.#s[1]*m+A},this.#t,this.#a,t,this.#n,e??this.#i);for(let S=2;S<this.#s.length;S+=2)w.add({x:this.#s[S]*g+y,y:this.#s[S+1]*m+A});return w.getOutlines()}}class _y{#t;#e;#i;#n=[];#s=[];constructor(t,e=0,i=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:S,width:_,height:C}of t){const x=Math.floor((w-e)/l)*l,O=Math.ceil((w+_+e)/l)*l,M=Math.floor((S-e)/l)*l,D=Math.ceil((S+C+e)/l)*l,R=[x,M,D,!0],L=[O,M,D,!1];this.#n.push(R,L),ot.rectBoundingBox(x,M,O,D,s)}const u=s[2]-s[0]+2*i,h=s[3]-s[1]+2*i,f=s[0]-i,d=s[1]-i;let g=r?-1/0:1/0,m=1/0;const y=this.#n.at(r?-1:-2),A=[y[0],y[2]];for(const w of this.#n){const[S,_,C,x]=w;!x&&r?_<m?(m=_,g=S):_===m&&(g=Math.max(g,S)):x&&!r&&(_<m?(m=_,g=S):_===m&&(g=Math.min(g,S))),w[0]=(S-f)/u,w[1]=(_-d)/h,w[2]=(C-d)/h}this.#t=new Float32Array([f,d,u,h]),this.#e=[g,m],this.#i=A}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#u(e),t.push(...this.#l(e)));return this.#a(t)}#a(t){const e=[],i=new Set;for(const l of t){const[u,h,f]=l;e.push([u,h,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const h=e[l][2],f=e[l+1][2];h.push(f),f.push(h),i.add(h),i.add(f)}const r=[];let s;for(;i.size>0;){const l=i.values().next().value;let[u,h,f,d,g]=l;i.delete(l);let m=u,y=h;for(s=[u,f],r.push(s);;){let A;if(i.has(d))A=d;else if(i.has(g))A=g;else break;i.delete(A),[u,h,f,d,g]=A,m!==u&&(s.push(m,y,u,y===h?h:f),m=u),y=y===h?f:h}s.push(m,y)}return new BB(r,this.#t,this.#e,this.#i)}#r(t){const e=this.#s;let i=0,r=e.length-1;for(;i<=r;){const s=i+r>>1,l=e[s][0];if(l===t)return s;l<t?i=s+1:r=s-1}return r+1}#o([,t,e]){const i=this.#r(t);this.#s.splice(i,0,[t,e])}#u([,t,e]){const i=this.#r(t);for(let r=i;r<this.#s.length;r++){const[s,l]=this.#s[r];if(s!==t)break;if(s===t&&l===e){this.#s.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,l]=this.#s[r];if(s!==t)break;if(s===t&&l===e){this.#s.splice(r,1);return}}}#l(t){const[e,i,r]=t,s=[[e,i,r]],l=this.#r(r);for(let u=0;u<l;u++){const[h,f]=this.#s[u];for(let d=0,g=s.length;d<g;d++){const[,m,y]=s[d];if(!(f<=m||y<=h)){if(m>=h){if(y>f)s[d][1]=f;else{if(g===1)return[];s.splice(d,1),d--,g--}continue}s[d][2]=h,y>f&&s.push([e,f,y])}}}return s}}class BB extends ct{#t;#e;constructor(t,e,i,r){super(),this.#e=t,this.#t=e,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[i,r]=e;t.push(`M${i} ${r}`);for(let s=2;s<e.length;s+=2){const l=e[s],u=e[s+1];l===i?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],s){const l=[],u=i-t,h=r-e;for(const f of this.#e){const d=new Array(f.length);for(let g=0;g<f.length;g+=2)d[g]=t+f[g]*u,d[g+1]=r-f[g+1]*h;l.push(d)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Ey extends rs{newFreeDrawOutline(t,e,i,r,s,l){return new zB(t,e,i,r,s,l)}}class zB extends zM{newOutliner(t,e,i,r,s,l=0){return new Ey(t,e,i,r,s,l)}}class Ee extends bt{#t=null;#e=0;#i;#n=null;#s=null;#a=null;#r=null;#o=0;#u=null;#l=null;#f=null;#h=!1;#d=null;#m=null;#g=null;#c="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Tt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Ee.prototype;return Ct(this,"_keyboardManager",new Yu([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Ee._defaultColor,this.#p=t.thickness||Ee._defaultThickness,this.opacity=t.opacity||Ee._defaultOpacity,this.#i=t.boxes||null,this.#v=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#y(t),this.#A()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new _y(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new _y(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#a=e.getOutlines();const{firstPoint:i}=this.#l;this.#d=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#a;this.#m=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const r=1.5;if(this.#a=t.getNewOutline(this.#p/2+r,.0025),e>=0)this.#f=e,this.#n=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:Ee.#E(this.#l.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:Ee.#E(this.#a.box,g),path:{d:this.#a.toSVGPath()}})}const[s,l,u,h]=t.box;switch(this.rotation){case 0:this.x=s,this.y=l,this.width=u,this.height=h;break;case 90:{const[g,m]=this.parentDimensions;this.x=l,this.y=1-s,this.width=u*m/g,this.height=h*g/m;break}case 180:this.x=1-s,this.y=1-l,this.width=u,this.height=h;break;case 270:{const[g,m]=this.parentDimensions;this.x=1-l,this.y=s,this.width=u*m/g,this.height=h*g/m;break}}const{firstPoint:f}=t;this.#d=[(f[0]-s)/u,(f[1]-l)/h];const{lastPoint:d}=this.#a;this.#m=[(d[0]-s)/u,(d[1]-l)/h]}static initialize(t,e){bt.initialize(t,e),Ee._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case jt.HIGHLIGHT_COLOR:Ee._defaultColor=e;break;case jt.HIGHLIGHT_THICKNESS:Ee._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#d}updateParams(t,e){switch(t){case jt.HIGHLIGHT_COLOR:this.#x(e);break;case jt.HIGHLIGHT_THICKNESS:this.#_(e);break}}static get defaultPropertiesToUpdate(){return[[jt.HIGHLIGHT_COLOR,Ee._defaultColor],[jt.HIGHLIGHT_THICKNESS,Ee._defaultThickness]]}get propertiesToUpdate(){return[[jt.HIGHLIGHT_COLOR,this.color||Ee._defaultColor],[jt.HIGHLIGHT_THICKNESS,this.#p||Ee._defaultThickness],[jt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#x(t){const e=(s,l)=>{this.color=s,this.opacity=l,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,Ee._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#_(t){const e=this.#p,i=r=>{this.#p=r,this.#w(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new bi({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#A(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#w(t){this.#h&&(this.#y({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#T(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#A(t=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#h),this.#u&&(this.#u.style.clipPath=this.#n))}static#E([t,e,i,r],s){switch(s){case 90:return[1-e-r,t,r,i];case 180:return[1-t-i,1-e-r,i,r];case 270:return[e,1-t-i,r,i]}return[t,e,i,r]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#h?(t=(t-this.rotation+360)%360,i=Ee.#E(this.#l.box,t)):i=Ee.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#f,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#g,{bbox:Ee.#E(this.#a.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});const e=this.#u=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(),gM(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#D(t){Ee._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#O(!0);break;case 1:case 3:this.#O(!1);break}}#O(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#h||this.#O(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!t}}))}#M(){return this.#h?this.rotation:0}#j(){if(this.#h)return null;const[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#i,l=new Float32Array(s.length*8);let u=0;for(const{x:h,y:f,width:d,height:g}of s){const m=h*t+i,y=(1-f)*e+r;l[u]=l[u+4]=m,l[u+1]=l[u+3]=y,l[u+2]=l[u+6]=m+d*t,l[u+5]=l[u+7]=y-g*e,u+=8}return l}#R(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,e,{target:i,x:r,y:s}){const{x:l,y:u,width:h,height:f}=i.getBoundingClientRect(),d=new AbortController,g=t.combinedSignal(d),m=y=>{d.abort(),this.#B(t,y)};window.addEventListener("blur",m,{signal:g}),window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("pointerdown",we,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Si,{signal:g}),i.addEventListener("pointermove",this.#N.bind(this,t),{signal:g}),this._freeHighlight=new Ey({x:r,y:s},[l,u,h,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let r=null;if(t instanceof jM){const{data:{quadPoints:A,rect:w,rotation:S,id:_,color:C,opacity:x,popupRef:O,richText:M,contentsObj:D,creationDate:R,modificationDate:L},parent:{page:{pageNumber:z}}}=t;r=t={annotationType:Tt.HIGHLIGHT,color:Array.from(C),opacity:x,quadPoints:A,boxes:null,pageIndex:z-1,rect:w.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,popupRef:O,richText:M,comment:D?.str||null,creationDate:R,modificationDate:L}}else if(t instanceof k0){const{data:{inkLists:A,rect:w,rotation:S,id:_,color:C,borderStyle:{rawWidth:x},popupRef:O,richText:M,contentsObj:D,creationDate:R,modificationDate:L},parent:{page:{pageNumber:z}}}=t;r=t={annotationType:Tt.HIGHLIGHT,color:Array.from(C),thickness:x,inkLists:A,boxes:null,pageIndex:z-1,rect:w.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,popupRef:O,richText:M,comment:D?.str||null,creationDate:R,modificationDate:L}}const{color:s,quadPoints:l,inkLists:u,opacity:h}=t,f=await super.deserialize(t,e,i);f.color=ot.makeHexColor(...s),f.opacity=h||1,u&&(f.#p=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[d,g]=f.pageDimensions,[m,y]=f.pageTranslation;if(l){const A=f.#i=[];for(let w=0;w<l.length;w+=8)A.push({x:(l[w]-m)/d,y:1-(l[w+1]-y)/g,width:(l[w+2]-l[w])/d,height:(l[w+1]-l[w+5])/g});f.#b(),f.#A(),f.rotate(f.rotation)}else if(u){f.#h=!0;const A=u[0],w={x:A[0]-m,y:g-(A[1]-y)},S=new Ey(w,[0,0,d,g],1,f.#p/2,!0,.001);for(let x=0,O=A.length;x<O;x+=2)w.x=A[x]-m,w.y=g-(A[x+1]-y),S.add(w);const{id:_,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);f.#y({highlightOutlines:S.getOutlines(),highlightId:_,clipPathId:C}),f.#A(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#j(),outlines:this.#R(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#L(i)?null:(i.id=this.annotationElementId,i)}#L(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class FM{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){ee("Not implemented")}}class $t extends bt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#s=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#a(t),this.#u())}#a({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#r(t,this.parent),this.#h(t.box)}#r(t,e){const{id:i}=e.drawLayer.draw($t._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[r,s]of Object.entries(e))i.has(r)?Object.assign(t[r],s):t[r]=s;return t}static getDefaultDrawingOptions(t){ee("Not implemented")}static get typesMap(){ee("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&($t.#i.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,e[r]]);return t}_updateProperty(t,e,i){const r=this._drawingOptions,s=r[e],l=u=>{r.updateProperty(e,u);const h=this.#t.updateProperty(e,u);h&&this.#h(h),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,$t._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#f()),{bbox:this.#d()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,$t._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#f()),{bbox:this.#d()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#d()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,$t._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#d()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#u(),this.#h(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#o()):t&&(this._uiManager.addShouldRescale(this),this.#u(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#u(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#t,t)}}#l([t,e,i,r]){const{parentDimensions:[s,l],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(l/s),r*(s/l)];case 180:return[1-t,1-e,i,r];case 270:return[1-e,t,i*(l/s),r*(s/l)];default:return[t,e,i,r]}}#f(){const{x:t,y:e,width:i,height:r,parentDimensions:[s,l],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(s/l),r*(l/s)];case 180:return[1-t,1-e,i,r];case 270:return[e,1-t,i*(s/l),r*(l/s)];default:return[t,e,i,r]}}#h(t){[this.x,this.y,this.width,this.height]=this.#l(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#d(){const{x:t,y:e,width:i,height:r,rotation:s,parentRotation:l,parentDimensions:[u,h]}=this;switch((s*4+l)/90){case 1:return[1-e-r,t,r,i];case 2:return[1-t-i,1-e-r,i,r];case 3:return[e,1-t-i,r,i];case 4:return[t,e-i*(u/h),r*(h/u),i*(u/h)];case 5:return[1-e,t,i*(u/h),r*(h/u)];case 6:return[1-t-r*(h/u),1-e,r*(h/u),i*(u/h)];case 7:return[e-i*(u/h),1-t-r*(h/u),i*(u/h),r*(h/u)];case 8:return[t-i,e-r,i,r];case 9:return[1-e,t-i,r,i];case 10:return[1-t,1-e,i,r];case 11:return[e-r,1-t,r,i];case 12:return[t-r*(h/u),e,r*(h/u),i*(u/h)];case 13:return[1-e-i*(u/h),t-r*(h/u),i*(u/h),r*(h/u)];case 14:return[1-t,1-e-i*(u/h),r*(h/u),i*(u/h)];case 15:return[e,1-t,i*(u/h),r*(h/u)];default:return[t,e,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,$t._mergeSVGProperties({bbox:this.#d()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,r,s){ee("Not implemented")}static startDrawing(t,e,i,r){const{target:s,offsetX:l,offsetY:u,pointerId:h,pointerType:f}=r;if(Gt.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:d}}=t,{width:g,height:m}=s.getBoundingClientRect(),y=$t.#n=new AbortController,A=t.combinedSignal(y);if(Gt.setPointer(f,h),window.addEventListener("pointerup",w=>{Gt.isSamePointerIdOrRemove(w.pointerId)&&this._endDraw(w)},{signal:A}),window.addEventListener("pointercancel",w=>{Gt.isSamePointerIdOrRemove(w.pointerId)&&this._currentParent.endDrawingSession()},{signal:A}),window.addEventListener("pointerdown",w=>{Gt.isSamePointerType(w.pointerType)&&(Gt.initializeAndAddPointerId(w.pointerId),$t.#i.isCancellable()&&($t.#i.removeLastElement(),$t.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Si,{signal:A}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),s.addEventListener("touchmove",w=>{Gt.isSameTimeStamp(w.timeStamp)&&we(w)},{signal:A}),t.toggleDrawing(),e._editorUndoBar?.hide(),$t.#i){t.drawLayer.updateProperties(this._currentDrawId,$t.#i.startNew(l,u,g,m,d));return}e.updateUIForDefaultProperties(this),$t.#i=this.createDrawerInstance(l,u,g,m,d),$t.#s=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties($t.#s.toSVGProperties(),$t.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Gt.isSameTimeStamp(t.timeStamp),!$t.#i)return;const{offsetX:e,offsetY:i,pointerId:r}=t;if(Gt.isSamePointerId(r)){if(Gt.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,$t.#i.add(e,i)),Gt.setTimeStamp(t.timeStamp),we(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,$t.#i=null,$t.#s=null,Gt.clearTimeStamp()),$t.#n&&($t.#n.abort(),$t.#n=null,Gt.clearPointerIds())}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,$t.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=$t.#i,r=this._currentDrawId,s=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,i.setLastElement(s))},undo:()=>{e.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:jt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(jt.DRAW_STEP),!$t.#i.isEmpty()){const{pageDimensions:[i,r],scale:s}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:$t.#i.getOutlines(i*s,r*s,s,this._INNER_MARGIN),drawingOptions:$t.#s,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,r,s,l){ee("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:r,pageHeight:s,pageX:l,pageY:u}}=e.viewport,h=this.deserializeDraw(l,u,r,s,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#a({drawOutlines:h}),f.#u(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#t.serialize([e,i,r,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class FB{#t=new Float64Array(6);#e;#i;#n;#s;#a;#r="";#o=0;#u=new Ku;#l;#f;constructor(t,e,i,r,s,l){this.#l=i,this.#f=r,this.#n=s,this.#s=l,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e],this.#i=[{line:u,points:this.#a}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#h(t,e){return ct._normalizePoint(t,e,this.#l,this.#f,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#a.length<=10}add(t,e){[t,e]=this.#h(t,e);const[i,r,s,l]=this.#t.subarray(2,6),u=t-s,h=e-l;return Math.hypot(this.#l*u,this.#f*h)<=2?null:(this.#a.push(t,e),isNaN(i)?(this.#t.set([s,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,r,s,l,t,e],0),this.#e.push(...ct.createBezierPoints(i,r,s,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,s){this.#l=i,this.#f=r,this.#n=s,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:l,points:this.#a}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#a=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#u.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:i,points:r}=this.#i[t];this.#e=i,this.#a=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=ct.svgRound(this.#e[4]),e=ct.svgRound(this.#e[5]);if(this.#a.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#a.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#a.length===4){const r=ct.svgRound(this.#e[10]),s=ct.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${r} ${s}`,this.#o=12,this.#r}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,s=this.#e.length;r<s;r+=6){const[l,u,h,f,d,g]=this.#e.slice(r,r+6).map(ct.svgRound);i.push(`C${l} ${u} ${h} ${f} ${d} ${g}`)}return this.#r+=i.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,i,r){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#u.build(this.#i,t,e,i,this.#n,this.#s,r),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Ku extends ct{#t;#e=0;#i;#n;#s;#a;#r;#o;#u;build(t,e,i,r,s,l,u){this.#s=e,this.#a=i,this.#r=r,this.#o=s,this.#u=l,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#u}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${ct.svgRound(e[4])} ${ct.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ct.svgRound(e[10])} ${ct.svgRound(e[11])}`);continue}for(let i=6,r=e.length;i<r;i+=6){const[s,l,u,h,f,d]=e.subarray(i,i+6).map(ct.svgRound);t.push(`C${s} ${l} ${u} ${h} ${f} ${d}`)}}return t.join("")}serialize([t,e,i,r],s){const l=[],u=[],[h,f,d,g]=this.#f();let m,y,A,w,S,_,C,x,O;switch(this.#o){case 0:O=ct._rescale,m=t,y=e+r,A=i,w=-r,S=t+h*i,_=e+(1-f-g)*r,C=t+(h+d)*i,x=e+(1-f)*r;break;case 90:O=ct._rescaleAndSwap,m=t,y=e,A=i,w=r,S=t+f*i,_=e+h*r,C=t+(f+g)*i,x=e+(h+d)*r;break;case 180:O=ct._rescale,m=t+i,y=e,A=-i,w=r,S=t+(1-h-d)*i,_=e+f*r,C=t+(1-h)*i,x=e+(f+g)*r;break;case 270:O=ct._rescaleAndSwap,m=t+i,y=e+r,A=-i,w=-r,S=t+(1-f-g)*i,_=e+(1-h-d)*r,C=t+(1-f)*i,x=e+(1-h)*r;break}for(const{line:M,points:D}of this.#n)l.push(O(M,m,y,A,w,s?new Array(M.length):null)),u.push(O(D,m,y,A,w,s?new Array(D.length):null));return{lines:l,points:u,rect:[S,_,C,x]}}static deserialize(t,e,i,r,s,{paths:{lines:l,points:u},rotation:h,thickness:f}){const d=[];let g,m,y,A,w;switch(h){case 0:w=ct._rescale,g=-t/i,m=e/r+1,y=1/i,A=-1/r;break;case 90:w=ct._rescaleAndSwap,g=-e/r,m=-t/i,y=1/r,A=1/i;break;case 180:w=ct._rescale,g=t/i+1,m=-e/r,y=-1/i,A=1/r;break;case 270:w=ct._rescaleAndSwap,g=e/r+1,m=t/i+1,y=-1/r,A=-1/i;break}if(!l){l=[];for(const _ of u){const C=_.length;if(C===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(C===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}const x=new Float32Array(3*(C-2));l.push(x);let[O,M,D,R]=_.subarray(0,4);x.set([NaN,NaN,NaN,NaN,O,M],0);for(let L=4;L<C;L+=2){const z=_[L],K=_[L+1];x.set(ct.createBezierPoints(O,M,D,R,z,K),(L-2)*3),[O,M,D,R]=[D,R,z,K]}}}for(let _=0,C=l.length;_<C;_++)d.push({line:w(l[_].map(x=>x??NaN),g,m,y,A),points:w(u[_].map(x=>x??NaN),g,m,y,A)});const S=new this.prototype.constructor;return S.build(d,i,r,1,h,f,s),S}#l(t=this.#u){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#s,e/this.#a]:[e/this.#a,e/this.#s]}#f(){const[t,e,i,r]=this.#t,[s,l]=this.#l(0);return[t+s,e+l,i-2*s,r-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let u=4,h=r.length;u<h;u+=6)ot.pointBoundingBox(r[u],r[u+1],t);continue}let s=r[4],l=r[5];for(let u=6,h=r.length;u<h;u+=6){const[f,d,g,m,y,A]=r.subarray(u,u+6);ot.bezierBoundingBox(s,l,f,d,g,m,y,A,t),s=y,l=A}}const[e,i]=this.#l();t[0]=yn(t[0]-e,0,1),t[1]=yn(t[1]-i,0,1),t[2]=yn(t[2]+e,0,1),t[3]=yn(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#d(e):null}#d(t){const[e,i]=this.#l();this.#u=t;const[r,s]=this.#l(),[l,u]=[r-e,s-i],h=this.#t;return h[0]-=l,h[1]-=u,h[2]+=2*l,h[3]+=2*u,h}updateParentDimensions([t,e],i){const[r,s]=this.#l();this.#s=t,this.#a=e,this.#r=i;const[l,u]=this.#l(),h=l-r,f=u-s,d=this.#t;return d[0]-=h,d[1]-=f,d[2]+=2*h,d[3]+=2*f,d}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ct.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,r=0,s=0,l=0,u=0,h=0;switch(this.#e){case 90:r=e/t,s=-t/e,u=t;break;case 180:i=-1,l=-1,u=t,h=e;break;case 270:r=-e/t,s=t/e,h=e;break;default:return""}return`matrix(${i} ${r} ${s} ${l} ${ct.svgRound(u)} ${ct.svgRound(h)})`}getPathResizingSVGProperties([t,e,i,r]){const[s,l]=this.#l(),[u,h,f,d]=this.#t;if(Math.abs(f-s)<=ct.PRECISION||Math.abs(d-l)<=ct.PRECISION){const w=t+i/2-(u+f/2),S=e+r/2-(h+d/2);return{path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:`${this.rotationTransform} translate(${w} ${S})`}}}const g=(i-2*s)/(f-2*s),m=(r-2*l)/(d-2*l),y=f/i,A=d/r;return{path:{"transform-origin":`${ct.svgRound(u)} ${ct.svgRound(h)}`,transform:`${this.rotationTransform} scale(${y} ${A}) translate(${ct.svgRound(s)} ${ct.svgRound(l)}) scale(${g} ${m}) translate(${ct.svgRound(-s)} ${ct.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,i,r]){const[s,l]=this.#l(),u=this.#t,[h,f,d,g]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=r,Math.abs(d-s)<=ct.PRECISION||Math.abs(g-l)<=ct.PRECISION){const S=t+i/2-(h+d/2),_=e+r/2-(f+g/2);for(const{line:C,points:x}of this.#n)ct._translate(C,S,_,C),ct._translate(x,S,_,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(i-2*s)/(d-2*s),y=(r-2*l)/(g-2*l),A=-m*(h+s)+t+s,w=-y*(f+l)+e+l;if(m!==1||y!==1||A!==0||w!==0)for(const{line:S,points:_}of this.#n)ct._rescale(S,A,w,m,y,S),ct._rescale(_,A,w,m,y,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[r,s]=i,l=this.#t,u=t-l[0],h=e-l[1];if(this.#s===r&&this.#a===s)for(const{line:f,points:d}of this.#n)ct._translate(f,u,h,f),ct._translate(d,u,h,d);else{const f=this.#s/r,d=this.#a/s;this.#s=r,this.#a=s;for(const{line:g,points:m}of this.#n)ct._rescale(g,u,h,f,d,g),ct._rescale(m,u,h,f,d,m);l[2]*=f,l[3]*=d}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t[0])} ${ct.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class pd extends FM{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:bt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new pd(this._viewParameters);return t.updateAll(this),t}}class L0 extends $t{static _type="ink";static _editorType=Tt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){bt.initialize(t,e),this._defaultDrawingOptions=new pd(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ct(this,"typesMap",new Map([[jt.INK_THICKNESS,"stroke-width"],[jt.INK_COLOR,"stroke"],[jt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,r,s){return new FB(t,e,i,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,r,s,l){return Ku.deserialize(t,e,i,r,s,l)}static async deserialize(t,e,i){let r=null;if(t instanceof k0){const{data:{inkLists:l,rect:u,rotation:h,id:f,color:d,opacity:g,borderStyle:{rawWidth:m},popupRef:y,richText:A,contentsObj:w,creationDate:S,modificationDate:_},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:Tt.INK,color:Array.from(d),thickness:m,opacity:g,paths:{points:l},boxes:null,pageIndex:C-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:y,richText:A,comment:w?.str||null,creationDate:S,modificationDate:_}}const s=await super.deserialize(t,e,i);return s._initialData=r,t.comment&&s.setCommentData(t),s}get toolbarButtons(){return this._colorPicker||=new Eu(this),[["colorPicker",this._colorPicker]]}get colorType(){return jt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=L0.getDefaultDrawingOptions({stroke:ot.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:bt._colorManager.convert(r),opacity:s,thickness:l,paths:{lines:e,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:i,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==i||t.opacity!==r||t.pageIndex!==s}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class xy extends Ku{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const jh=8,Jl=3;class So{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,i,r,s,l,u){const h=this.#e(i,r,s,l);for(let f=0;f<8;f++){const d=(-f+h-u+16)%8,g=this.#i[2*d],m=this.#i[2*d+1];if(t[(i+g)*e+(r+m)]!==0)return d}return-1}static#s(t,e,i,r,s,l,u){const h=this.#e(i,r,s,l);for(let f=0;f<8;f++){const d=(f+h+u+16)%8,g=this.#i[2*d],m=this.#i[2*d+1];if(t[(i+g)*e+(r+m)]!==0)return d}return-1}static#a(t,e,i,r){const s=t.length,l=new Int32Array(s);for(let d=0;d<s;d++)l[d]=t[d]<=r?1:0;for(let d=1;d<i-1;d++)l[d*e]=l[d*e+e-1]=0;for(let d=0;d<e;d++)l[d]=l[e*i-1-d]=0;let u=1,h;const f=[];for(let d=1;d<i-1;d++){h=1;for(let g=1;g<e-1;g++){const m=d*e+g,y=l[m];if(y===0)continue;let A=d,w=g;if(y===1&&l[m-1]===0)u+=1,w-=1;else if(y>=1&&l[m+1]===0)u+=1,w+=1,y>1&&(h=y);else{y!==1&&(h=Math.abs(y));continue}const S=[g,d],_=w===g+1,C={isHole:_,points:S,id:u,parent:0};f.push(C);let x;for(const G of f)if(G.id===h){x=G;break}x?x.isHole?C.parent=_?x.parent:h:C.parent=_?h:x.parent:C.parent=_?h:0;const O=this.#n(l,e,d,g,A,w,0);if(O===-1){l[m]=-u,l[m]!==1&&(h=Math.abs(l[m]));continue}let M=this.#i[2*O],D=this.#i[2*O+1];const R=d+M,L=g+D;A=R,w=L;let z=d,K=g;for(;;){const G=this.#s(l,e,z,K,A,w,1);M=this.#i[2*G],D=this.#i[2*G+1];const U=z+M,st=K+D;S.push(st,U);const it=z*e+K;if(l[it+1]===0?l[it]=-u:l[it]===1&&(l[it]=u),U===d&&st===g&&z===R&&K===L){l[m]!==1&&(h=Math.abs(l[m]));break}else A=z,w=K,z=U,K=st}}}return f}static#r(t,e,i,r){if(i-e<=4){for(let R=e;R<i-2;R+=2)r.push(t[R],t[R+1]);return}const s=t[e],l=t[e+1],u=t[i-4]-s,h=t[i-3]-l,f=Math.hypot(u,h),d=u/f,g=h/f,m=d*l-g*s,y=h/u,A=1/f,w=Math.atan(y),S=Math.cos(w),_=Math.sin(w),C=A*(Math.abs(S)+Math.abs(_)),x=A*(1-C+C**2),O=Math.max(Math.atan(Math.abs(_+S)*x),Math.atan(Math.abs(_-S)*x));let M=0,D=e;for(let R=e+2;R<i-2;R+=2){const L=Math.abs(m-d*t[R+1]+g*t[R]);L>M&&(D=R,M=L)}M>(f*O)**2?(this.#r(t,e,D+2,r),this.#r(t,D,i,r)):r.push(s,l)}static#o(t){const e=[],i=t.length;return this.#r(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#u(t,e,i,r,s,l){const u=new Float32Array(l**2),h=-2*r**2,f=l>>1;for(let w=0;w<l;w++){const S=(w-f)**2;for(let _=0;_<l;_++)u[w*l+_]=Math.exp((S+(_-f)**2)/h)}const d=new Float32Array(256),g=-2*s**2;for(let w=0;w<256;w++)d[w]=Math.exp(w**2/g);const m=t.length,y=new Uint8Array(m),A=new Uint32Array(256);for(let w=0;w<i;w++)for(let S=0;S<e;S++){const _=w*e+S,C=t[_];let x=0,O=0;for(let D=0;D<l;D++){const R=w+D-f;if(!(R<0||R>=i))for(let L=0;L<l;L++){const z=S+L-f;if(z<0||z>=e)continue;const K=t[R*e+z],G=u[D*l+L]*d[Math.abs(K-C)];x+=K*G,O+=G}}const M=y[_]=Math.round(x/O);A[M]++}return[y,A]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#f(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,s=1/0;for(let u=0,h=i.length;u<h;u++){const f=i[u]=t[u<<2];r=Math.max(r,f),s=Math.min(s,f)}const l=255/(r-s);for(let u=0,h=i.length;u<h;u++)i[u]=(i[u]-s)*l;return i}static#h(t){let e,i=-1/0,r=-1/0;const s=t.findIndex(h=>h!==0);let l=s,u=s;for(e=s;e<256;e++){const h=t[e];h>i&&(e-l>r&&(r=e-l,u=e-1),i=h,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#d(t){const e=t,{width:i,height:r}=t,{maxDim:s}=this.#t;let l=i,u=r;if(i>s||r>s){let m=i,y=r,A=Math.log2(Math.max(i,r)/s);const w=Math.floor(A);A=A===w?w-1:w;for(let _=0;_<A;_++){l=Math.ceil(m/2),u=Math.ceil(y/2);const C=new OffscreenCanvas(l,u);C.getContext("2d").drawImage(t,0,0,m,y,0,0,l,u),m=l,y=u,t!==e&&t.close(),t=C.transferToImageBitmap()}const S=Math.min(s/l,s/u);l=Math.round(l*S),u=Math.round(u*S)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const d=f.getImageData(0,0,l,u).data;return[this.#f(d),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},s,l,u,h){let f=new OffscreenCanvas(1,1),d=f.getContext("2d",{alpha:!1});const g=200,m=d.font=`${i} ${r} ${g}px ${e}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:A,actualBoundingBoxAscent:w,actualBoundingBoxDescent:S,fontBoundingBoxAscent:_,fontBoundingBoxDescent:C,width:x}=d.measureText(t),O=1.5,M=Math.ceil(Math.max(Math.abs(y)+Math.abs(A)||0,x)*O),D=Math.ceil(Math.max(Math.abs(w)+Math.abs(S)||g,Math.abs(_)+Math.abs(C)||g)*O);f=new OffscreenCanvas(M,D),d=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=m,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,M,D),d.fillStyle="black",d.fillText(t,M*(O-1)/2,D*(3-O)/2);const R=this.#f(d.getImageData(0,0,M,D).data),L=this.#l(R),z=this.#h(L),K=this.#a(R,M,D,z);return this.processDrawnLines({lines:{curves:K,width:M,height:D},pageWidth:s,pageHeight:l,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,s){const[l,u,h]=this.#d(t),[f,d]=this.#u(l,u,h,Math.hypot(u,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#h(d),m=this.#a(f,u,h,g);return this.processDrawnLines({lines:{curves:m,width:u,height:h},pageWidth:e,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:l,areContours:u}){r%180!==0&&([e,i]=[i,e]);const{curves:h,width:f,height:d}=t,g=t.thickness??0,m=[],y=Math.min(e/f,i/d),A=y/e,w=y/i,S=[];for(const{points:C}of h){const x=l?this.#o(C):C;if(!x)continue;S.push(x);const O=x.length,M=new Float32Array(O),D=new Float32Array(3*(O===2?2:O-2));if(m.push({line:D,points:M}),O===2){M[0]=x[0]*A,M[1]=x[1]*w,D.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[R,L,z,K]=x;R*=A,L*=w,z*=A,K*=w,M.set([R,L,z,K],0),D.set([NaN,NaN,NaN,NaN,R,L],0);for(let G=4;G<O;G+=2){const U=M[G]=x[G]*A,st=M[G+1]=x[G+1]*w;D.set(ct.createBezierPoints(R,L,z,K,U,st),(G-2)*3),[R,L,z,K]=[z,K,U,st]}}if(m.length===0)return null;const _=u?new xy:new Ku;return _.build(m,e,i,1,r,u?0:g,s),{outline:_,newCurves:S,areContours:u,thickness:g,width:f,height:d}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:s}){let l=1/0,u=-1/0,h=0;for(const x of t){h+=x.length;for(let O=2,M=x.length;O<M;O++){const D=x[O]-x[O-2];l=Math.min(l,D),u=Math.max(u,D)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const d=t.length,g=jh+Jl*d,m=new Uint32Array(g);let y=0;m[y++]=g*Uint32Array.BYTES_PER_ELEMENT+(h-2*d)*f.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=r,m[y++]=s,m[y++]=e?0:1,m[y++]=Math.max(0,Math.floor(i??0)),m[y++]=d,m[y++]=f.BYTES_PER_ELEMENT;for(const x of t)m[y++]=x.length-2,m[y++]=x[0],m[y++]=x[1];const A=new CompressionStream("deflate-raw"),w=A.writable.getWriter();await w.ready,w.write(m);const S=f.prototype.constructor;for(const x of t){const O=new S(x.length-2);for(let M=2,D=x.length;M<D;M++)O[M-2]=x[M]-x[M-2];w.write(O)}w.close();const _=await new Response(A.readable).arrayBuffer(),C=new Uint8Array(_);return hM(C)}static async decompressSignature(t){try{const e=ej(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let l=null,u=0;for await(const x of i)l||=new Uint8Array(new Uint32Array(x.buffer,0,4)[0]),l.set(x,u),u+=x.length;const h=new Uint32Array(l.buffer,0,l.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const d=h[2],g=h[3],m=h[4]===0,y=h[5],A=h[6],w=h[7],S=[],_=(jh+Jl*A)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(w){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(l.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(l.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(l.buffer,_);break}u=0;for(let x=0;x<A;x++){const O=h[Jl*x+jh],M=new Float32Array(O+2);S.push(M);for(let D=0;D<Jl-1;D++)M[D]=h[Jl*x+jh+D+1];for(let D=0;D<O;D++)M[D+2]=M[D]+C[u++]}return{areContours:m,thickness:y,outlines:S,width:d,height:g}}catch(e){return xt(`decompressSignature: ${e}`),null}}}class I0 extends FM{constructor(){super(),super.updateProperties({fill:bt._defaultLineColor,"stroke-width":0})}clone(){const t=new I0;return t.updateAll(this),t}}class j0 extends pd{constructor(t){super(t),super.updateProperties({stroke:bt._defaultLineColor,"stroke-width":1})}clone(){const t=new j0(this._viewParameters);return t.updateAll(this),t}}class Yi extends $t{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Tt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){bt.initialize(t,e),this._defaultDrawingOptions=new I0,this._defaultDrawnSignatureOptions=new j0(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:s,areContours:l,description:u,uuid:h,heightInPage:f}=this.#i,{rawDims:{pageWidth:d,pageHeight:g},rotation:m}=this.parent.viewport,y=So.processDrawnLines({lines:r,pageWidth:d,pageHeight:g,rotation:m,innerMargin:Yi._INNER_MARGIN,mustSmooth:s,areContours:l});this.addSignature(y,f,u,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:r,height:s}=this.#i,l=Math.max(r,s),u=So.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:i,width:r,height:s},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,r){const{x:s,y:l}=this,{outline:u}=this.#i=t;this.#t=u instanceof xy,this.description=i;let h;this.#t?h=Yi.getDefaultDrawingOptions():(h=Yi._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:h});const[,f]=this.pageDimensions;let d=e/f;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=s,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return So.process(t,e,i,r,Yi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return So.extractContoursFromText(t,e,i,r,s,Yi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return So.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:Yi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Yi.getDefaultDrawingOptions():(this._drawingOptions=Yi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,s=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(s),t?(s.paths={lines:e,points:i},s.uuid=this.#n,s.isCopy=!0):s.lines=e,this.#e&&(s.accessibilityData={type:"Figure",alt:this.#e}),s}static deserializeDraw(t,e,i,r,s,l){return l.areContours?xy.deserialize(t,e,i,r,s,l):Ku.deserialize(t,e,i,r,s,l)}static async deserialize(t,e,i){const r=await super.deserialize(t,e,i);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class UB extends bt{#t=null;#e=null;#i=null;#n=null;#s=null;#a="";#r=null;#o=!1;#u=null;#l=!1;#f=!1;static _type="stamp";static _editorType=Tt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){bt.initialize(t,e)}static isHandlingMimeForPasting(t){return my.includes(t)}static paste(t,e){e.pasteEditor({mode:Tt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#a=t.file.name),this.#g()}#d(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:r,width:s,height:l,channels:r.length/(s*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const h=u.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#h(i,!0)).finally(()=>this.#d());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#h(r)).finally(()=>this.#d());return}if(this.#s){const i=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#h(r)).finally(()=>this.#d());return}const t=document.createElement("input");t.type="file",t.accept=my.join(",");const e=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#d()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#s||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,r&&(this.#t=r),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#u!==null&&clearTimeout(this.#u);const t=200;this.#u=setTimeout(()=>{this.#u=null,this.#p()},t)}#g(){const{div:t}=this;let{width:e,height:i}=this.#t;const[r,s]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,i=this.height*s;else if(e>l*r||i>l*s){const h=Math.min(l*r/e,l*s/i);e*=h,i*=h}this._uiManager.enableWaiting(!1);const u=this.#r=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/r,this.height=i/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:r,height:s}=this.#t,l=new Ji;let u=this.#t,h=r,f=s,d=null;if(e){if(r>e||s>e){const D=Math.min(e/r,e/s);h=Math.floor(r*D),f=Math.floor(s*D)}d=document.createElement("canvas");const m=d.width=Math.ceil(h*l.sx),y=d.height=Math.ceil(f*l.sy);this.#l||(u=this.#c(m,y));const A=d.getContext("2d");A.filter=this._uiManager.hcmFilter;let w="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":oj.isDarkMode&&(w="#8f8f9d",S="#42414d");const _=15,C=_*l.sx,x=_*l.sy,O=new OffscreenCanvas(C*2,x*2),M=O.getContext("2d");M.fillStyle=w,M.fillRect(0,0,C*2,x*2),M.fillStyle=S,M.fillRect(0,0,C,x),M.fillRect(C,x,C,x),A.fillStyle=A.createPattern(O,"repeat"),A.fillRect(0,0,m,y),A.drawImage(u,0,0,u.width,u.height,0,0,m,y)}let g=null;if(i){let m,y;if(l.symmetric&&u.width<t&&u.height<t)m=u.width,y=u.height;else if(u=this.#t,r>t||s>t){const S=Math.min(t/r,t/s);m=Math.floor(r*S),y=Math.floor(s*S),this.#l||(u=this.#c(m,y))}const w=new OffscreenCanvas(m,y).getContext("2d",{willReadFrequently:!0});w.drawImage(u,0,0,u.width,u.height,0,0,m,y),g={width:m,height:y,data:w.getImageData(0,0,m,y).data}}return{canvas:d,width:h,height:f,imageData:g}}#c(t,e){const{width:i,height:r}=this.#t;let s=i,l=r,u=this.#t;for(;s>2*t||l>2*e;){const h=s,f=l;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const d=new OffscreenCanvas(s,l);d.getContext("2d").drawImage(u,0,0,h,f,0,0,s,l),u=d.transferToImageBitmap()}return u}#p(){const[t,e]=this.parentDimensions,{width:i,height:r}=this,s=new Ji,l=Math.ceil(i*t*s.sx),u=Math.ceil(r*e*s.sy),h=this.#r;if(!h||h.width===l&&h.height===u)return;h.width=l,h.height=u;const f=this.#l?this.#t:this.#c(l,u),d=h.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#v(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,r=Math.round(this.width*e*Io.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Io.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,s);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,s),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let r=null,s=!1;if(t instanceof BM){const{data:{rect:w,rotation:S,id:_,structParent:C,popupRef:x,richText:O,contentsObj:M,creationDate:D,modificationDate:R},container:L,parent:{page:{pageNumber:z}},canvas:K}=t;let G,U;K?(delete t.canvas,{id:G,bitmap:U}=i.imageManager.getFromCanvas(L.id,K),K.remove()):(s=!0,t._hasNoCanvas=!0);const st=(await e._structTree.getAriaAttributes(`${Eo}${_}`))?.get("aria-label")||"";r=t={annotationType:Tt.STAMP,bitmapId:G,bitmap:U,pageIndex:z-1,rect:w.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:st},isSvg:!1,structParent:C,popupRef:x,richText:O,comment:M?.str||null,creationDate:D,modificationDate:R}}const l=await super.deserialize(t,e,i),{rect:u,bitmap:h,bitmapUrl:f,bitmapId:d,isSvg:g,accessibilityData:m}=t;s?(i.addMissingCanvas(t.id,l),l.#o=!0):d&&i.imageManager.isValidId(d)?(l.#e=d,h&&(l.#t=h)):l.#n=f,l.#l=g;const[y,A]=l.pageDimensions;return l.width=(u[2]-u[0])/y,l.height=(u[3]-u[1])/A,m&&(l.altTextData=m),l._initialData=r,t.comment&&l.setCommentData(t),l.#f=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const u=this.#b(i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(e===null)return i;e.stamps||=new Map;const l=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#v(!1))}return i}#b(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Er{#t;#e=!1;#i=null;#n=null;#s=null;#a=new Map;#r=!1;#o=!1;#u=!1;#l=null;#f=null;#h=null;#d=null;#m=null;#g=-1;#c;static _initialized=!1;static#p=new Map([He,L0,UB,Ee,Yi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:l,drawLayer:u,textLayer:h,viewport:f,l10n:d}){const g=[...Er.#p.values()];if(!Er._initialized){Er._initialized=!0;for(const m of g)m.initialize(d,t)}t.registerEditorTypes(g),this.#c=t,this.pageIndex=e,this.div=i,this.#t=s,this.#i=l,this.viewport=f,this.#h=h,this.drawLayer=u,this._structTree=r,this.#c.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===Tt.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#w(),t){case Tt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Tt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Tt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Tt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of Er.#p.values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.togglePointerEvents(t)}get#v(){return this.#a.size!==0?this.#a.values():this.#c.getEditors(this.pageIndex)}async enable(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const t=new Set;for(const i of this.#v)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#c.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=this.#i;if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),this.#c.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#u=!1,this.#c._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const r=this.#c.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",s=>{const{clientX:u,clientY:h,timeStamp:f}=s,d=this.#g;if(f-d>500){this.#g=f;return}this.#g=-1;const{classList:g}=this.div;g.toggle("getElements",!0);const m=document.elementsFromPoint(u,h);if(g.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const A=new RegExp(`^${Au}[0-9]+$`);for(const S of m)if(A.test(S.id)){y=S.id;break}if(!y)return;const w=this.#a.get(y);w?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),w.dblclick(s))},{signal:r,capture:!0})}const t=this.#i,e=[];if(t){const r=new Map,s=new Map;for(const u of this.#v){if(u.disableEditing(),!u.annotationElementId){e.push(u);continue}if(u.serialize()!==null){r.set(u.annotationElementId,u);continue}else s.set(u.annotationElementId,u);this.getEditableAnnotation(u.annotationElementId)?.show(),u.remove()}const l=t.getEditableAnnotations();for(const u of l){const{id:h}=u.data;if(this.#c.isDeletedAnnotationElement(h)){u.updateEdited({deleted:!0});continue}let f=s.get(h);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=r.get(h),f&&(this.#c.addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of Er.#p.values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(e),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#d){this.#d=new AbortController;const t=this.#c.combinedSignal(this.#d);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#d&&(this.#d.abort(),this.#d=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:i}=Ie.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#c.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),Ee.startHighlighting(this,this.#c.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#c.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#a.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#a.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t),bt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#u),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of this.#a.values())if(e.uid===t)return e;return null}getNextId(){return this.#c.getId()}get#y(){return Er.#p.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#x(t){const e=this.#y;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:i,offsetY:r}=this.#_(),s=this.getNextId(),l=this.#x({parent:this,id:s,x:i,y:r,uiManager:this.#c,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await Er.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),s=this.#x({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#_(){const{x:t,y:e,width:i,height:r}=this.boundingClientRect,s=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+r),f=(s+u)/2-t,d=(l+h)/2-e,[g,m]=this.viewport.rotation%180===0?[f,d]:[d,f];return{offsetX:g,offsetY:m}}addNewEditor(t={}){this.createAndAddNewEditor(this.#_(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=Ie.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#c.getMode();if(i===Tt.STAMP||i===Tt.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===Tt.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=Ie.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const i=this.#c.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#f=null,this.commitOrRemove())},{signal:e}),this.#y.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#f=e);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#y.endDrawing(t)):null}findNewParent(t,e,i){const r=this.#c.findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const t of this.#a.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#a.clear(),this.#c.removeLayer(this)}#w(){for(const t of this.#a.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,ms(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#w();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ms(this.div,{rotation:i}),e!==i)for(const r of this.#a.values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class rn{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ct(this,"_svgFactory",new df)}static#s(t,[e,i,r,s]){const{style:l}=t;l.top=`${100*i}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*s}%`}#a(){const t=rn._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const i=rn._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=rn._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r}#o(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,e=!1,i=!1){const r=rn.#n++,s=this.#a(),l=rn._svgFactory.createElement("defs");s.append(l);const u=rn._svgFactory.createElement("path");l.append(u);const h=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,u);const f=i?this.#r(l,h):null,d=rn._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${h}`),this.updateProperties(s,t),this.#e.set(r,s),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=rn.#n++,r=this.#a(),s=rn._svgFactory.createElement("defs");r.append(s);const l=rn._svgFactory.createElement("path");s.append(l);const u=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const g=rn._svgFactory.createElement("mask");s.append(g),h=`mask_p${this.pageIndex}_${i}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const m=rn._svgFactory.createElement("rect");g.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=rn._svgFactory.createElement("use");g.append(y),y.setAttribute("href",`#${u}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=rn._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),h&&f.setAttribute("mask",`url(#${h})`);const d=f.cloneNode();return r.append(d),f.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(i,r),i}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:r,rootClass:s,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),r&&rn.#s(u,r),s){const{classList:h}=u;for(const[f,d]of Object.entries(s))h.toggle(f,d)}if(l){const f=u.firstElementChild.firstElementChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:_y};globalThis.pdfjsLib={AbortException:Ma,AnnotationEditorLayer:Er,AnnotationEditorParamsType:jt,AnnotationEditorType:Tt,AnnotationEditorUIManager:Da,AnnotationLayer:N0,AnnotationMode:Sa,AnnotationType:Pe,applyOpacity:uj,build:vB,ColorPicker:bi,createValidAbsoluteUrl:oM,CSSConstants:lj,DOMSVGFactory:df,DrawLayer:rn,FeatureTest:Ie,fetchData:$u,findContrastColor:cj,getDocument:DM,getFilenameFromUrl:nj,getPdfFilenameFromUrl:ij,getRGB:Vu,getUuid:cM,getXfaPageViewport:aj,GlobalWorkerOptions:Ro,ImageKind:ef,InvalidPDFException:py,isDataScheme:hd,isPdfFile:E0,isValidExplicitDest:wj,MathClamp:yn,noContextMenu:Si,normalizeUnicode:JI,OPS:wu,OutputScale:Ji,PasswordResponses:$I,PDFDataRangeTransport:PM,PDFDateString:gy,PDFWorker:_u,PermissionFlag:qI,PixelsPerInch:Io,RenderingCancelledException:_0,renderRichText:dM,ResponseException:hf,setLayerDimensions:ms,shadow:Ct,SignatureExtractor:So,stopEvent:we,SupportedImageMimeTypes:my,TextLayer:Qn,TouchManager:fd,updateUrlHash:lM,Util:ot,VerbosityLevel:ld,version:mB,XfaLayer:fM};const HB="/study-ai-diagnostic/assets/pdf.worker-DjmdXq8j.mjs";function UM(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=UM(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function ie(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=UM(n))&&(i&&(i+=" "),i+=t);return i}var qB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function B0(n){if(typeof n!="string")return!1;var t=qB;return t.includes(n)}var $B=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GB=new Set($B);function HM(n){return typeof n!="string"?!1:GB.has(n)}function qM(n){return typeof n=="string"&&n.startsWith("data-")}function tr(n){if(typeof n!="object"||n===null)return{};var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(HM(e)||qM(e))&&(t[e]=n[e]);return t}function gd(n){if(n==null)return null;if(T.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var t=n.props;return tr(t)}return typeof n=="object"&&!Array.isArray(n)?tr(n):null}function Sn(n){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(HM(e)||qM(e)||B0(e))&&(t[e]=n[e]);return t}function VB(n){return n==null?null:T.isValidElement(n)?Sn(n.props):typeof n=="object"&&!Array.isArray(n)?Sn(n):null}var YB=["children","width","height","viewBox","className","style","title","desc"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Cy.apply(null,arguments)}function XB(n,t){if(n==null)return{};var e,i,r=KB(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function KB(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var $M=T.forwardRef((n,t)=>{var{children:e,width:i,height:r,viewBox:s,className:l,style:u,title:h,desc:f}=n,d=XB(n,YB),g=s||{width:i,height:r,x:0,y:0},m=ie("recharts-surface",l);return T.createElement("svg",Cy({},Sn(d),{className:m,width:i,height:r,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),T.createElement("title",null,h),T.createElement("desc",null,f),e)}),WB=["children","className"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ty.apply(null,arguments)}function ZB(n,t){if(n==null)return{};var e,i,r=QB(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function QB(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var Pa=T.forwardRef((n,t)=>{var{children:e,className:i}=n,r=ZB(n,WB),s=ie("recharts-layer",i);return T.createElement("g",Ty({className:s},Sn(r),{ref:t}),e)}),GM=eM(),JB=T.createContext(null);function re(n){return function(){return n}}const VM=Math.cos,pf=Math.sin,Li=Math.sqrt,gf=Math.PI,md=2*gf,Oy=Math.PI,My=2*Oy,es=1e-6,t3=My-es;function YM(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function e3(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return YM;const e=10**t;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}class n3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YM:e3(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,r){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,e,i,r,s,l){this._append`C${+t},${+e},${+i},${+r},${this._x1=+s},${this._y1=+l}`}arcTo(t,e,i,r,s){if(t=+t,e=+e,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,h=i-t,f=r-e,d=l-t,g=u-e,m=d*d+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(m>es)if(!(Math.abs(g*h-f*d)>es)||!s)this._append`L${this._x1=t},${this._y1=e}`;else{let y=i-l,A=r-u,w=h*h+f*f,S=y*y+A*A,_=Math.sqrt(w),C=Math.sqrt(m),x=s*Math.tan((Oy-Math.acos((w+m-S)/(2*_*C)))/2),O=x/C,M=x/_;Math.abs(O-1)>es&&this._append`L${t+O*d},${e+O*g}`,this._append`A${s},${s},0,0,${+(g*y>d*A)},${this._x1=t+M*h},${this._y1=e+M*f}`}}arc(t,e,i,r,s,l){if(t=+t,e=+e,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(r),h=i*Math.sin(r),f=t+u,d=e+h,g=1^l,m=l?r-s:s-r;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>es||Math.abs(this._y1-d)>es)&&this._append`L${f},${d}`,i&&(m<0&&(m=m%My+My),m>t3?this._append`A${i},${i},0,1,${g},${t-u},${e-h}A${i},${i},0,1,${g},${this._x1=f},${this._y1=d}`:m>es&&this._append`A${i},${i},0,${+(m>=Oy)},${g},${this._x1=t+i*Math.cos(s)},${this._y1=e+i*Math.sin(s)}`)}rect(t,e,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function z0(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new n3(t)}function F0(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function XM(n){this._context=n}XM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function vd(n){return new XM(n)}function KM(n){return n[0]}function WM(n){return n[1]}function ZM(n,t){var e=re(!0),i=null,r=vd,s=null,l=z0(u);n=typeof n=="function"?n:n===void 0?KM:re(n),t=typeof t=="function"?t:t===void 0?WM:re(t);function u(h){var f,d=(h=F0(h)).length,g,m=!1,y;for(i==null&&(s=r(y=l())),f=0;f<=d;++f)!(f<d&&e(g=h[f],f,h))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+n(g,f,h),+t(g,f,h));if(y)return s=null,y+""||null}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:re(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:re(+h),u):t},u.defined=function(h){return arguments.length?(e=typeof h=="function"?h:re(!!h),u):e},u.curve=function(h){return arguments.length?(r=h,i!=null&&(s=r(i)),u):r},u.context=function(h){return arguments.length?(h==null?i=s=null:s=r(i=h),u):i},u}function Bh(n,t,e){var i=null,r=re(!0),s=null,l=vd,u=null,h=z0(f);n=typeof n=="function"?n:n===void 0?KM:re(+n),t=typeof t=="function"?t:re(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?WM:re(+e);function f(g){var m,y,A,w=(g=F0(g)).length,S,_=!1,C,x=new Array(w),O=new Array(w);for(s==null&&(u=l(C=h())),m=0;m<=w;++m){if(!(m<w&&r(S=g[m],m,g))===_)if(_=!_)y=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=m-1;A>=y;--A)u.point(x[A],O[A]);u.lineEnd(),u.areaEnd()}_&&(x[m]=+n(S,m,g),O[m]=+t(S,m,g),u.point(i?+i(S,m,g):x[m],e?+e(S,m,g):O[m]))}if(C)return u=null,C+""||null}function d(){return ZM().defined(r).curve(l).context(s)}return f.x=function(g){return arguments.length?(n=typeof g=="function"?g:re(+g),i=null,f):n},f.x0=function(g){return arguments.length?(n=typeof g=="function"?g:re(+g),f):n},f.x1=function(g){return arguments.length?(i=g==null?null:typeof g=="function"?g:re(+g),f):i},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:re(+g),e=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:re(+g),f):t},f.y1=function(g){return arguments.length?(e=g==null?null:typeof g=="function"?g:re(+g),f):e},f.lineX0=f.lineY0=function(){return d().x(n).y(t)},f.lineY1=function(){return d().x(n).y(e)},f.lineX1=function(){return d().x(i).y(t)},f.defined=function(g){return arguments.length?(r=typeof g=="function"?g:re(!!g),f):r},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class QM{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function i3(n){return new QM(n,!0)}function r3(n){return new QM(n,!1)}const U0={draw(n,t){const e=Li(t/gf);n.moveTo(e,0),n.arc(0,0,e,0,md)}},a3={draw(n,t){const e=Li(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},JM=Li(1/3),s3=JM*2,o3={draw(n,t){const e=Li(t/s3),i=e*JM;n.moveTo(0,-e),n.lineTo(i,0),n.lineTo(0,e),n.lineTo(-i,0),n.closePath()}},l3={draw(n,t){const e=Li(t),i=-e/2;n.rect(i,i,e,e)}},u3=.8908130915292852,tD=pf(gf/10)/pf(7*gf/10),c3=pf(md/10)*tD,h3=-VM(md/10)*tD,f3={draw(n,t){const e=Li(t*u3),i=c3*e,r=h3*e;n.moveTo(0,-e),n.lineTo(i,r);for(let s=1;s<5;++s){const l=md*s/5,u=VM(l),h=pf(l);n.lineTo(h*e,-u*e),n.lineTo(u*i-h*r,h*i+u*r)}n.closePath()}},km=Li(3),d3={draw(n,t){const e=-Li(t/(km*3));n.moveTo(0,e*2),n.lineTo(-km*e,-e),n.lineTo(km*e,-e),n.closePath()}},mi=-.5,vi=Li(3)/2,Dy=1/Li(12),p3=(Dy/2+1)*3,g3={draw(n,t){const e=Li(t/p3),i=e/2,r=e*Dy,s=i,l=e*Dy+e,u=-s,h=l;n.moveTo(i,r),n.lineTo(s,l),n.lineTo(u,h),n.lineTo(mi*i-vi*r,vi*i+mi*r),n.lineTo(mi*s-vi*l,vi*s+mi*l),n.lineTo(mi*u-vi*h,vi*u+mi*h),n.lineTo(mi*i+vi*r,mi*r-vi*i),n.lineTo(mi*s+vi*l,mi*l-vi*s),n.lineTo(mi*u+vi*h,mi*h-vi*u),n.closePath()}};function m3(n,t){let e=null,i=z0(r);n=typeof n=="function"?n:re(n||U0),t=typeof t=="function"?t:re(t===void 0?64:+t);function r(){let s;if(e||(e=s=i()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),s)return e=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:re(s),r):n},r.size=function(s){return arguments.length?(t=typeof s=="function"?s:re(+s),r):t},r.context=function(s){return arguments.length?(e=s??null,r):e},r}function mf(){}function vf(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function eD(n){this._context=n}eD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vf(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function v3(n){return new eD(n)}function nD(n){this._context=n}nD.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:vf(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function y3(n){return new nD(n)}function iD(n){this._context=n}iD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:vf(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function b3(n){return new iD(n)}function rD(n){this._context=n}rD.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function A3(n){return new rD(n)}function mE(n){return n<0?-1:1}function vE(n,t,e){var i=n._x1-n._x0,r=t-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),l=(e-n._y1)/(r||i<0&&-0),u=(s*r+l*i)/(i+r);return(mE(s)+mE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function yE(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function Nm(n,t,e){var i=n._x0,r=n._y0,s=n._x1,l=n._y1,u=(s-i)/3;n._context.bezierCurveTo(i+u,r+u*t,s-u,l-u*e,s,l)}function yf(n){this._context=n}yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nm(this,this._t0,yE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,Nm(this,yE(this,e=vE(this,n,t)),e);break;default:Nm(this,this._t0,e=vE(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function aD(n){this._context=new sD(n)}(aD.prototype=Object.create(yf.prototype)).point=function(n,t){yf.prototype.point.call(this,t,n)};function sD(n){this._context=n}sD.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,i,r,s){this._context.bezierCurveTo(t,n,i,e,s,r)}};function w3(n){return new yf(n)}function S3(n){return new aD(n)}function oD(n){this._context=n}oD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var i=bE(n),r=bE(t),s=0,l=1;l<e;++s,++l)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[l],t[l]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function bE(n){var t,e=n.length-1,i,r=new Array(e),s=new Array(e),l=new Array(e);for(r[0]=0,s[0]=2,l[0]=n[0]+2*n[1],t=1;t<e-1;++t)r[t]=1,s[t]=4,l[t]=4*n[t]+2*n[t+1];for(r[e-1]=2,s[e-1]=7,l[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)i=r[t]/s[t-1],s[t]-=i,l[t]-=i*l[t-1];for(r[e-1]=l[e-1]/s[e-1],t=e-2;t>=0;--t)r[t]=(l[t]-r[t+1])/s[t];for(s[e-1]=(n[e]+r[e-1])/2,t=0;t<e-1;++t)s[t]=2*n[t+1]-r[t+1];return[r,s]}function _3(n){return new oD(n)}function yd(n,t){this._context=n,this._t=t}yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function E3(n){return new yd(n,.5)}function x3(n){return new yd(n,0)}function C3(n){return new yd(n,1)}function ys(n,t){if((l=n.length)>1)for(var e=1,i,r,s=n[t[0]],l,u=s.length;e<l;++e)for(r=s,s=n[t[e]],i=0;i<u;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function Py(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function T3(n,t){return n[t]}function O3(n){const t=[];return t.key=n,t}function M3(){var n=re([]),t=Py,e=ys,i=T3;function r(s){var l=Array.from(n.apply(this,arguments),O3),u,h=l.length,f=-1,d;for(const g of s)for(u=0,++f;u<h;++u)(l[u][f]=[0,+i(g,l[u].key,f,s)]).data=g;for(u=0,d=F0(t(l));u<h;++u)l[d[u]].index=u;return e(l,d),l}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:re(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:re(+s),r):i},r.order=function(s){return arguments.length?(t=s==null?Py:typeof s=="function"?s:re(Array.from(s)),r):t},r.offset=function(s){return arguments.length?(e=s??ys,r):e},r}function D3(n,t){if((i=n.length)>0){for(var e,i,r=0,s=n[0].length,l;r<s;++r){for(l=e=0;e<i;++e)l+=n[e][r][1]||0;if(l)for(e=0;e<i;++e)n[e][r][1]/=l}ys(n,t)}}function P3(n,t){if((r=n.length)>0){for(var e=0,i=n[t[0]],r,s=i.length;e<s;++e){for(var l=0,u=0;l<r;++l)u+=n[l][e][1]||0;i[e][1]+=i[e][0]=-u/2}ys(n,t)}}function R3(n,t){if(!(!((l=n.length)>0)||!((s=(r=n[t[0]]).length)>0))){for(var e=0,i=1,r,s,l;i<s;++i){for(var u=0,h=0,f=0;u<l;++u){for(var d=n[t[u]],g=d[i][1]||0,m=d[i-1][1]||0,y=(g-m)/2,A=0;A<u;++A){var w=n[t[A]],S=w[i][1]||0,_=w[i-1][1]||0;y+=S-_}h+=g,f+=y*g}r[i-1][1]+=r[i-1][0]=e,h&&(e-=f/h)}r[i-1][1]+=r[i-1][0]=e,ys(n,t)}}var Lm={},Im={},AE;function k3(){return AE||(AE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==="__proto__"}n.isUnsafeProperty=t})(Im)),Im}var jm={},wE;function lD(){return wE||(wE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}n.isDeepKey=t})(jm)),jm}var Bm={},SE;function H0(){return SE||(SE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="string"||typeof e=="symbol"?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}n.toKey=t})(Bm)),Bm}var zm={},Fm={},_E;function N3(){return _E||(_E=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(e==null)return"";if(typeof e=="string")return e;if(Array.isArray(e))return e.map(t).join(",");const i=String(e);return i==="0"&&Object.is(Number(e),-0)?"-0":i}n.toString=t})(Fm)),Fm}var EE;function q0(){return EE||(EE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=N3(),e=H0();function i(r){if(Array.isArray(r))return r.map(e.toKey);if(typeof r=="symbol")return[r];r=t.toString(r);const s=[],l=r.length;if(l===0)return s;let u=0,h="",f="",d=!1;for(r.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=r[u];f?g==="\\"&&u+1<l?(u++,h+=r[u]):g===f?f="":h+=g:d?g==='"'||g==="'"?f=g:g==="]"?(d=!1,s.push(h),h=""):h+=g:g==="["?(d=!0,h&&(s.push(h),h="")):g==="."?h&&(s.push(h),h=""):h+=g,u++}return h&&s.push(h),s}n.toPath=i})(zm)),zm}var xE;function $0(){return xE||(xE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=k3(),e=lD(),i=H0(),r=q0();function s(u,h,f){if(u==null)return f;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return f;const d=u[h];return d===void 0?e.isDeepKey(h)?s(u,r.toPath(h),f):f:d}case"number":case"symbol":{typeof h=="number"&&(h=i.toKey(h));const d=u[h];return d===void 0?f:d}default:{if(Array.isArray(h))return l(u,h,f);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return f;const d=u[h];return d===void 0?f:d}}}function l(u,h,f){if(h.length===0)return f;let d=u;for(let g=0;g<h.length;g++){if(d==null||t.isUnsafeProperty(h[g]))return f;d=d[h[g]]}return d===void 0?f:d}n.get=s})(Lm)),Lm}var Um,CE;function L3(){return CE||(CE=1,Um=$0().get),Um}var I3=L3();const bd=zr(I3);var j3=4;function xa(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j3,e=10**t,i=Math.round(n*e)/e;return Object.is(i,-0)?0:i}function Ae(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return n.reduce((r,s,l)=>{var u=e[l-1];return typeof u=="string"?r+u+s:u!==void 0?r+xa(u)+s:r+s},"")}var Ai=n=>n===0?0:n>0?1:-1,Rr=n=>typeof n=="number"&&n!=+n,bs=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,vt=n=>(typeof n=="number"||n instanceof Number)&&!Rr(n),er=n=>vt(n)||typeof n=="string",B3=0,xu=n=>{var t=++B3;return"".concat(n||"").concat(t)},Ra=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!vt(t)&&typeof t!="string")return i;var s;if(bs(t)){if(e==null)return i;var l=t.indexOf("%");s=e*parseFloat(t.slice(0,l))/100}else s=+t;return Rr(s)&&(s=i),r&&e!=null&&s>e&&(s=e),s},uD=n=>{if(!Array.isArray(n))return!1;for(var t=n.length,e={},i=0;i<t;i++)if(!e[String(n[i])])e[String(n[i])]=!0;else return!0;return!1};function Ln(n,t,e){return vt(n)&&vt(t)?xa(n+e*(t-n)):t}function cD(n,t,e){if(!(!n||!n.length))return n.find(i=>i&&(typeof t=="function"?t(i):bd(i,t))===e)}var cn=n=>n===null||typeof n>"u",Wu=n=>cn(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function In(n){return n!=null}function qo(){}var z3=["type","size","sizeType"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ry.apply(null,arguments)}function TE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function OE(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(e),!0).forEach(function(i){F3(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):TE(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function F3(n,t,e){return(t=U3(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function U3(n){var t=H3(n,"string");return typeof t=="symbol"?t:t+""}function H3(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function q3(n,t){if(n==null)return{};var e,i,r=$3(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function $3(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var hD={symbolCircle:U0,symbolCross:a3,symbolDiamond:o3,symbolSquare:l3,symbolStar:f3,symbolTriangle:d3,symbolWye:g3},G3=Math.PI/180,V3=n=>{var t="symbol".concat(Wu(n));return hD[t]||U0},Y3=(n,t,e)=>{if(t==="area")return n;switch(e){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*G3;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},X3=(n,t)=>{hD["symbol".concat(Wu(n))]=t},fD=n=>{var{type:t="circle",size:e=64,sizeType:i="area"}=n,r=q3(n,z3),s=OE(OE({},r),{},{type:t,size:e,sizeType:i}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var m=V3(l),y=m3().type(m).size(Y3(e,i,l)),A=y();if(A!==null)return A},{className:h,cx:f,cy:d}=s,g=Sn(s);return vt(f)&&vt(d)&&vt(e)?T.createElement("path",Ry({},g,{className:ie("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(d,")"),d:u()})):null};fD.registerSymbol=X3;var dD=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,G0=(n,t)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var e=n;if(T.isValidElement(n)&&(e=n.props),typeof e!="object"&&typeof e!="function")return null;var i={};return Object.keys(e).forEach(r=>{B0(r)&&(i[r]=(s=>e[r](e,s)))}),i},K3=(n,t,e)=>i=>(n(t,e,i),null),W3=(n,t,e)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];B0(r)&&typeof s=="function"&&(i||(i={}),i[r]=K3(s,t,e))}),i};function ME(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Z3(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(e),!0).forEach(function(i){Q3(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ME(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Q3(n,t,e){return(t=J3(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function J3(n){var t=tz(n,"string");return typeof t=="symbol"?t:t+""}function tz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Bn(n,t){var e=Z3({},n),i=t,r=Object.keys(t),s=r.reduce((l,u)=>(l[u]===void 0&&i[u]!==void 0&&(l[u]=i[u]),l),e);return s}var Hm={},qm={},DE;function ez(){return DE||(DE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){const r=new Map;for(let s=0;s<e.length;s++){const l=e[s],u=i(l,s,e);r.has(u)||r.set(u,l)}return Array.from(r.values())}n.uniqBy=t})(qm)),qm}var $m={},PE;function nz(){return PE||(PE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){return function(...r){return e.apply(this,r.slice(0,i))}}n.ary=t})($m)),$m}var Gm={},RE;function pD(){return RE||(RE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e}n.identity=t})(Gm)),Gm}var Vm={},Ym={},Xm={},kE;function iz(){return kE||(kE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Number.isSafeInteger(e)&&e>=0}n.isLength=t})(Xm)),Xm}var NE;function V0(){return NE||(NE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=iz();function e(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}n.isArrayLike=e})(Ym)),Ym}var Km={},LE;function rz(){return LE||(LE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="object"&&e!==null}n.isObjectLike=t})(Km)),Km}var IE;function az(){return IE||(IE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=V0(),e=rz();function i(r){return e.isObjectLike(r)&&t.isArrayLike(r)}n.isArrayLikeObject=i})(Vm)),Vm}var Wm={},Zm={},jE;function sz(){return jE||(jE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=$0();function e(i){return function(r){return t.get(r,i)}}n.property=e})(Zm)),Zm}var Qm={},Jm={},tv={},ev={},BE;function gD(){return BE||(BE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e!==null&&(typeof e=="object"||typeof e=="function")}n.isObject=t})(ev)),ev}var nv={},zE;function mD(){return zE||(zE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null||typeof e!="object"&&typeof e!="function"}n.isPrimitive=t})(nv)),nv}var iv={},FE;function vD(){return FE||(FE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){return e===i||Number.isNaN(e)&&Number.isNaN(i)}n.isEqualsSameValueZero=t})(iv)),iv}var UE;function oz(){return UE||(UE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=gD(),e=mD(),i=vD();function r(d,g,m){return typeof m!="function"?r(d,g,()=>{}):s(d,g,function y(A,w,S,_,C,x){const O=m(A,w,S,_,C,x);return O!==void 0?!!O:s(A,w,y,x)},new Map)}function s(d,g,m,y){if(g===d)return!0;switch(typeof g){case"object":return l(d,g,m,y);case"function":return Object.keys(g).length>0?s(d,{...g},m,y):i.isEqualsSameValueZero(d,g);default:return t.isObject(d)?typeof g=="string"?g==="":!0:i.isEqualsSameValueZero(d,g)}}function l(d,g,m,y){if(g==null)return!0;if(Array.isArray(g))return h(d,g,m,y);if(g instanceof Map)return u(d,g,m,y);if(g instanceof Set)return f(d,g,m,y);const A=Object.keys(g);if(d==null||e.isPrimitive(d))return A.length===0;if(A.length===0)return!0;if(y?.has(g))return y.get(g)===d;y?.set(g,d);try{for(let w=0;w<A.length;w++){const S=A[w];if(!e.isPrimitive(d)&&!(S in d)||g[S]===void 0&&d[S]!==void 0||g[S]===null&&d[S]!==null||!m(d[S],g[S],S,d,g,y))return!1}return!0}finally{y?.delete(g)}}function u(d,g,m,y){if(g.size===0)return!0;if(!(d instanceof Map))return!1;for(const[A,w]of g.entries()){const S=d.get(A);if(m(S,w,A,d,g,y)===!1)return!1}return!0}function h(d,g,m,y){if(g.length===0)return!0;if(!Array.isArray(d))return!1;const A=new Set;for(let w=0;w<g.length;w++){const S=g[w];let _=!1;for(let C=0;C<d.length;C++){if(A.has(C))continue;const x=d[C];let O=!1;if(m(x,S,w,d,g,y)&&(O=!0),O){A.add(C),_=!0;break}}if(!_)return!1}return!0}function f(d,g,m,y){return g.size===0?!0:d instanceof Set?h([...d],[...g],m,y):!1}n.isMatchWith=r,n.isSetMatch=f})(tv)),tv}var HE;function yD(){return HE||(HE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=oz();function e(i,r){return t.isMatchWith(i,r,()=>{})}n.isMatch=e})(Jm)),Jm}var rv={},av={},sv={},qE;function lz(){return qE||(qE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Object.getOwnPropertySymbols(e).filter(i=>Object.prototype.propertyIsEnumerable.call(e,i))}n.getSymbols=t})(sv)),sv}var ov={},$E;function Y0(){return $E||($E=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}n.getTag=t})(ov)),ov}var lv={},GE;function bD(){return GE||(GE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",e="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",h="[object Map]",f="[object Set]",d="[object Array]",g="[object Function]",m="[object ArrayBuffer]",y="[object Object]",A="[object Error]",w="[object DataView]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",x="[object Uint32Array]",O="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",R="[object Int32Array]",L="[object BigInt64Array]",z="[object Float32Array]",K="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=m,n.arrayTag=d,n.bigInt64ArrayTag=L,n.bigUint64ArrayTag=O,n.booleanTag=r,n.dataViewTag=w,n.dateTag=u,n.errorTag=A,n.float32ArrayTag=z,n.float64ArrayTag=K,n.functionTag=g,n.int16ArrayTag=D,n.int32ArrayTag=R,n.int8ArrayTag=M,n.mapTag=h,n.numberTag=i,n.objectTag=y,n.regexpTag=t,n.setTag=f,n.stringTag=e,n.symbolTag=l,n.uint16ArrayTag=C,n.uint32ArrayTag=x,n.uint8ArrayTag=S,n.uint8ClampedArrayTag=_})(lv)),lv}var uv={},VE;function uz(){return VE||(VE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.isTypedArray=t})(uv)),uv}var YE;function AD(){return YE||(YE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=lz(),e=Y0(),i=bD(),r=mD(),s=uz();function l(d,g){return u(d,void 0,d,new Map,g)}function u(d,g,m,y=new Map,A=void 0){const w=A?.(d,g,m,y);if(w!==void 0)return w;if(r.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const S=new Array(d.length);y.set(d,S);for(let _=0;_<d.length;_++)S[_]=u(d[_],_,m,y,A);return Object.hasOwn(d,"index")&&(S.index=d.index),Object.hasOwn(d,"input")&&(S.input=d.input),S}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const S=new RegExp(d.source,d.flags);return S.lastIndex=d.lastIndex,S}if(d instanceof Map){const S=new Map;y.set(d,S);for(const[_,C]of d)S.set(_,u(C,_,m,y,A));return S}if(d instanceof Set){const S=new Set;y.set(d,S);for(const _ of d)S.add(u(_,void 0,m,y,A));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const S=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,S);for(let _=0;_<d.length;_++)S[_]=u(d[_],_,m,y,A);return S}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const S=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,S),h(S,d,m,y,A),S}if(typeof File<"u"&&d instanceof File){const S=new File([d],d.name,{type:d.type});return y.set(d,S),h(S,d,m,y,A),S}if(typeof Blob<"u"&&d instanceof Blob){const S=new Blob([d],{type:d.type});return y.set(d,S),h(S,d,m,y,A),S}if(d instanceof Error){const S=new d.constructor;return y.set(d,S),S.message=d.message,S.name=d.name,S.stack=d.stack,S.cause=d.cause,h(S,d,m,y,A),S}if(d instanceof Boolean){const S=new Boolean(d.valueOf());return y.set(d,S),h(S,d,m,y,A),S}if(d instanceof Number){const S=new Number(d.valueOf());return y.set(d,S),h(S,d,m,y,A),S}if(d instanceof String){const S=new String(d.valueOf());return y.set(d,S),h(S,d,m,y,A),S}if(typeof d=="object"&&f(d)){const S=Object.create(Object.getPrototypeOf(d));return y.set(d,S),h(S,d,m,y,A),S}return d}function h(d,g,m=d,y,A){const w=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<w.length;S++){const _=w[S],C=Object.getOwnPropertyDescriptor(d,_);(C==null||C.writable)&&(d[_]=u(g[_],_,m,y,A))}}function f(d){switch(e.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=l,n.cloneDeepWithImpl=u,n.copyProperties=h})(av)),av}var XE;function cz(){return XE||(XE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=AD();function e(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=e})(rv)),rv}var KE;function hz(){return KE||(KE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=yD(),e=cz();function i(r){return r=e.cloneDeep(r),s=>t.isMatch(s,r)}n.matches=i})(Qm)),Qm}var cv={},hv={},fv={},WE;function fz(){return WE||(WE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=AD(),e=Y0(),i=bD();function r(s,l){return t.cloneDeepWith(s,(u,h,f,d)=>{const g=l?.(u,h,f,d);if(g!==void 0)return g;if(typeof s=="object"){if(e.getTag(s)===i.objectTag&&typeof s.constructor!="function"){const m={};return d.set(s,m),t.copyProperties(m,s,f,d),m}switch(Object.prototype.toString.call(s)){case i.numberTag:case i.stringTag:case i.booleanTag:{const m=new s.constructor(s?.valueOf());return t.copyProperties(m,s),m}case i.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}}})}n.cloneDeepWith=r})(fv)),fv}var ZE;function dz(){return ZE||(ZE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=fz();function e(i){return t.cloneDeepWith(i)}n.cloneDeep=e})(hv)),hv}var dv={},pv={},QE;function wD(){return QE||(QE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function e(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return t.test(i)}}n.isIndex=e})(pv)),pv}var gv={},JE;function pz(){return JE||(JE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Y0();function e(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}n.isArguments=e})(gv)),gv}var tx;function gz(){return tx||(tx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=lD(),e=wD(),i=pz(),r=q0();function s(l,u){let h;if(Array.isArray(u)?h=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?h=r.toPath(u):h=[u],h.length===0)return!1;let f=l;for(let d=0;d<h.length;d++){const g=h[d];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||i.isArguments(f))&&e.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}n.has=s})(dv)),dv}var ex;function mz(){return ex||(ex=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=yD(),e=H0(),i=dz(),r=$0(),s=gz();function l(u,h){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=e.toKey(u);break}}return h=i.cloneDeep(h),function(f){const d=r.get(f,u);return d===void 0?s.has(f,u):h===void 0?d===void 0:t.isMatch(d,h)}}n.matchesProperty=l})(cv)),cv}var nx;function vz(){return nx||(nx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=pD(),e=sz(),i=hz(),r=mz();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?r.matchesProperty(l[0],l[1]):i.matches(l);case"string":case"symbol":case"number":return e.property(l)}}n.iteratee=s})(Wm)),Wm}var ix;function yz(){return ix||(ix=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=ez(),e=nz(),i=pD(),r=az(),s=vz();function l(u,h=i.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),e.ary(s.iteratee(h),1)):[]}n.uniqBy=l})(Hm)),Hm}var mv,rx;function bz(){return rx||(rx=1,mv=yz().uniqBy),mv}var Az=bz();const ax=zr(Az);function wz(n,t,e){return t===!0?ax(n,e):typeof t=="function"?ax(n,t):n}var vv={exports:{}},yv={},bv={exports:{}},Av={};var sx;function Sz(){if(sx)return Av;sx=1;var n=Ho();function t(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function u(g,m){var y=m(),A=i({inst:{value:y,getSnapshot:m}}),w=A[0].inst,S=A[1];return s(function(){w.value=y,w.getSnapshot=m,h(w)&&S({inst:w})},[g,y,m]),r(function(){return h(w)&&S({inst:w}),g(function(){h(w)&&S({inst:w})})},[g]),l(y),y}function h(g){var m=g.getSnapshot;g=g.value;try{var y=m();return!e(g,y)}catch{return!0}}function f(g,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Av.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,Av}var ox;function _z(){return ox||(ox=1,bv.exports=Sz()),bv.exports}var lx;function Ez(){if(lx)return yv;lx=1;var n=Ho(),t=_z();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var i=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return yv.useSyncExternalStoreWithSelector=function(f,d,g,m,y){var A=s(null);if(A.current===null){var w={hasValue:!1,value:null};A.current=w}else w=A.current;A=u(function(){function _(D){if(!C){if(C=!0,x=D,D=m(D),y!==void 0&&w.hasValue){var R=w.value;if(y(R,D))return O=R}return O=D}if(R=O,i(x,D))return R;var L=m(D);return y!==void 0&&y(R,L)?(x=D,R):(x=D,O=L)}var C=!1,x,O,M=g===void 0?null:g;return[function(){return _(d())},M===null?void 0:function(){return _(M())}]},[d,g,m,y]);var S=r(f,A[0],A[1]);return l(function(){w.hasValue=!0,w.value=S},[S]),h(S),S},yv}var ux;function xz(){return ux||(ux=1,vv.exports=Ez()),vv.exports}var Cz=xz(),X0=T.createContext(null),Tz=n=>n,Ve=()=>{var n=T.useContext(X0);return n?n.store.dispatch:Tz},af=()=>{},Oz=()=>af,Mz=(n,t)=>n===t;function wt(n){var t=T.useContext(X0),e=T.useMemo(()=>t?i=>{if(i!=null)return n(i)}:af,[t,n]);return Cz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Oz,t?t.store.getState:af,t?t.store.getState:af,e,Mz)}function Dz(n,t=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(t)}function Pz(n,t=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(t)}function Rz(n,t="expected all items to be functions, instead received the following types: "){if(!n.every(e=>typeof e=="function")){const e=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${e}]`)}}var cx=n=>Array.isArray(n)?n:[n];function kz(n){const t=Array.isArray(n[0])?n[0]:n;return Rz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Nz(n,t){const e=[],{length:i}=n;for(let r=0;r<i;r++)e.push(n[r].apply(null,t));return e}var Lz=class{constructor(n){this.value=n}deref(){return this.value}},Iz=typeof WeakRef<"u"?WeakRef:Lz,jz=0,hx=1;function zh(){return{s:jz,v:void 0,o:null,p:null}}function SD(n,t={}){let e=zh();const{resultEqualityCheck:i}=t;let r,s=0;function l(){let u=e;const{length:h}=arguments;for(let g=0,m=h;g<m;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const w=A.get(y);w===void 0?(u=zh(),A.set(y,u)):u=w}else{let A=u.p;A===null&&(u.p=A=new Map);const w=A.get(y);w===void 0?(u=zh(),A.set(y,u)):u=w}}const f=u;let d;if(u.s===hx)d=u.v;else if(d=n.apply(null,arguments),s++,i){const g=r?.deref?.()??r;g!=null&&i(g,d)&&(d=g,s!==0&&s--),r=typeof d=="object"&&d!==null||typeof d=="function"?new Iz(d):d}return f.s=hx,f.v=d,d}return l.clearCache=()=>{e=zh(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Bz(n,...t){const e=typeof n=="function"?{memoize:n,memoizeOptions:t}:n,i=(...r)=>{let s=0,l=0,u,h={},f=r.pop();typeof f=="object"&&(h=f,f=r.pop()),Dz(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...e,...h},{memoize:g,memoizeOptions:m=[],argsMemoize:y=SD,argsMemoizeOptions:A=[]}=d,w=cx(m),S=cx(A),_=kz(r),C=g(function(){return s++,f.apply(null,arguments)},...w),x=y(function(){l++;const M=Nz(_,arguments);return u=C.apply(null,M),u},...S);return Object.assign(x,{resultFunc:f,memoizedResultFunc:C,dependencies:_,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var X=Bz(SD),zz=Object.assign((n,t=X)=>{Pz(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const e=Object.keys(n),i=e.map(s=>n[s]);return t(i,(...s)=>s.reduce((l,u,h)=>(l[e[h]]=u,l),{}))},{withTypes:()=>zz}),wv={},Sv={},_v={},fx;function Fz(){return fx||(fx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const e=(i,r,s)=>{if(i!==r){const l=t(i),u=t(r);if(l===u&&l===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};n.compareValues=e})(_v)),_v}var Ev={},xv={},dx;function _D(){return dx||(dx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="symbol"||e instanceof Symbol}n.isSymbol=t})(xv)),xv}var px;function Uz(){return px||(px=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=_D(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!e.test(s))||l!=null&&Object.hasOwn(l,s)}n.isKey=r})(Ev)),Ev}var gx;function Hz(){return gx||(gx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Fz(),e=Uz(),i=q0();function r(s,l,u,h){if(s==null)return[];u=h?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,A)=>{let w=y;for(let S=0;S<A.length&&w!=null;++S)w=w[A[S]];return w},d=(y,A)=>A==null||y==null?A:typeof y=="object"&&"key"in y?Object.hasOwn(A,y.key)?A[y.key]:f(A,y.path):typeof y=="function"?y(A):Array.isArray(y)?f(A,y):typeof A=="object"?A[y]:A,g=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||e.isKey(y)?y:{key:y,path:i.toPath(y)}));return s.map(y=>({original:y,criteria:g.map(A=>d(A,y))})).slice().sort((y,A)=>{for(let w=0;w<g.length;w++){const S=t.compareValues(y.criteria[w],A.criteria[w],u[w]);if(S!==0)return S}return 0}).map(y=>y.original)}n.orderBy=r})(Sv)),Sv}var Cv={},mx;function qz(){return mx||(mx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i=1){const r=[],s=Math.floor(i),l=(u,h)=>{for(let f=0;f<u.length;f++){const d=u[f];Array.isArray(d)&&h<s?l(d,h+1):r.push(d)}};return l(e,0),r}n.flatten=t})(Cv)),Cv}var Tv={},vx;function ED(){return vx||(vx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=wD(),e=V0(),i=gD(),r=vD();function s(l,u,h){return i.isObject(h)&&(typeof u=="number"&&e.isArrayLike(h)&&t.isIndex(u)&&u<h.length||typeof u=="string"&&u in h)?r.isEqualsSameValueZero(h[u],l):!1}n.isIterateeCall=s})(Tv)),Tv}var yx;function $z(){return yx||(yx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Hz(),e=qz(),i=ED();function r(s,...l){const u=l.length;return u>1&&i.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&i.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,e.flatten(l),["asc"])}n.sortBy=r})(wv)),wv}var Ov,bx;function Gz(){return bx||(bx=1,Ov=$z().sortBy),Ov}var Vz=Gz();const Ad=zr(Vz);var xD=n=>n.legend.settings,Yz=n=>n.legend.size,Xz=n=>n.legend.payload;X([Xz,xD],(n,t)=>{var{itemSorter:e}=t,i=n.flat(1);return e?Ad(i,e):i});var Fh=1;function Kz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,e]=T.useState({height:0,left:0,top:0,width:0}),i=T.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Fh||Math.abs(l.left-t.left)>Fh||Math.abs(l.top-t.top)>Fh||Math.abs(l.width-t.width)>Fh)&&e({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...n]);return[t,i]}function an(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Wz=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ax=Wz,Mv=()=>Math.random().toString(36).substring(7).split("").join("."),Zz={INIT:`@@redux/INIT${Mv()}`,REPLACE:`@@redux/REPLACE${Mv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mv()}`},bf=Zz;function K0(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function CD(n,t,e){if(typeof n!="function")throw new Error(an(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(an(1));return e(CD)(n,t)}let i=n,r=t,s=new Map,l=s,u=0,h=!1;function f(){l===s&&(l=new Map,s.forEach((S,_)=>{l.set(_,S)}))}function d(){if(h)throw new Error(an(3));return r}function g(S){if(typeof S!="function")throw new Error(an(4));if(h)throw new Error(an(5));let _=!0;f();const C=u++;return l.set(C,S),function(){if(_){if(h)throw new Error(an(6));_=!1,f(),l.delete(C),s=null}}}function m(S){if(!K0(S))throw new Error(an(7));if(typeof S.type>"u")throw new Error(an(8));if(typeof S.type!="string")throw new Error(an(17));if(h)throw new Error(an(9));try{h=!0,r=i(r,S)}finally{h=!1}return(s=l).forEach(C=>{C()}),S}function y(S){if(typeof S!="function")throw new Error(an(10));i=S,m({type:bf.REPLACE})}function A(){const S=g;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(an(11));function C(){const O=_;O.next&&O.next(d())}return C(),{unsubscribe:S(C)}},[Ax](){return this}}}return m({type:bf.INIT}),{dispatch:m,subscribe:g,getState:d,replaceReducer:y,[Ax]:A}}function Qz(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:bf.INIT})>"u")throw new Error(an(12));if(typeof e(void 0,{type:bf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function TD(n){const t=Object.keys(n),e={};for(let s=0;s<t.length;s++){const l=t[s];typeof n[l]=="function"&&(e[l]=n[l])}const i=Object.keys(e);let r;try{Qz(e)}catch(s){r=s}return function(l={},u){if(r)throw r;let h=!1;const f={};for(let d=0;d<i.length;d++){const g=i[d],m=e[g],y=l[g],A=m(y,u);if(typeof A>"u")throw u&&u.type,new Error(an(14));f[g]=A,h=h||A!==y}return h=h||i.length!==Object.keys(l).length,h?f:l}}function Af(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function Jz(...n){return t=>(e,i)=>{const r=t(e,i);let s=()=>{throw new Error(an(15))};const l={getState:r.getState,dispatch:(h,...f)=>s(h,...f)},u=n.map(h=>h(l));return s=Af(...u)(r.dispatch),{...r,dispatch:s}}}function OD(n){return K0(n)&&"type"in n&&typeof n.type=="string"}var MD=Symbol.for("immer-nothing"),wx=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Di(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ei=Object,jo=ei.getPrototypeOf,wf="constructor",wd="prototype",ky="configurable",Sf="enumerable",sf="writable",Cu="value",kr=n=>!!n&&!!n[_n];function Ni(n){return n?DD(n)||_d(n)||!!n[wx]||!!n[wf]?.[wx]||Ed(n)||xd(n):!1}var tF=ei[wd][wf].toString(),Sx=new WeakMap;function DD(n){if(!n||!W0(n))return!1;const t=jo(n);if(t===null||t===ei[wd])return!0;const e=ei.hasOwnProperty.call(t,wf)&&t[wf];if(e===Object)return!0;if(!_o(e))return!1;let i=Sx.get(e);return i===void 0&&(i=Function.toString.call(e),Sx.set(e,i)),i===tF}function Sd(n,t,e=!0){Zu(n)===0?(e?Reflect.ownKeys(n):ei.keys(n)).forEach(r=>{t(r,n[r],n)}):n.forEach((i,r)=>t(r,i,n))}function Zu(n){const t=n[_n];return t?t.type_:_d(n)?1:Ed(n)?2:xd(n)?3:0}var _x=(n,t,e=Zu(n))=>e===2?n.has(t):ei[wd].hasOwnProperty.call(n,t),Ny=(n,t,e=Zu(n))=>e===2?n.get(t):n[t],_f=(n,t,e,i=Zu(n))=>{i===2?n.set(t,e):i===3?n.add(e):n[t]=e};function eF(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}var _d=Array.isArray,Ed=n=>n instanceof Map,xd=n=>n instanceof Set,W0=n=>typeof n=="object",_o=n=>typeof n=="function",Dv=n=>typeof n=="boolean";function nF(n){const t=+n;return Number.isInteger(t)&&String(t)===n}var xr=n=>n.copy_||n.base_,Z0=n=>n.modified_?n.copy_:n.base_;function Ly(n,t){if(Ed(n))return new Map(n);if(xd(n))return new Set(n);if(_d(n))return Array[wd].slice.call(n);const e=DD(n);if(t===!0||t==="class_only"&&!e){const i=ei.getOwnPropertyDescriptors(n);delete i[_n];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const l=r[s],u=i[l];u[sf]===!1&&(u[sf]=!0,u[ky]=!0),(u.get||u.set)&&(i[l]={[ky]:!0,[sf]:!0,[Sf]:u[Sf],[Cu]:n[l]})}return ei.create(jo(n),i)}else{const i=jo(n);if(i!==null&&e)return{...n};const r=ei.create(i);return ei.assign(r,n)}}function Q0(n,t=!1){return Cd(n)||kr(n)||!Ni(n)||(Zu(n)>1&&ei.defineProperties(n,{set:Uh,add:Uh,clear:Uh,delete:Uh}),ei.freeze(n),t&&Sd(n,(e,i)=>{Q0(i,!0)},!1)),n}function iF(){Di(2)}var Uh={[Cu]:iF};function Cd(n){return n===null||!W0(n)?!0:ei.isFrozen(n)}var Ef="MapSet",Iy="Patches",Ex="ArrayMethods",PD={};function As(n){const t=PD[n];return t||Di(0,n),t}var xx=n=>!!PD[n],Tu,RD=()=>Tu,rF=(n,t)=>({drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:xx(Ef)?As(Ef):void 0,arrayMethodsPlugin_:xx(Ex)?As(Ex):void 0});function Cx(n,t){t&&(n.patchPlugin_=As(Iy),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function jy(n){By(n),n.drafts_.forEach(aF),n.drafts_=null}function By(n){n===Tu&&(Tu=n.parent_)}var Tx=n=>Tu=rF(Tu,n);function aF(n){const t=n[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ox(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];if(n!==void 0&&n!==e){e[_n].modified_&&(jy(t),Di(4)),Ni(n)&&(n=Mx(t,n));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(e[_n].base_,n,t)}else n=Mx(t,e);return sF(t,n,!0),jy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==MD?n:void 0}function Mx(n,t){if(Cd(t))return t;const e=t[_n];if(!e)return xf(t,n.handledSet_,n);if(!Td(e,n))return t;if(!e.modified_)return e.base_;if(!e.finalized_){const{callbacks_:i}=e;if(i)for(;i.length>0;)i.pop()(n);LD(e,n)}return e.copy_}function sF(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Q0(t,e)}function kD(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Td=(n,t)=>n.scope_===t,oF=[];function ND(n,t,e,i){const r=xr(n),s=n.type_;if(i!==void 0&&Ny(r,i,s)===t){_f(r,i,e,s);return}if(!n.draftLocations_){const u=n.draftLocations_=new Map;Sd(r,(h,f)=>{if(kr(f)){const d=u.get(f)||[];d.push(h),u.set(f,d)}})}const l=n.draftLocations_.get(t)??oF;for(const u of l)_f(r,u,e,s)}function lF(n,t,e){n.callbacks_.push(function(r){const s=t;if(!s||!Td(s,r))return;r.mapSetPlugin_?.fixSetContents(s);const l=Z0(s);ND(n,s.draft_??s,l,e),LD(s,r)})}function LD(n,t){if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(n.assigned_?.size??0)>0)){const{patchPlugin_:i}=t;if(i){const r=i.getPath(n);r&&i.generatePatches_(n,r,t)}kD(n)}}function uF(n,t,e){const{scope_:i}=n;if(kr(e)){const r=e[_n];Td(r,i)&&r.callbacks_.push(function(){of(n);const l=Z0(r);ND(n,e,l,t)})}else Ni(e)&&n.callbacks_.push(function(){const s=xr(n);n.type_===3?s.has(e)&&xf(e,i.handledSet_,i):Ny(s,t,n.type_)===e&&i.drafts_.length>1&&(n.assigned_.get(t)??!1)===!0&&n.copy_&&xf(Ny(n.copy_,t,n.type_),i.handledSet_,i)})}function xf(n,t,e){return!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||kr(n)||t.has(n)||!Ni(n)||Cd(n)||(t.add(n),Sd(n,(i,r)=>{if(kr(r)){const s=r[_n];if(Td(s,e)){const l=Z0(s);_f(n,i,l,n.type_),kD(s)}}else Ni(r)&&xf(r,t,e)})),n}function cF(n,t){const e=_d(n),i={type_:e?1:0,scope_:t?t.scope_:RD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=Cf;e&&(r=[i],s=Ou);const{revoke:l,proxy:u}=Proxy.revocable(r,s);return i.draft_=u,i.revoke_=l,[u,i]}var Cf={get(n,t){if(t===_n)return n;let e=n.scope_.arrayMethodsPlugin_;const i=n.type_===1&&typeof t=="string";if(i&&e?.isArrayOperationMethod(t))return e.createMethodInterceptor(n,t);const r=xr(n);if(!_x(r,t,n.type_))return hF(n,r,t);const s=r[t];if(n.finalized_||!Ni(s)||i&&n.operationMethod&&e?.isMutatingArrayMethod(n.operationMethod)&&nF(t))return s;if(s===Pv(n.base_,t)){of(n);const l=n.type_===1?+t:t,u=Fy(n.scope_,s,n,l);return n.copy_[l]=u}return s},has(n,t){return t in xr(n)},ownKeys(n){return Reflect.ownKeys(xr(n))},set(n,t,e){const i=ID(xr(n),t);if(i?.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=Pv(xr(n),t),s=r?.[_n];if(s&&s.base_===e)return n.copy_[t]=e,n.assigned_.set(t,!1),!0;if(eF(e,r)&&(e!==void 0||_x(n.base_,t,n.type_)))return!0;of(n),zy(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_.set(t,!0),uF(n,t,e)),!0},deleteProperty(n,t){return of(n),Pv(n.base_,t)!==void 0||t in n.base_?(n.assigned_.set(t,!1),zy(n)):n.assigned_.delete(t),n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=xr(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{[sf]:!0,[ky]:n.type_!==1||t!=="length",[Sf]:i[Sf],[Cu]:e[t]}},defineProperty(){Di(11)},getPrototypeOf(n){return jo(n.base_)},setPrototypeOf(){Di(12)}},Ou={};for(let n in Cf){let t=Cf[n];Ou[n]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}Ou.deleteProperty=function(n,t){return Ou.set.call(this,n,t,void 0)};Ou.set=function(n,t,e){return Cf.set.call(this,n[0],t,e,n[0])};function Pv(n,t){const e=n[_n];return(e?xr(e):n)[t]}function hF(n,t,e){const i=ID(t,e);return i?Cu in i?i[Cu]:i.get?.call(n.draft_):void 0}function ID(n,t){if(!(t in n))return;let e=jo(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=jo(e)}}function zy(n){n.modified_||(n.modified_=!0,n.parent_&&zy(n.parent_))}function of(n){n.copy_||(n.assigned_=new Map,n.copy_=Ly(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var fF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,i,r)=>{if(_o(e)&&!_o(i)){const l=i;i=e;const u=this;return function(f=l,...d){return u.produce(f,g=>i.call(this,g,...d))}}_o(i)||Di(6),r!==void 0&&!_o(r)&&Di(7);let s;if(Ni(e)){const l=Tx(this),u=Fy(l,e,void 0);let h=!0;try{s=i(u),h=!1}finally{h?jy(l):By(l)}return Cx(l,r),Ox(s,l)}else if(!e||!W0(e)){if(s=i(e),s===void 0&&(s=e),s===MD&&(s=void 0),this.autoFreeze_&&Q0(s,!0),r){const l=[],u=[];As(Iy).generateReplacementPatches_(e,s,{patches_:l,inversePatches_:u}),r(l,u)}return s}else Di(1,e)},this.produceWithPatches=(e,i)=>{if(_o(e))return(u,...h)=>this.produceWithPatches(u,f=>e(f,...h));let r,s;return[this.produce(e,i,(u,h)=>{r=u,s=h}),r,s]},Dv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Dv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Dv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ni(t)||Di(8),kr(t)&&(t=ki(t));const e=Tx(this),i=Fy(e,t,void 0);return i[_n].isManual_=!0,By(e),i}finishDraft(t,e){const i=t&&t[_n];(!i||!i.isManual_)&&Di(9);const{scope_:r}=i;return Cx(r,e),Ox(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let i;for(i=e.length-1;i>=0;i--){const s=e[i];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}i>-1&&(e=e.slice(i+1));const r=As(Iy).applyPatches_;return kr(t)?r(t,e):this.produce(t,s=>r(s,e))}};function Fy(n,t,e,i){const[r,s]=Ed(t)?As(Ef).proxyMap_(t,e):xd(t)?As(Ef).proxySet_(t,e):cF(t,e);return(e?.scope_??RD()).drafts_.push(r),s.callbacks_=e?.callbacks_??[],s.key_=i,e&&i!==void 0?lF(e,s,i):s.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=h;s.modified_&&f&&f.generatePatches_(s,[],h)}),r}function ki(n){return kr(n)||Di(10,n),jD(n)}function jD(n){if(!Ni(n)||Cd(n))return n;const t=n[_n];let e,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=Ly(n,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else e=Ly(n,!0);return Sd(e,(r,s)=>{_f(e,r,jD(s))},i),t&&(t.finalized_=!1),e}var dF=new fF,BD=dF.produce;function zD(n){return({dispatch:e,getState:i})=>r=>s=>typeof s=="function"?s(e,i,n):r(s)}var pF=zD(),gF=zD,mF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Af:Af.apply(null,arguments)};function _i(n,t){function e(...i){if(t){let r=t(...i);if(!r)throw new Error(ni(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=i=>OD(i)&&i.type===n,e}var FD=class fu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fu.prototype)}static get[Symbol.species](){return fu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fu(...t[0].concat(this)):new fu(...t.concat(this))}};function Dx(n){return Ni(n)?BD(n,()=>{}):n}function Hh(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function vF(n){return typeof n=="boolean"}var yF=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=t??{};let l=new FD;return e&&(vF(e)?l.push(pF):l.push(gF(e.extraArgument))),l},UD="RTK_autoBatch",fe=()=>n=>({payload:n,meta:{[UD]:!0}}),Px=n=>t=>{setTimeout(t,n)},HD=(n={type:"raf"})=>t=>(...e)=>{const i=t(...e);let r=!0,s=!1,l=!1;const u=new Set,h=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Px(10):n.type==="callback"?n.queueNotification:Px(n.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const g=()=>r&&d(),m=i.subscribe(g);return u.add(d),()=>{m(),u.delete(d)}},dispatch(d){try{return r=!d?.meta?.[UD],s=!r,s&&(l||(l=!0,h(f))),i.dispatch(d)}finally{r=!0}}})},bF=n=>function(e){const{autoBatch:i=!0}=e??{};let r=new FD(n);return i&&r.push(HD(typeof i=="object"?i:void 0)),r};function AF(n){const t=yF(),{reducer:e=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:l=void 0}=n||{};let u;if(typeof e=="function")u=e;else if(K0(e))u=TD(e);else throw new Error(ni(1));let h;typeof i=="function"?h=i(t):h=t();let f=Af;r&&(f=mF({trace:!1,...typeof r=="object"&&r}));const d=Jz(...h),g=bF(d);let m=typeof l=="function"?l(g):g();const y=f(...m);return CD(u,s,y)}function qD(n){const t={},e=[];let i;const r={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(ni(28));if(u in t)throw new Error(ni(29));return t[u]=l,r},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&e.push({matcher:s.settled,reducer:l.settled}),r},addMatcher(s,l){return e.push({matcher:s,reducer:l}),r},addDefaultCase(s){return i=s,r}};return n(r),[t,e,i]}function wF(n){return typeof n=="function"}function SF(n,t){let[e,i,r]=qD(t),s;if(wF(n))s=()=>Dx(n());else{const u=Dx(n);s=()=>u}function l(u=s(),h){let f=[e[h.type],...i.filter(({matcher:d})=>d(h)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[r]),f.reduce((d,g)=>{if(g)if(kr(d)){const y=g(d,h);return y===void 0?d:y}else{if(Ni(d))return BD(d,m=>g(m,h));{const m=g(d,h);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},u)}return l.getInitialState=s,l}var _F="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EF=(n=21)=>{let t="",e=n;for(;e--;)t+=_F[Math.random()*64|0];return t},xF=Symbol.for("rtk-slice-createasyncthunk");function CF(n,t){return`${n}/${t}`}function TF({creators:n}={}){const t=n?.asyncThunk?.[xF];return function(i){const{name:r,reducerPath:s=r}=i;if(!r)throw new Error(ni(11));const l=(typeof i.reducers=="function"?i.reducers(MF()):i.reducers)||{},u=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(x,O){const M=typeof x=="string"?x:x.type;if(!M)throw new Error(ni(12));if(M in h.sliceCaseReducersByType)throw new Error(ni(13));return h.sliceCaseReducersByType[M]=O,f},addMatcher(x,O){return h.sliceMatchers.push({matcher:x,reducer:O}),f},exposeAction(x,O){return h.actionCreators[x]=O,f},exposeCaseReducer(x,O){return h.sliceCaseReducersByName[x]=O,f}};u.forEach(x=>{const O=l[x],M={reducerName:x,type:CF(r,x),createNotation:typeof i.reducers=="function"};PF(O)?kF(M,O,f,t):DF(M,O,f)});function d(){const[x={},O=[],M=void 0]=typeof i.extraReducers=="function"?qD(i.extraReducers):[i.extraReducers],D={...x,...h.sliceCaseReducersByType};return SF(i.initialState,R=>{for(let L in D)R.addCase(L,D[L]);for(let L of h.sliceMatchers)R.addMatcher(L.matcher,L.reducer);for(let L of O)R.addMatcher(L.matcher,L.reducer);M&&R.addDefaultCase(M)})}const g=x=>x,m=new Map,y=new WeakMap;let A;function w(x,O){return A||(A=d()),A(x,O)}function S(){return A||(A=d()),A.getInitialState()}function _(x,O=!1){function M(R){let L=R[x];return typeof L>"u"&&O&&(L=Hh(y,M,S)),L}function D(R=g){const L=Hh(m,O,()=>new WeakMap);return Hh(L,R,()=>{const z={};for(const[K,G]of Object.entries(i.selectors??{}))z[K]=OF(G,R,()=>Hh(y,R,S),O);return z})}return{reducerPath:x,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const C={name:r,reducer:w,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:S,..._(s),injectInto(x,{reducerPath:O,...M}={}){const D=O??s;return x.inject({reducerPath:D,reducer:w},M),{...C,..._(D,!0)}}};return C}}function OF(n,t,e,i){function r(s,...l){let u=t(s);return typeof u>"u"&&i&&(u=e()),n(u,...l)}return r.unwrapped=n,r}var zn=TF();function MF(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function DF({type:n,reducerName:t,createNotation:e},i,r){let s,l;if("reducer"in i){if(e&&!RF(i))throw new Error(ni(17));s=i.reducer,l=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(t,s).exposeAction(t,l?_i(n,l):_i(n))}function PF(n){return n._reducerDefinitionType==="asyncThunk"}function RF(n){return n._reducerDefinitionType==="reducerWithPrepare"}function kF({type:n,reducerName:t},e,i,r){if(!r)throw new Error(ni(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:h,settled:f,options:d}=e,g=r(n,s,d);i.exposeAction(t,g),l&&i.addCase(g.fulfilled,l),u&&i.addCase(g.pending,u),h&&i.addCase(g.rejected,h),f&&i.addMatcher(g.settled,f),i.exposeCaseReducer(t,{fulfilled:l||qh,pending:u||qh,rejected:h||qh,settled:f||qh})}function qh(){}var NF="task",$D="listener",GD="completed",J0="cancelled",LF=`task-${J0}`,IF=`task-${GD}`,Uy=`${$D}-${J0}`,jF=`${$D}-${GD}`,Od=class{constructor(n){this.code=n,this.message=`${NF} ${J0} (reason: ${n})`}name="TaskAbortError";message},tb=(n,t)=>{if(typeof n!="function")throw new TypeError(ni(32))},Tf=()=>{},VD=(n,t=Tf)=>(n.catch(t),n),YD=(n,t)=>(n.addEventListener("abort",t,{once:!0}),()=>n.removeEventListener("abort",t)),fs=n=>{if(n.aborted)throw new Od(n.reason)};function XD(n,t){let e=Tf;return new Promise((i,r)=>{const s=()=>r(new Od(n.reason));if(n.aborted){s();return}e=YD(n,s),t.finally(()=>e()).then(i,r)}).finally(()=>{e=Tf})}var BF=async(n,t)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(e){return{status:e instanceof Od?"cancelled":"rejected",error:e}}finally{t?.()}},Of=n=>t=>VD(XD(n,t).then(e=>(fs(n),e))),KD=n=>{const t=Of(n);return e=>t(new Promise(i=>setTimeout(i,e)))},{assign:ko}=Object,Rx={},Md="listenerMiddleware",zF=(n,t)=>{const e=i=>YD(n,()=>i.abort(n.reason));return(i,r)=>{tb(i);const s=new AbortController;e(s);const l=BF(async()=>{fs(n),fs(s.signal);const u=await i({pause:Of(s.signal),delay:KD(s.signal),signal:s.signal});return fs(s.signal),u},()=>s.abort(IF));return r?.autoJoin&&t.push(l.catch(Tf)),{result:Of(n)(l),cancel(){s.abort(LF)}}}},FF=(n,t)=>{const e=async(i,r)=>{fs(t);let s=()=>{};const u=[new Promise((h,f)=>{let d=n({predicate:i,effect:(g,m)=>{m.unsubscribe(),h([g,m.getState(),m.getOriginalState()])}});s=()=>{d(),f()}})];r!=null&&u.push(new Promise(h=>setTimeout(h,r,null)));try{const h=await XD(t,Promise.race(u));return fs(t),h}finally{s()}};return(i,r)=>VD(e(i,r))},WD=n=>{let{type:t,actionCreator:e,matcher:i,predicate:r,effect:s}=n;if(t)r=_i(t).match;else if(e)t=e.type,r=e.match;else if(i)r=i;else if(!r)throw new Error(ni(21));return tb(s),{predicate:r,type:t,effect:s}},ZD=ko(n=>{const{type:t,predicate:e,effect:i}=WD(n);return{id:EF(),effect:i,type:t,predicate:e,pending:new Set,unsubscribe:()=>{throw new Error(ni(22))}}},{withTypes:()=>ZD}),kx=(n,t)=>{const{type:e,effect:i,predicate:r}=WD(t);return Array.from(n.values()).find(s=>(typeof e=="string"?s.type===e:s.predicate===r)&&s.effect===i)},Hy=n=>{n.pending.forEach(t=>{t.abort(Uy)})},UF=(n,t)=>()=>{for(const e of t.keys())Hy(e);n.clear()},Nx=(n,t,e)=>{try{n(t,e)}catch(i){setTimeout(()=>{throw i},0)}},QD=ko(_i(`${Md}/add`),{withTypes:()=>QD}),HF=_i(`${Md}/removeAll`),JD=ko(_i(`${Md}/remove`),{withTypes:()=>JD}),qF=(...n)=>{console.error(`${Md}/error`,...n)},Qu=(n={})=>{const t=new Map,e=new Map,i=y=>{const A=e.get(y)??0;e.set(y,A+1)},r=y=>{const A=e.get(y)??1;A===1?e.delete(y):e.set(y,A-1)},{extra:s,onError:l=qF}=n;tb(l);const u=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),A=>{y.unsubscribe(),A?.cancelActive&&Hy(y)}),h=y=>{const A=kx(t,y)??ZD(y);return u(A)};ko(h,{withTypes:()=>h});const f=y=>{const A=kx(t,y);return A&&(A.unsubscribe(),y.cancelActive&&Hy(A)),!!A};ko(f,{withTypes:()=>f});const d=async(y,A,w,S)=>{const _=new AbortController,C=FF(h,_.signal),x=[];try{y.pending.add(_),i(y),await Promise.resolve(y.effect(A,ko({},w,{getOriginalState:S,condition:(O,M)=>C(O,M).then(Boolean),take:C,delay:KD(_.signal),pause:Of(_.signal),extra:s,signal:_.signal,fork:zF(_.signal,x),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((O,M,D)=>{O!==_&&(O.abort(Uy),D.delete(O))})},cancel:()=>{_.abort(Uy),y.pending.delete(_)},throwIfCancelled:()=>{fs(_.signal)}})))}catch(O){O instanceof Od||Nx(l,O,{raisedBy:"effect"})}finally{await Promise.all(x),_.abort(jF),r(y),y.pending.delete(_)}},g=UF(t,e);return{middleware:y=>A=>w=>{if(!OD(w))return A(w);if(QD.match(w))return h(w.payload);if(HF.match(w)){g();return}if(JD.match(w))return f(w.payload);let S=y.getState();const _=()=>{if(S===Rx)throw new Error(ni(23));return S};let C;try{if(C=A(w),t.size>0){const x=y.getState(),O=Array.from(t.values());for(const M of O){let D=!1;try{D=M.predicate(w,x,S)}catch(R){D=!1,Nx(l,R,{raisedBy:"predicate"})}D&&d(M,w,y,_)}}}finally{S=Rx}return C},startListening:h,stopListening:f,clearListeners:g}};function ni(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var $F={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tP=zn({name:"chartLayout",initialState:$F,reducers:{setLayout(n,t){n.layoutType=t.payload},setChartSize(n,t){n.width=t.payload.width,n.height=t.payload.height},setMargin(n,t){var e,i,r,s;n.margin.top=(e=t.payload.top)!==null&&e!==void 0?e:0,n.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=t.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(n,t){n.scale=t.payload}}}),{setMargin:GF,setLayout:VF,setChartSize:YF,setScale:XF}=tP.actions,KF=tP.reducer;function eP(n,t,e){return Array.isArray(n)&&n&&t+e!==0?n.slice(t,e+1):n}function Ut(n){return Number.isFinite(n)}function nr(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function Lx(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function To(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Lx(Object(e),!0).forEach(function(i){WF(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Lx(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function WF(n,t,e){return(t=ZF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ZF(n){var t=QF(n,"string");return typeof t=="symbol"?t:t+""}function QF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function un(n,t,e){return cn(n)||cn(t)?e:er(t)?bd(n,t,e):typeof t=="function"?t(n):e}var JF=(n,t,e)=>{if(t&&e){var{width:i,height:r}=e,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&vt(n[s]))return To(To({},n),{},{[s]:n[s]+(i||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&vt(n[l]))return To(To({},n),{},{[l]:n[l]+(r||0)})}return n},Fr=(n,t)=>n==="horizontal"&&t==="xAxis"||n==="vertical"&&t==="yAxis"||n==="centric"&&t==="angleAxis"||n==="radial"&&t==="radiusAxis",nP=(n,t,e,i)=>{if(i)return n.map(u=>u.coordinate);var r,s,l=n.map(u=>(u.coordinate===t&&(r=!0),u.coordinate===e&&(s=!0),u.coordinate));return r||l.push(t),s||l.push(e),l},iP=(n,t,e)=>{if(!n)return null;var{duplicateDomain:i,type:r,range:s,scale:l,realScaleType:u,isCategorical:h,categoricalDomain:f,tickCount:d,ticks:g,niceTicks:m,axisType:y}=n;if(!l)return null;var A=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=r==="category"&&l.bandwidth?l.bandwidth()/A:0;if(w=y==="angleAxis"&&s&&s.length>=2?Ai(s[0]-s[1])*2*w:w,g||m){var S=(g||m||[]).map((_,C)=>{var x=i?i.indexOf(_):_,O=l.map(x);return Ut(O)?{coordinate:O+w,value:_,offset:w,index:C}:null}).filter(In);return S}return h&&f?f.map((_,C)=>{var x=l.map(_);return Ut(x)?{coordinate:x+w,value:_,index:C,offset:w}:null}).filter(In):l.ticks&&d!=null?l.ticks(d).map((_,C)=>{var x=l.map(_);return Ut(x)?{coordinate:x+w,value:_,index:C,offset:w}:null}).filter(In):l.domain().map((_,C)=>{var x=l.map(_);return Ut(x)?{coordinate:x+w,value:i?i[_]:_,index:C,offset:w}:null}).filter(In)},tU=n=>{var t,e=n.length;if(!(e<=0)){var i=(t=n[0])===null||t===void 0?void 0:t.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var s=0,l=0,u=0;u<e;++u){var h=n[u],f=h?.[r];if(f!=null){var d=f[1],g=f[0],m=Rr(d)?g:d;m>=0?(f[0]=s,s+=m,f[1]=s):(f[0]=l,l+=m,f[1]=l)}}}},eU=n=>{var t,e=n.length;if(!(e<=0)){var i=(t=n[0])===null||t===void 0?void 0:t.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var s=0,l=0;l<e;++l){var u=n[l],h=u?.[r];if(h!=null){var f=Rr(h[1])?h[0]:h[1];f>=0?(h[0]=s,s+=f,h[1]=s):(h[0]=0,h[1]=0)}}}},nU={sign:tU,expand:D3,none:ys,silhouette:P3,wiggle:R3,positive:eU},iU=(n,t,e)=>{var i,r=(i=nU[e])!==null&&i!==void 0?i:ys,s=M3().keys(t).value((u,h)=>Number(un(u,h,0))).order(Py).offset(r),l=s(n);return l.forEach((u,h)=>{u.forEach((f,d)=>{var g=un(n[d],t[h],0);Array.isArray(g)&&g.length===2&&vt(g[0])&&vt(g[1])&&(f[0]=g[0],f[1]=g[1])})}),l};function Ix(n){var{axis:t,ticks:e,bandSize:i,entry:r,index:s,dataKey:l}=n;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!cn(r[t.dataKey])){var u=cD(e,"value",r[t.dataKey]);if(u)return u.coordinate+i/2}return e!=null&&e[s]?e[s].coordinate+i/2:null}var h=un(r,cn(l)?t.dataKey:l),f=t.scale.map(h);return vt(f)?f:null}var rU=n=>{var t=n.flat(2).filter(vt);return[Math.min(...t),Math.max(...t)]},aU=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],sU=(n,t,e)=>{if(n!=null)return aU(Object.keys(n).reduce((i,r)=>{var s=n[r];if(!s)return i;var{stackedData:l}=s,u=l.reduce((h,f)=>{var d=eP(f,t,e),g=rU(d);return!Ut(g[0])||!Ut(g[1])?h:[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]))},jx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mf=(n,t,e)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!e||i>0)return i}if(n&&t&&t.length>=2){for(var r=Ad(t,d=>d.coordinate),s=1/0,l=1,u=r.length;l<u;l++){var h=r[l],f=r[l-1];s=Math.min((h?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return e?void 0:0};function zx(n){var{tooltipEntrySettings:t,dataKey:e,payload:i,value:r,name:s}=n;return To(To({},t),{},{dataKey:e,payload:i,value:r,name:s})}function rP(n,t){if(n)return String(n);if(typeof t=="string")return t}var oU=(n,t)=>{if(t==="horizontal")return n.chartX;if(t==="vertical")return n.chartY},lU=(n,t)=>t==="centric"?n.angle:n.radius,Ur=n=>n.layout.width,Hr=n=>n.layout.height,uU=n=>n.layout.scale,aP=n=>n.layout.margin,Dd=X(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),Pd=X(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),cU="data-recharts-item-index",hU="data-recharts-item-id",Ju=60;function Fx(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function $h(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Fx(Object(e),!0).forEach(function(i){fU(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Fx(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function fU(n,t,e){return(t=dU(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dU(n){var t=pU(n,"string");return typeof t=="symbol"?t:t+""}function pU(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var gU=n=>n.brush.height;function mU(n){var t=Pd(n);return t.reduce((e,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Ju;return e+r}return e},0)}function vU(n){var t=Pd(n);return t.reduce((e,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Ju;return e+r}return e},0)}function yU(n){var t=Dd(n);return t.reduce((e,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?e+i.height:e,0)}function bU(n){var t=Dd(n);return t.reduce((e,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?e+i.height:e,0)}var hn=X([Ur,Hr,aP,gU,mU,vU,yU,bU,xD,Yz],(n,t,e,i,r,s,l,u,h,f)=>{var d={left:(e.left||0)+r,right:(e.right||0)+s},g={top:(e.top||0)+l,bottom:(e.bottom||0)+u},m=$h($h({},g),d),y=m.bottom;m.bottom+=i,m=JF(m,h,f);var A=n-m.left-m.right,w=t-m.top-m.bottom;return $h($h({brushBottom:y},m),{},{width:Math.max(A,0),height:Math.max(w,0)})}),AU=X(hn,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),sP=X(Ur,Hr,(n,t)=>({x:0,y:0,width:n,height:t})),wU=T.createContext(null),Fn=()=>T.useContext(wU)!=null,Rd=n=>n.brush,kd=X([Rd,hn,aP],(n,t,e)=>({height:n.height,x:vt(n.x)?n.x:t.left,y:vt(n.y)?n.y:t.top+t.height+t.brushBottom-(e?.bottom||0),width:vt(n.width)?n.width:t.width})),Rv={},kv={},Nv={},Ux;function SU(){return Ux||(Ux=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i,{signal:r,edges:s}={}){let l,u=null;const h=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),d=()=>{u!==null&&(e.apply(l,u),l=void 0,u=null)},g=()=>{f&&d(),w()};let m=null;const y=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,g()},i)},A=()=>{m!==null&&(clearTimeout(m),m=null)},w=()=>{A(),l=void 0,u=null},S=()=>{d()},_=function(...C){if(r?.aborted)return;l=this,u=C;const x=m==null;y(),h&&x&&d()};return _.schedule=y,_.cancel=w,_.flush=S,r?.addEventListener("abort",w,{once:!0}),_}n.debounce=t})(Nv)),Nv}var Hx;function _U(){return Hx||(Hx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=SU();function e(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:h}=s,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let d,g=null;const m=t.debounce(function(...w){d=i.apply(this,w),g=null},r,{edges:f}),y=function(...w){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(d=i.apply(this,w),g=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,w),d)},A=()=>(m.flush(),d);return y.cancel=m.cancel,y.flush=A,y}n.debounce=e})(kv)),kv}var qx;function EU(){return qx||(qx=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=_U();function e(i,r=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(i,r,{leading:l,maxWait:r,trailing:u})}n.throttle=e})(Rv)),Rv}var Lv,$x;function xU(){return $x||($x=1,Lv=EU().throttle),Lv}var CU=xU();const TU=zr(CU);var Df=function(t,e){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(e===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(e===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(e.replace(/%s/g,()=>r[l++]))}},Wi={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},oP=(n,t,e)=>{var{width:i=Wi.width,height:r=Wi.height,aspect:s,maxHeight:l}=e,u=bs(i)?n:Number(i),h=bs(r)?t:Number(r);return s&&s>0&&(u?h=u/s:h&&(u=h*s),l&&h!=null&&h>l&&(h=l)),{calculatedWidth:u,calculatedHeight:h}},OU={width:0,height:0,overflow:"visible"},MU={width:0,overflowX:"visible"},DU={height:0,overflowY:"visible"},PU={},RU=n=>{var{width:t,height:e}=n,i=bs(t),r=bs(e);return i&&r?OU:i?MU:r?DU:PU};function kU(n){var{width:t,height:e,aspect:i}=n,r=t,s=e;return r===void 0&&s===void 0?(r=Wi.width,s=Wi.height):r===void 0?r=i&&i>0?void 0:Wi.width:s===void 0&&(s=i&&i>0?void 0:Wi.height),{width:r,height:s}}function qy(){return qy=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qy.apply(null,arguments)}function Gx(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Vx(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(e),!0).forEach(function(i){NU(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Gx(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function NU(n,t,e){return(t=LU(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function LU(n){var t=IU(n,"string");return typeof t=="symbol"?t:t+""}function IU(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var lP=T.createContext(Wi.initialDimension);function jU(n){return nr(n.width)&&nr(n.height)}function uP(n){var{children:t,width:e,height:i}=n,r=T.useMemo(()=>({width:e,height:i}),[e,i]);return jU(r)?T.createElement(lP.Provider,{value:r},t):null}var eb=()=>T.useContext(lP),BU=T.forwardRef((n,t)=>{var{aspect:e,initialDimension:i=Wi.initialDimension,width:r,height:s,minWidth:l=Wi.minWidth,minHeight:u,maxHeight:h,children:f,debounce:d=Wi.debounce,id:g,className:m,onResize:y,style:A={}}=n,w=T.useRef(null),S=T.useRef();S.current=y,T.useImperativeHandle(t,()=>w.current);var[_,C]=T.useState({containerWidth:i.width,containerHeight:i.height}),x=T.useCallback((L,z)=>{C(K=>{var G=Math.round(L),U=Math.round(z);return K.containerWidth===G&&K.containerHeight===U?K:{containerWidth:G,containerHeight:U}})},[]);T.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return qo;var L=U=>{var st,it=U[0];if(it!=null){var{width:lt,height:I}=it.contentRect;x(lt,I),(st=S.current)===null||st===void 0||st.call(S,lt,I)}};d>0&&(L=TU(L,d,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),{width:K,height:G}=w.current.getBoundingClientRect();return x(K,G),z.observe(w.current),()=>{z.disconnect()}},[x,d]);var{containerWidth:O,containerHeight:M}=_;Df(!e||e>0,"The aspect(%s) must be greater than zero.",e);var{calculatedWidth:D,calculatedHeight:R}=oP(O,M,{width:r,height:s,aspect:e,maxHeight:h});return Df(D!=null&&D>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,R,r,s,l,u,e),T.createElement("div",{id:g?"".concat(g):void 0,className:ie("recharts-responsive-container",m),style:Vx(Vx({},A),{},{width:r,height:s,minWidth:l,minHeight:u,maxHeight:h}),ref:w},T.createElement("div",{style:RU({width:r,height:s})},T.createElement(uP,{width:D,height:R},f)))}),zU=T.forwardRef((n,t)=>{var e=eb();if(nr(e.width)&&nr(e.height))return n.children;var{width:i,height:r}=kU({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:l}=oP(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return vt(s)&&vt(l)?T.createElement(uP,{width:s,height:l},n.children):T.createElement(BU,qy({},n,{width:i,height:r,ref:t}))});function nb(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var Nd=()=>{var n,t=Fn(),e=wt(AU),i=wt(kd),r=(n=wt(Rd))===null||n===void 0?void 0:n.padding;return!t||!i||!r?e:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},FU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},cP=()=>{var n;return(n=wt(hn))!==null&&n!==void 0?n:FU},hP=()=>wt(Ur),fP=()=>wt(Hr),me=n=>n.layout.layoutType,$o=()=>wt(me),dP=()=>{var n=$o();if(n==="horizontal"||n==="vertical")return n},pP=n=>{var t=n.layout.layoutType;if(t==="centric"||t==="radial")return t},UU=()=>{var n=$o();return n!==void 0},tc=n=>{var t=Ve(),e=Fn(),{width:i,height:r}=n,s=eb(),l=i,u=r;return s&&(l=s.width>0?s.width:i,u=s.height>0?s.height:r),T.useEffect(()=>{!e&&nr(l)&&nr(u)&&t(YF({width:l,height:u}))},[t,e,l,u]),null},gP=Symbol.for("immer-nothing"),Yx=Symbol.for("immer-draftable"),ii=Symbol.for("immer-state");function Pi(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Mu=Object.getPrototypeOf;function Bo(n){return!!n&&!!n[ii]}function ws(n){return n?mP(n)||Array.isArray(n)||!!n[Yx]||!!n.constructor?.[Yx]||ec(n)||Id(n):!1}var HU=Object.prototype.constructor.toString(),Xx=new WeakMap;function mP(n){if(!n||typeof n!="object")return!1;const t=Object.getPrototypeOf(n);if(t===null||t===Object.prototype)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(e===Object)return!0;if(typeof e!="function")return!1;let i=Xx.get(e);return i===void 0&&(i=Function.toString.call(e),Xx.set(e,i)),i===HU}function Pf(n,t,e=!0){Ld(n)===0?(e?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{t(r,n[r],n)}):n.forEach((i,r)=>t(r,i,n))}function Ld(n){const t=n[ii];return t?t.type_:Array.isArray(n)?1:ec(n)?2:Id(n)?3:0}function $y(n,t){return Ld(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function vP(n,t,e){const i=Ld(n);i===2?n.set(t,e):i===3?n.add(e):n[t]=e}function qU(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function ec(n){return n instanceof Map}function Id(n){return n instanceof Set}function ns(n){return n.copy_||n.base_}function Gy(n,t){if(ec(n))return new Map(n);if(Id(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=mP(n);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(n);delete i[ii];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const l=r[s],u=i[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(i[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[l]})}return Object.create(Mu(n),i)}else{const i=Mu(n);if(i!==null&&e)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function ib(n,t=!1){return jd(n)||Bo(n)||!ws(n)||(Ld(n)>1&&Object.defineProperties(n,{set:Gh,add:Gh,clear:Gh,delete:Gh}),Object.freeze(n),t&&Object.values(n).forEach(e=>ib(e,!0))),n}function $U(){Pi(2)}var Gh={value:$U};function jd(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var GU={};function Ss(n){const t=GU[n];return t||Pi(0,n),t}var Du;function yP(){return Du}function VU(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Kx(n,t){t&&(Ss("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function Vy(n){Yy(n),n.drafts_.forEach(YU),n.drafts_=null}function Yy(n){n===Du&&(Du=n.parent_)}function Wx(n){return Du=VU(Du,n)}function YU(n){const t=n[ii];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Zx(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[ii].modified_&&(Vy(t),Pi(4)),ws(n)&&(n=Rf(t,n),t.parent_||kf(t,n)),t.patches_&&Ss("Patches").generateReplacementPatches_(e[ii].base_,n,t.patches_,t.inversePatches_)):n=Rf(t,e,[]),Vy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==gP?n:void 0}function Rf(n,t,e){if(jd(t))return t;const i=n.immer_.shouldUseStrictIteration(),r=t[ii];if(!r)return Pf(t,(s,l)=>Qx(n,r,t,s,l,e),i),t;if(r.scope_!==n)return t;if(!r.modified_)return kf(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,u=!1;r.type_===3&&(l=new Set(s),s.clear(),u=!0),Pf(l,(h,f)=>Qx(n,r,s,h,f,e,u),i),kf(n,s,!1),e&&n.patches_&&Ss("Patches").generatePatches_(r,e,n.patches_,n.inversePatches_)}return r.copy_}function Qx(n,t,e,i,r,s,l){if(r==null||typeof r!="object"&&!l)return;const u=jd(r);if(!(u&&!l)){if(Bo(r)){const h=s&&t&&t.type_!==3&&!$y(t.assigned_,i)?s.concat(i):void 0,f=Rf(n,r,h);if(vP(e,i,f),Bo(f))n.canAutoFreeze_=!1;else return}else l&&e.add(r);if(ws(r)&&!u){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||t&&t.base_&&t.base_[i]===r&&u)return;Rf(n,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(ec(e)?e.has(i):Object.prototype.propertyIsEnumerable.call(e,i))&&kf(n,r)}}}function kf(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ib(t,e)}function XU(n,t){const e=Array.isArray(n),i={type_:e?1:0,scope_:t?t.scope_:yP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=rb;e&&(r=[i],s=Pu);const{revoke:l,proxy:u}=Proxy.revocable(r,s);return i.draft_=u,i.revoke_=l,u}var rb={get(n,t){if(t===ii)return n;const e=ns(n);if(!$y(e,t))return KU(n,e,t);const i=e[t];return n.finalized_||!ws(i)?i:i===Iv(n.base_,t)?(jv(n),n.copy_[t]=Ky(i,n)):i},has(n,t){return t in ns(n)},ownKeys(n){return Reflect.ownKeys(ns(n))},set(n,t,e){const i=bP(ns(n),t);if(i?.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=Iv(ns(n),t),s=r?.[ii];if(s&&s.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(qU(e,r)&&(e!==void 0||$y(n.base_,t)))return!0;jv(n),Xy(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return Iv(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,jv(n),Xy(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=ns(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){Pi(11)},getPrototypeOf(n){return Mu(n.base_)},setPrototypeOf(){Pi(12)}},Pu={};Pf(rb,(n,t)=>{Pu[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pu.deleteProperty=function(n,t){return Pu.set.call(this,n,t,void 0)};Pu.set=function(n,t,e){return rb.set.call(this,n[0],t,e,n[0])};function Iv(n,t){const e=n[ii];return(e?ns(e):n)[t]}function KU(n,t,e){const i=bP(t,e);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function bP(n,t){if(!(t in n))return;let e=Mu(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=Mu(e)}}function Xy(n){n.modified_||(n.modified_=!0,n.parent_&&Xy(n.parent_))}function jv(n){n.copy_||(n.copy_=Gy(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var WU=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const s=e;e=t;const l=this;return function(h=s,...f){return l.produce(h,d=>e.call(this,d,...f))}}typeof e!="function"&&Pi(6),i!==void 0&&typeof i!="function"&&Pi(7);let r;if(ws(t)){const s=Wx(this),l=Ky(t,void 0);let u=!0;try{r=e(l),u=!1}finally{u?Vy(s):Yy(s)}return Kx(s,i),Zx(r,s)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===gP&&(r=void 0),this.autoFreeze_&&ib(r,!0),i){const s=[],l=[];Ss("Patches").generateReplacementPatches_(t,r,s,l),i(s,l)}return r}else Pi(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,h=>t(h,...u));let i,r;return[this.produce(t,e,(l,u)=>{i=l,r=u}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){ws(n)||Pi(8),Bo(n)&&(n=ZU(n));const t=Wx(this),e=Ky(n,void 0);return e[ii].isManual_=!0,Yy(t),e}finishDraft(n,t){const e=n&&n[ii];(!e||!e.isManual_)&&Pi(9);const{scope_:i}=e;return Kx(i,t),Zx(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}e>-1&&(t=t.slice(e+1));const i=Ss("Patches").applyPatches_;return Bo(n)?i(n,t):this.produce(n,r=>i(r,t))}};function Ky(n,t){const e=ec(n)?Ss("MapSet").proxyMap_(n,t):Id(n)?Ss("MapSet").proxySet_(n,t):XU(n,t);return(t?t.scope_:yP()).drafts_.push(e),e}function ZU(n){return Bo(n)||Pi(10,n),AP(n)}function AP(n){if(!ws(n)||jd(n))return n;const t=n[ii];let e,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=Gy(n,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else e=Gy(n,!0);return Pf(e,(r,s)=>{vP(e,r,AP(s))},i),t&&(t.finalized_=!1),e}var QU=new WU;QU.produce;var JU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wP=zn({name:"legend",initialState:JU,reducers:{setLegendSize(n,t){n.size.width=t.payload.width,n.size.height=t.payload.height},setLegendSettings(n,t){n.settings.align=t.payload.align,n.settings.layout=t.payload.layout,n.settings.verticalAlign=t.payload.verticalAlign,n.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(n,t){n.payload.push(t.payload)},prepare:fe()},replaceLegendPayload:{reducer(n,t){var{prev:e,next:i}=t.payload,r=ki(n).payload.indexOf(e);r>-1&&(n.payload[r]=i)},prepare:fe()},removeLegendPayload:{reducer(n,t){var e=ki(n).payload.indexOf(t.payload);e>-1&&n.payload.splice(e,1)},prepare:fe()}}}),{setLegendSize:g7,setLegendSettings:m7,addLegendPayload:t4,replaceLegendPayload:e4,removeLegendPayload:n4}=wP.actions,i4=wP.reducer;function Wy(){return Wy=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Wy.apply(null,arguments)}function Jx(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function tu(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Jx(Object(e),!0).forEach(function(i){r4(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Jx(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function r4(n,t,e){return(t=a4(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function a4(n){var t=s4(n,"string");return typeof t=="symbol"?t:t+""}function s4(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function o4(n){return Array.isArray(n)&&er(n[0])&&er(n[1])?n.join(" ~ "):n}var mo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},l4=n=>{var{separator:t=mo.separator,contentStyle:e,itemStyle:i,labelStyle:r=mo.labelStyle,payload:s,formatter:l,itemSorter:u,wrapperClassName:h,labelClassName:f,label:d,labelFormatter:g,accessibilityLayer:m=mo.accessibilityLayer}=n,y=()=>{if(s&&s.length){var M={padding:0,margin:0},D=(u?Ad(s,u):s).map((R,L)=>{if(R.type==="none")return null;var z=R.formatter||l||o4,{value:K,name:G}=R,U=K,st=G;if(z){var it=z(K,G,R,L,s);if(Array.isArray(it))[U,st]=it;else if(it!=null)U=it;else return null}var lt=tu(tu({},mo.itemStyle),{},{color:R.color||mo.itemStyle.color},i);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:lt},er(st)?T.createElement("span",{className:"recharts-tooltip-item-name"},st):null,er(st)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},U),T.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},A=tu(tu({},mo.contentStyle),e),w=tu({margin:0},r),S=!cn(d),_=S?d:"",C=ie("recharts-default-tooltip",h),x=ie("recharts-tooltip-label",f);S&&g&&s!==void 0&&s!==null&&(_=g(d,s));var O=m?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Wy({className:C,style:A},O),T.createElement("p",{className:x,style:w},T.isValidElement(_)?_:"".concat(_)),y())},eu="recharts-tooltip-wrapper",u4={visibility:"hidden"};function c4(n){var{coordinate:t,translateX:e,translateY:i}=n;return ie(eu,{["".concat(eu,"-right")]:vt(e)&&t&&vt(t.x)&&e>=t.x,["".concat(eu,"-left")]:vt(e)&&t&&vt(t.x)&&e<t.x,["".concat(eu,"-bottom")]:vt(i)&&t&&vt(t.y)&&i>=t.y,["".concat(eu,"-top")]:vt(i)&&t&&vt(t.y)&&i<t.y})}function tC(n){var{allowEscapeViewBox:t,coordinate:e,key:i,offset:r,position:s,reverseDirection:l,tooltipDimension:u,viewBox:h,viewBoxDimension:f}=n;if(s&&vt(s[i]))return s[i];var d=e[i]-u-(r>0?r:0),g=e[i]+r;if(t[i])return l[i]?d:g;var m=h[i];if(m==null)return 0;if(l[i]){var y=d,A=m;return y<A?Math.max(g,m):Math.max(d,m)}if(f==null)return 0;var w=g+u,S=m+f;return w>S?Math.max(d,m):Math.max(g,m)}function h4(n){var{translateX:t,translateY:e,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function f4(n){var{allowEscapeViewBox:t,coordinate:e,offsetTop:i,offsetLeft:r,position:s,reverseDirection:l,tooltipBox:u,useTranslate3d:h,viewBox:f}=n,d,g,m;return u.height>0&&u.width>0&&e?(g=tC({allowEscapeViewBox:t,coordinate:e,key:"x",offset:r,position:s,reverseDirection:l,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),m=tC({allowEscapeViewBox:t,coordinate:e,key:"y",offset:i,position:s,reverseDirection:l,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),d=h4({translateX:g,translateY:m,useTranslate3d:h})):d=u4,{cssProperties:d,cssClasses:c4({translateX:g,translateY:m,coordinate:e})}}function eC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Vh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(e),!0).forEach(function(i){Zy(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):eC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Zy(n,t,e){return(t=d4(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function d4(n){var t=p4(n,"string");return typeof t=="symbol"?t:t+""}function p4(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class g4 extends T.PureComponent{constructor(){super(...arguments),Zy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var e,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(e=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&e!==void 0?e:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,e;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((e=this.props.coordinate)===null||e===void 0?void 0:e.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:e,animationDuration:i,animationEasing:r,children:s,coordinate:l,hasPayload:u,isAnimationActive:h,offset:f,position:d,reverseDirection:g,useTranslate3d:m,viewBox:y,wrapperStyle:A,lastBoundingBox:w,innerRef:S,hasPortalFromProps:_}=this.props,C=typeof f=="number"?f:f.x,x=typeof f=="number"?f:f.y,{cssClasses:O,cssProperties:M}=f4({allowEscapeViewBox:e,coordinate:l,offsetLeft:C,offsetTop:x,position:d,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:m,viewBox:y}),D=_?{}:Vh(Vh({transition:h&&t?"transform ".concat(i,"ms ").concat(r):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),R=Vh(Vh({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},A);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:R,ref:S},s)}}var SP=()=>{var n;return(n=wt(t=>t.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function Qy(){return Qy=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qy.apply(null,arguments)}function nC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function iC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(e),!0).forEach(function(i){m4(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):nC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function m4(n,t,e){return(t=v4(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function v4(n){var t=y4(n,"string");return typeof t=="symbol"?t:t+""}function y4(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var rC={curveBasisClosed:y3,curveBasisOpen:b3,curveBasis:v3,curveBumpX:i3,curveBumpY:r3,curveLinearClosed:A3,curveLinear:vd,curveMonotoneX:w3,curveMonotoneY:S3,curveNatural:_3,curveStep:E3,curveStepAfter:C3,curveStepBefore:x3},Nf=n=>Ut(n.x)&&Ut(n.y),aC=n=>n.base!=null&&Nf(n.base)&&Nf(n),nu=n=>n.x,iu=n=>n.y,b4=(n,t)=>{if(typeof n=="function")return n;var e="curve".concat(Wu(n));if((e==="curveMonotone"||e==="curveBump")&&t){var i=rC["".concat(e).concat(t==="vertical"?"Y":"X")];if(i)return i}return rC[e]||vd},sC={connectNulls:!1,type:"linear"},A4=n=>{var{type:t=sC.type,points:e=[],baseLine:i,layout:r,connectNulls:s=sC.connectNulls}=n,l=b4(t,r),u=s?e.filter(Nf):e;if(Array.isArray(i)){var h,f=e.map((A,w)=>iC(iC({},A),{},{base:i[w]}));r==="vertical"?h=Bh().y(iu).x1(nu).x0(A=>A.base.x):h=Bh().x(nu).y1(iu).y0(A=>A.base.y);var d=h.defined(aC).curve(l),g=s?f.filter(aC):f;return d(g)}var m;r==="vertical"&&vt(i)?m=Bh().y(iu).x1(nu).x0(i):vt(i)?m=Bh().x(nu).y1(iu).y0(i):m=ZM().x(nu).y(iu);var y=m.defined(Nf).curve(l);return y(u)},_P=n=>{var{className:t,points:e,path:i,pathRef:r}=n,s=$o();if((!e||!e.length)&&!i)return null;var l={type:n.type,points:n.points,baseLine:n.baseLine,layout:n.layout||s,connectNulls:n.connectNulls},u=e&&e.length?A4(l):i;return T.createElement("path",Qy({},tr(n),G0(n),{className:ie("recharts-curve",t),d:u===null?void 0:u,ref:r}))},w4=["x","y","top","left","width","height","className"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Jy.apply(null,arguments)}function oC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function S4(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(e),!0).forEach(function(i){_4(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function _4(n,t,e){return(t=E4(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function E4(n){var t=x4(n,"string");return typeof t=="symbol"?t:t+""}function x4(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function C4(n,t){if(n==null)return{};var e,i,r=T4(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function T4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var O4=(n,t,e,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(t,"h").concat(e),M4=n=>{var{x:t=0,y:e=0,top:i=0,left:r=0,width:s=0,height:l=0,className:u}=n,h=C4(n,w4),f=S4({x:t,y:e,top:i,left:r,width:s,height:l},h);return!vt(t)||!vt(e)||!vt(s)||!vt(l)||!vt(i)||!vt(r)?null:T.createElement("path",Jy({},Sn(f),{className:ie("recharts-cross",u),d:O4(t,e,s,l,i,r)}))};function D4(n,t,e,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?t.x-r:e.left+.5,y:n==="horizontal"?e.top+.5:t.y-r,width:n==="horizontal"?i:e.width-1,height:n==="horizontal"?e.height-1:i}}function lC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function uC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(e),!0).forEach(function(i){P4(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):lC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function P4(n,t,e){return(t=R4(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function R4(n){var t=k4(n,"string");return typeof t=="symbol"?t:t+""}function k4(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var N4=n=>n.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),EP=(n,t,e)=>n.map(i=>"".concat(N4(i)," ").concat(t,"ms ").concat(e)).join(","),L4=(n,t)=>[Object.keys(n),Object.keys(t)].reduce((e,i)=>e.filter(r=>i.includes(r))),Ru=(n,t)=>Object.keys(t).reduce((e,i)=>uC(uC({},e),{},{[i]:n(i,t[i])}),{});function cC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Le(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(e),!0).forEach(function(i){I4(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):cC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function I4(n,t,e){return(t=j4(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function j4(n){var t=B4(n,"string");return typeof t=="symbol"?t:t+""}function B4(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Lf=(n,t,e)=>n+(t-n)*e,t0=n=>{var{from:t,to:e}=n;return t!==e},xP=(n,t,e)=>{var i=Ru((r,s)=>{if(t0(s)){var[l,u]=n(s.from,s.to,s.velocity);return Le(Le({},s),{},{from:l,velocity:u})}return s},t);return e<1?Ru((r,s)=>t0(s)&&i[r]!=null?Le(Le({},s),{},{velocity:Lf(s.velocity,i[r].velocity,e),from:Lf(s.from,i[r].from,e)}):s,t):xP(n,i,e-1)};function z4(n,t,e,i,r,s){var l,u=i.reduce((m,y)=>Le(Le({},m),{},{[y]:{from:n[y],velocity:0,to:t[y]}}),{}),h=()=>Ru((m,y)=>y.from,u),f=()=>!Object.values(u).filter(t0).length,d=null,g=m=>{l||(l=m);var y=m-l,A=y/e.dt;u=xP(e,u,A),r(Le(Le(Le({},n),t),h())),l=m,f()||(d=s.setTimeout(g))};return()=>(d=s.setTimeout(g),()=>{var m;(m=d)===null||m===void 0||m()})}function F4(n,t,e,i,r,s,l){var u=null,h=r.reduce((g,m)=>{var y=n[m],A=t[m];return y==null||A==null?g:Le(Le({},g),{},{[m]:[y,A]})},{}),f,d=g=>{f||(f=g);var m=(g-f)/i,y=Ru((w,S)=>Lf(...S,e(m)),h);if(s(Le(Le(Le({},n),t),y)),m<1)u=l.setTimeout(d);else{var A=Ru((w,S)=>Lf(...S,e(1)),h);s(Le(Le(Le({},n),t),A))}};return()=>(u=l.setTimeout(d),()=>{var g;(g=u)===null||g===void 0||g()})}const U4=(n,t,e,i,r,s)=>{var l=L4(n,t);return e==null?()=>(r(Le(Le({},n),t)),()=>{}):e.isStepper===!0?z4(n,t,e,l,r,s):F4(n,t,e,i,l,r,s)};var If=1e-4,CP=(n,t)=>[0,3*n,3*t-6*n,3*n-3*t+1],TP=(n,t)=>n.map((e,i)=>e*t**i).reduce((e,i)=>e+i),hC=(n,t)=>e=>{var i=CP(n,t);return TP(i,e)},H4=(n,t)=>e=>{var i=CP(n,t),r=[...i.map((s,l)=>s*l).slice(1),0];return TP(r,e)},q4=n=>{var t,e=n.split("(");if(e.length!==2||e[0]!=="cubic-bezier")return null;var i=(t=e[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(i==null||i.length!==4)return null;var r=i.map(s=>parseFloat(s));return[r[0],r[1],r[2],r[3]]},$4=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length===1)switch(e[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=q4(e[0]);if(r)return r}}return e.length===4?e:[0,0,1,1]},G4=(n,t,e,i)=>{var r=hC(n,e),s=hC(t,i),l=H4(n,e),u=f=>f>1?1:f<0?0:f,h=f=>{for(var d=f>1?1:f,g=d,m=0;m<8;++m){var y=r(g)-d,A=l(g);if(Math.abs(y-d)<If||A<If)return s(g);g=u(g-y/A)}return s(g)};return h.isStepper=!1,h},fC=function(){return G4(...$4(...arguments))},V4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:e=100,damping:i=8,dt:r=17}=t,s=(l,u,h)=>{var f=-(l-u)*e,d=h*i,g=h+(f-d)*r/1e3,m=h*r/1e3+l;return Math.abs(m-u)<If&&Math.abs(g)<If?[u,0]:[m,g]};return s.isStepper=!0,s.dt=r,s},Y4=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fC(n);case"spring":return V4();default:if(n.split("(")[0]==="cubic-bezier")return fC(n)}return typeof n=="function"?n:null};function X4(n){var t,e=()=>null,i=!1,r=null,s=l=>{if(!i){if(Array.isArray(l)){if(!l.length)return;var u=l,[h,...f]=u;if(typeof h=="number"){r=n.setTimeout(s.bind(null,f),h);return}s(h),r=n.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,e(t)),typeof l=="object"&&(t=l,e(t)),typeof l=="function"&&l()}};return{stop:()=>{i=!0},start:l=>{i=!1,r&&(r(),r=null),s(l)},subscribe:l=>(e=l,()=>{e=()=>null}),getTimeoutController:()=>n}}class K4{setTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=l=>{l-i>=e?t(l):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function W4(){return X4(new K4)}var Z4=T.createContext(W4);function Q4(n,t){var e=T.useContext(Z4);return T.useMemo(()=>t??e(n),[n,t,e])}var J4=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bd={isSsr:J4()},tH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dC={t:0},Bv={t:1};function ab(n){var t=Bn(n,tH),{isActive:e,canBegin:i,duration:r,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:h,children:f}=t,d=e==="auto"?!Bd.isSsr:e,g=Q4(t.animationId,t.animationManager),[m,y]=T.useState(d?dC:Bv),A=T.useRef(null);return T.useEffect(()=>{d||y(Bv)},[d]),T.useEffect(()=>{if(!d||!i)return qo;var w=U4(dC,Bv,Y4(s),r,y,g.getTimeoutController()),S=()=>{A.current=w()};return g.start([h,l,S,r,u]),()=>{g.stop(),A.current&&A.current(),u()}},[d,i,r,s,l,h,u,g]),f(m.t)}function sb(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",e=T.useRef(xu(t)),i=T.useRef(n);return i.current!==n&&(e.current=xu(t),i.current=n),e.current}var eH=["radius"],nH=["radius"],pC,gC,mC,vC,yC,bC,AC,wC,SC,_C;function EC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function xC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(e),!0).forEach(function(i){iH(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):EC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function iH(n,t,e){return(t=rH(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function rH(n){var t=aH(n,"string");return typeof t=="symbol"?t:t+""}function aH(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function jf(){return jf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},jf.apply(null,arguments)}function CC(n,t){if(n==null)return{};var e,i,r=sH(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function sH(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function $i(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var TC=(n,t,e,i,r)=>{var s=xa(e),l=xa(i),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),h=l>=0?1:-1,f=s>=0?1:-1,d=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&Array.isArray(r)){for(var m=[0,0,0,0],y=0,A=4;y<A;y++){var w,S=(w=r[y])!==null&&w!==void 0?w:0;m[y]=S>u?u:S}g=Ae(pC||(pC=$i(["M",",",""])),n,t+h*m[0]),m[0]>0&&(g+=Ae(gC||(gC=$i(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,n+f*m[0],t)),g+=Ae(mC||(mC=$i(["L ",",",""])),n+e-f*m[1],t),m[1]>0&&(g+=Ae(vC||(vC=$i(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,n+e,t+h*m[1])),g+=Ae(yC||(yC=$i(["L ",",",""])),n+e,t+i-h*m[2]),m[2]>0&&(g+=Ae(bC||(bC=$i(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,n+e-f*m[2],t+i)),g+=Ae(AC||(AC=$i(["L ",",",""])),n+f*m[3],t+i),m[3]>0&&(g+=Ae(wC||(wC=$i(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,n,t+i-h*m[3])),g+="Z"}else if(u>0&&r===+r&&r>0){var _=Math.min(u,r);g=Ae(SC||(SC=$i(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),n,t+h*_,_,_,d,n+f*_,t,n+e-f*_,t,_,_,d,n+e,t+h*_,n+e,t+i-h*_,_,_,d,n+e-f*_,t+i,n+f*_,t+i,_,_,d,n,t+i-h*_)}else g=Ae(_C||(_C=$i(["M ",","," h "," v "," h "," Z"])),n,t,e,i,-e);return g},OC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OP=n=>{var t=Bn(n,OC),e=T.useRef(null),[i,r]=T.useState(-1);T.useEffect(()=>{if(e.current&&e.current.getTotalLength)try{var F=e.current.getTotalLength();F&&r(F)}catch{}},[]);var{x:s,y:l,width:u,height:h,radius:f,className:d}=t,{animationEasing:g,animationDuration:m,animationBegin:y,isAnimationActive:A,isUpdateAnimationActive:w}=t,S=T.useRef(u),_=T.useRef(h),C=T.useRef(s),x=T.useRef(l),O=T.useMemo(()=>({x:s,y:l,width:u,height:h,radius:f}),[s,l,u,h,f]),M=sb(O,"rectangle-");if(s!==+s||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var D=ie("recharts-rectangle",d);if(!w){var R=Sn(t),{radius:L}=R,z=CC(R,eH);return T.createElement("path",jf({},z,{x:xa(s),y:xa(l),width:xa(u),height:xa(h),radius:typeof f=="number"?f:void 0,className:D,d:TC(s,l,u,h,f)}))}var K=S.current,G=_.current,U=C.current,st=x.current,it="0px ".concat(i===-1?1:i,"px"),lt="".concat(i,"px 0px"),I=EP(["strokeDasharray"],m,typeof g=="string"?g:OC.animationEasing);return T.createElement(ab,{animationId:M,key:M,canBegin:i>0,duration:m,easing:g,isActive:w,begin:y},F=>{var et=Ln(K,u,F),at=Ln(G,h,F),dt=Ln(U,s,F),k=Ln(st,l,F);e.current&&(S.current=et,_.current=at,C.current=dt,x.current=k);var $;A?F>0?$={transition:I,strokeDasharray:lt}:$={strokeDasharray:it}:$={strokeDasharray:lt};var tt=Sn(t),{radius:rt}=tt,mt=CC(tt,nH);return T.createElement("path",jf({},mt,{radius:typeof f=="number"?f:void 0,className:D,d:TC(dt,k,et,at,f),ref:e,style:xC(xC({},$),t.style)}))})};function MC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function DC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(e),!0).forEach(function(i){oH(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):MC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function oH(n,t,e){return(t=lH(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function lH(n){var t=uH(n,"string");return typeof t=="symbol"?t:t+""}function uH(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Bf=Math.PI/180,cH=n=>n*180/Math.PI,ln=(n,t,e,i)=>({x:n+Math.cos(-Bf*i)*e,y:t+Math.sin(-Bf*i)*e}),hH=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(e-(i.top||0)-(i.bottom||0)))/2},fH=(n,t)=>{var{x:e,y:i}=n,{x:r,y:s}=t;return Math.sqrt((e-r)**2+(i-s)**2)},dH=(n,t)=>{var{x:e,y:i}=n,{cx:r,cy:s}=t,l=fH({x:e,y:i},{x:r,y:s});if(l<=0)return{radius:l,angle:0};var u=(e-r)/l,h=Math.acos(u);return i>s&&(h=2*Math.PI-h),{radius:l,angle:cH(h),angleInRadian:h}},pH=n=>{var{startAngle:t,endAngle:e}=n,i=Math.floor(t/360),r=Math.floor(e/360),s=Math.min(i,r);return{startAngle:t-s*360,endAngle:e-s*360}},gH=(n,t)=>{var{startAngle:e,endAngle:i}=t,r=Math.floor(e/360),s=Math.floor(i/360),l=Math.min(r,s);return n+l*360},mH=(n,t)=>{var{chartX:e,chartY:i}=n,{radius:r,angle:s}=dH({x:e,y:i},t),{innerRadius:l,outerRadius:u}=t;if(r<l||r>u||r===0)return null;var{startAngle:h,endAngle:f}=pH(t),d=s,g;if(h<=f){for(;d>f;)d-=360;for(;d<h;)d+=360;g=d>=h&&d<=f}else{for(;d>h;)d-=360;for(;d<f;)d+=360;g=d>=f&&d<=h}return g?DC(DC({},t),{},{radius:r,angle:gH(d,t)}):null};function MP(n){var{cx:t,cy:e,radius:i,startAngle:r,endAngle:s}=n,l=ln(t,e,i,r),u=ln(t,e,i,s);return{points:[l,u],cx:t,cy:e,radius:i,startAngle:r,endAngle:s}}var PC,RC,kC,NC,LC,IC,jC;function e0(){return e0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},e0.apply(null,arguments)}function as(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var vH=(n,t)=>{var e=Ai(t-n),i=Math.min(Math.abs(t-n),359.999);return e*i},Yh=n=>{var{cx:t,cy:e,radius:i,angle:r,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:h}=n,f=u*(l?1:-1)+i,d=Math.asin(u/f)/Bf,g=h?r:r+s*d,m=ln(t,e,f,g),y=ln(t,e,i,g),A=h?r-s*d:r,w=ln(t,e,f*Math.cos(d*Bf),A);return{center:m,circleTangency:y,lineTangency:w,theta:d}},DP=n=>{var{cx:t,cy:e,innerRadius:i,outerRadius:r,startAngle:s,endAngle:l}=n,u=vH(s,l),h=s+u,f=ln(t,e,r,s),d=ln(t,e,r,h),g=Ae(PC||(PC=as(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,r,r,+(Math.abs(u)>180),+(s>h),d.x,d.y);if(i>0){var m=ln(t,e,i,s),y=ln(t,e,i,h);g+=Ae(RC||(RC=as(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,i,i,+(Math.abs(u)>180),+(s<=h),m.x,m.y)}else g+=Ae(kC||(kC=as(["L ",","," Z"])),t,e);return g},yH=n=>{var{cx:t,cy:e,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}=n,d=Ai(f-h),{circleTangency:g,lineTangency:m,theta:y}=Yh({cx:t,cy:e,radius:r,angle:h,sign:d,cornerRadius:s,cornerIsExternal:u}),{circleTangency:A,lineTangency:w,theta:S}=Yh({cx:t,cy:e,radius:r,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:u}),_=u?Math.abs(h-f):Math.abs(h-f)-y-S;if(_<0)return l?Ae(NC||(NC=as(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,s,s,s*2,s,s,-s*2):DP({cx:t,cy:e,innerRadius:i,outerRadius:r,startAngle:h,endAngle:f});var C=Ae(LC||(LC=as(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,s,s,+(d<0),g.x,g.y,r,r,+(_>180),+(d<0),A.x,A.y,s,s,+(d<0),w.x,w.y);if(i>0){var{circleTangency:x,lineTangency:O,theta:M}=Yh({cx:t,cy:e,radius:i,angle:h,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:D,lineTangency:R,theta:L}=Yh({cx:t,cy:e,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),z=u?Math.abs(h-f):Math.abs(h-f)-M-L;if(z<0&&s===0)return"".concat(C,"L").concat(t,",").concat(e,"Z");C+=Ae(IC||(IC=as(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,s,s,+(d<0),D.x,D.y,i,i,+(z>180),+(d>0),x.x,x.y,s,s,+(d<0),O.x,O.y)}else C+=Ae(jC||(jC=as(["L",",","Z"])),t,e);return C},bH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PP=n=>{var t=Bn(n,bH),{cx:e,cy:i,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:d,className:g}=t;if(s<r||f===d)return null;var m=ie("recharts-sector",g),y=s-r,A=Ra(l,y,0,!0),w;return A>0&&Math.abs(f-d)<360?w=yH({cx:e,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(A,y/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:d}):w=DP({cx:e,cy:i,innerRadius:r,outerRadius:s,startAngle:f,endAngle:d}),T.createElement("path",e0({},Sn(t),{className:m,d:w}))};function AH(n,t,e){if(n==="horizontal")return[{x:t.x,y:e.top},{x:t.x,y:e.top+e.height}];if(n==="vertical")return[{x:e.left,y:t.y},{x:e.left+e.width,y:t.y}];if(dD(t)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:l,angle:u}=t,h=ln(i,r,s,u),f=ln(i,r,l,u);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return MP(t)}}var zv={},Fv={},Uv={},BC;function wH(){return BC||(BC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=_D();function e(i){return t.isSymbol(i)?NaN:Number(i)}n.toNumber=e})(Uv)),Uv}var zC;function SH(){return zC||(zC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=wH();function e(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=e})(Fv)),Fv}var FC;function _H(){return FC||(FC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=ED(),e=SH();function i(r,s,l){l&&typeof l!="number"&&t.isIterateeCall(r,s,l)&&(s=l=void 0),r=e.toFinite(r),s===void 0?(s=r,r=0):s=e.toFinite(s),l=l===void 0?r<s?1:-1:e.toFinite(l);const u=Math.max(Math.ceil((s-r)/(l||1)),0),h=new Array(u);for(let f=0;f<u;f++)h[f]=r,r+=l;return h}n.range=i})(zv)),zv}var Hv,UC;function EH(){return UC||(UC=1,Hv=_H().range),Hv}var xH=EH();const RP=zr(xH);function Ta(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function CH(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ob(n){let t,e,i;n.length!==2?(t=Ta,e=(u,h)=>Ta(n(u),h),i=(u,h)=>n(u)-h):(t=n===Ta||n===CH?n:TH,e=n,i=n);function r(u,h,f=0,d=u.length){if(f<d){if(t(h,h)!==0)return d;do{const g=f+d>>>1;e(u[g],h)<0?f=g+1:d=g}while(f<d)}return f}function s(u,h,f=0,d=u.length){if(f<d){if(t(h,h)!==0)return d;do{const g=f+d>>>1;e(u[g],h)<=0?f=g+1:d=g}while(f<d)}return f}function l(u,h,f=0,d=u.length){const g=r(u,h,f,d-1);return g>f&&i(u[g-1],h)>-i(u[g],h)?g-1:g}return{left:r,center:l,right:s}}function TH(){return 0}function kP(n){return n===null?NaN:+n}function*OH(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const MH=ob(Ta),nc=MH.right;ob(kP).center;class HC extends Map{constructor(t,e=RH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(qC(this,t))}has(t){return super.has(qC(this,t))}set(t,e){return super.set(DH(this,t),e)}delete(t){return super.delete(PH(this,t))}}function qC({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function DH({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function PH({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function RH(n){return n!==null&&typeof n=="object"?n.valueOf():n}function kH(n=Ta){if(n===Ta)return NP;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const i=n(t,e);return i||i===0?i:(n(e,e)===0)-(n(t,t)===0)}}function NP(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const NH=Math.sqrt(50),LH=Math.sqrt(10),IH=Math.sqrt(2);function zf(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),l=s>=NH?10:s>=LH?5:s>=IH?2:1;let u,h,f;return r<0?(f=Math.pow(10,-r)/l,u=Math.round(n*f),h=Math.round(t*f),u/f<n&&++u,h/f>t&&--h,f=-f):(f=Math.pow(10,r)*l,u=Math.round(n/f),h=Math.round(t/f),u*f<n&&++u,h*f>t&&--h),h<u&&.5<=e&&e<2?zf(n,t,e*2):[u,h,f]}function n0(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const i=t<n,[r,s,l]=i?zf(t,n,e):zf(n,t,e);if(!(s>=r))return[];const u=s-r+1,h=new Array(u);if(i)if(l<0)for(let f=0;f<u;++f)h[f]=(s-f)/-l;else for(let f=0;f<u;++f)h[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)h[f]=(r+f)/-l;else for(let f=0;f<u;++f)h[f]=(r+f)*l;return h}function i0(n,t,e){return t=+t,n=+n,e=+e,zf(n,t,e)[2]}function r0(n,t,e){t=+t,n=+n,e=+e;const i=t<n,r=i?i0(t,n,e):i0(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}function $C(n,t){let e;for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);return e}function GC(n,t){let e;for(const i of n)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);return e}function LP(n,t,e=0,i=1/0,r){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),i=Math.floor(Math.min(n.length-1,i)),!(e<=t&&t<=i))return n;for(r=r===void 0?NP:kH(r);i>e;){if(i-e>600){const h=i-e+1,f=t-e+1,d=Math.log(h),g=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*g*(h-g)/h)*(f-h/2<0?-1:1),y=Math.max(e,Math.floor(t-f*g/h+m)),A=Math.min(i,Math.floor(t+(h-f)*g/h+m));LP(n,t,y,A,r)}const s=n[t];let l=e,u=i;for(ru(n,e,t),r(n[i],s)>0&&ru(n,e,i);l<u;){for(ru(n,l,u),++l,--u;r(n[l],s)<0;)++l;for(;r(n[u],s)>0;)--u}r(n[e],s)===0?ru(n,e,u):(++u,ru(n,u,i)),u<=t&&(e=u+1),t<=u&&(i=u-1)}return n}function ru(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function jH(n,t,e){if(n=Float64Array.from(OH(n)),!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return GC(n);if(t>=1)return $C(n);var i,r=(i-1)*t,s=Math.floor(r),l=$C(LP(n,s).subarray(0,s+1)),u=GC(n.subarray(s+1));return l+(u-l)*(r-s)}}function BH(n,t,e=kP){if(!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return+e(n[0],0,n);if(t>=1)return+e(n[i-1],i-1,n);var i,r=(i-1)*t,s=Math.floor(r),l=+e(n[s],s,n),u=+e(n[s+1],s+1,n);return l+(u-l)*(r-s)}}function zH(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,s=new Array(r);++i<r;)s[i]=n+i*e;return s}function xi(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function qr(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const a0=Symbol("implicit");function lb(){var n=new HC,t=[],e=[],i=a0;function r(s){let l=n.get(s);if(l===void 0){if(i!==a0)return i;n.set(s,l=t.push(s)-1)}return e[l%e.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],n=new HC;for(const l of s)n.has(l)||n.set(l,t.push(l)-1);return r},r.range=function(s){return arguments.length?(e=Array.from(s),r):e.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return lb(t,e).unknown(i)},xi.apply(r,arguments),r}function ub(){var n=lb().unknown(void 0),t=n.domain,e=n.range,i=0,r=1,s,l,u=!1,h=0,f=0,d=.5;delete n.unknown;function g(){var m=t().length,y=r<i,A=y?r:i,w=y?i:r;s=(w-A)/Math.max(1,m-h+f*2),u&&(s=Math.floor(s)),A+=(w-A-s*(m-h))*d,l=s*(1-h),u&&(A=Math.round(A),l=Math.round(l));var S=zH(m).map(function(_){return A+s*_});return e(y?S.reverse():S)}return n.domain=function(m){return arguments.length?(t(m),g()):t()},n.range=function(m){return arguments.length?([i,r]=m,i=+i,r=+r,g()):[i,r]},n.rangeRound=function(m){return[i,r]=m,i=+i,r=+r,u=!0,g()},n.bandwidth=function(){return l},n.step=function(){return s},n.round=function(m){return arguments.length?(u=!!m,g()):u},n.padding=function(m){return arguments.length?(h=Math.min(1,f=+m),g()):h},n.paddingInner=function(m){return arguments.length?(h=Math.min(1,m),g()):h},n.paddingOuter=function(m){return arguments.length?(f=+m,g()):f},n.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),g()):d},n.copy=function(){return ub(t(),[i,r]).round(u).paddingInner(h).paddingOuter(f).align(d)},xi.apply(g(),arguments)}function IP(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return IP(t())},n}function FH(){return IP(ub.apply(null,arguments).paddingInner(1))}function cb(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function jP(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function ic(){}var ku=.7,Ff=1/ku,No="\\s*([+-]?\\d+)\\s*",Nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UH=/^#([0-9a-f]{3,8})$/,HH=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),qH=new RegExp(`^rgb\\(${Qi},${Qi},${Qi}\\)$`),$H=new RegExp(`^rgba\\(${No},${No},${No},${Nu}\\)$`),GH=new RegExp(`^rgba\\(${Qi},${Qi},${Qi},${Nu}\\)$`),VH=new RegExp(`^hsl\\(${Nu},${Qi},${Qi}\\)$`),YH=new RegExp(`^hsla\\(${Nu},${Qi},${Qi},${Nu}\\)$`),VC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cb(ic,Lu,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:YC,formatHex:YC,formatHex8:XH,formatHsl:KH,formatRgb:XC,toString:XC});function YC(){return this.rgb().formatHex()}function XH(){return this.rgb().formatHex8()}function KH(){return BP(this).formatHsl()}function XC(){return this.rgb().formatRgb()}function Lu(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=UH.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?KC(t):e===3?new jn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Xh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Xh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HH.exec(n))?new jn(t[1],t[2],t[3],1):(t=qH.exec(n))?new jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$H.exec(n))?Xh(t[1],t[2],t[3],t[4]):(t=GH.exec(n))?Xh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VH.exec(n))?QC(t[1],t[2]/100,t[3]/100,1):(t=YH.exec(n))?QC(t[1],t[2]/100,t[3]/100,t[4]):VC.hasOwnProperty(n)?KC(VC[n]):n==="transparent"?new jn(NaN,NaN,NaN,0):null}function KC(n){return new jn(n>>16&255,n>>8&255,n&255,1)}function Xh(n,t,e,i){return i<=0&&(n=t=e=NaN),new jn(n,t,e,i)}function WH(n){return n instanceof ic||(n=Lu(n)),n?(n=n.rgb(),new jn(n.r,n.g,n.b,n.opacity)):new jn}function s0(n,t,e,i){return arguments.length===1?WH(n):new jn(n,t,e,i??1)}function jn(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}cb(jn,s0,jP(ic,{brighter(n){return n=n==null?Ff:Math.pow(Ff,n),new jn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ku:Math.pow(ku,n),new jn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new jn(ds(this.r),ds(this.g),ds(this.b),Uf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WC,formatHex:WC,formatHex8:ZH,formatRgb:ZC,toString:ZC}));function WC(){return`#${ss(this.r)}${ss(this.g)}${ss(this.b)}`}function ZH(){return`#${ss(this.r)}${ss(this.g)}${ss(this.b)}${ss((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZC(){const n=Uf(this.opacity);return`${n===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${n===1?")":`, ${n})`}`}function Uf(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function ds(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ss(n){return n=ds(n),(n<16?"0":"")+n.toString(16)}function QC(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Ri(n,t,e,i)}function BP(n){if(n instanceof Ri)return new Ri(n.h,n.s,n.l,n.opacity);if(n instanceof ic||(n=Lu(n)),!n)return new Ri;if(n instanceof Ri)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),l=NaN,u=s-r,h=(s+r)/2;return u?(t===s?l=(e-i)/u+(e<i)*6:e===s?l=(i-t)/u+2:l=(t-e)/u+4,u/=h<.5?s+r:2-s-r,l*=60):u=h>0&&h<1?0:l,new Ri(l,u,h,n.opacity)}function QH(n,t,e,i){return arguments.length===1?BP(n):new Ri(n,t,e,i??1)}function Ri(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}cb(Ri,QH,jP(ic,{brighter(n){return n=n==null?Ff:Math.pow(Ff,n),new Ri(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ku:Math.pow(ku,n),new Ri(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new jn(qv(n>=240?n-240:n+120,r,i),qv(n,r,i),qv(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Ri(JC(this.h),Kh(this.s),Kh(this.l),Uf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Uf(this.opacity);return`${n===1?"hsl(":"hsla("}${JC(this.h)}, ${Kh(this.s)*100}%, ${Kh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function JC(n){return n=(n||0)%360,n<0?n+360:n}function Kh(n){return Math.max(0,Math.min(1,n||0))}function qv(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const hb=n=>()=>n;function JH(n,t){return function(e){return n+e*t}}function t6(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function e6(n){return(n=+n)==1?zP:function(t,e){return e-t?t6(t,e,n):hb(isNaN(t)?e:t)}}function zP(n,t){var e=t-n;return e?JH(n,e):hb(isNaN(n)?t:n)}const tT=(function n(t){var e=e6(t);function i(r,s){var l=e((r=s0(r)).r,(s=s0(s)).r),u=e(r.g,s.g),h=e(r.b,s.b),f=zP(r.opacity,s.opacity);return function(d){return r.r=l(d),r.g=u(d),r.b=h(d),r.opacity=f(d),r+""}}return i.gamma=n,i})(1);function n6(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,i=t.slice(),r;return function(s){for(r=0;r<e;++r)i[r]=n[r]*(1-s)+t[r]*s;return i}}function i6(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function r6(n,t){var e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),s=new Array(e),l;for(l=0;l<i;++l)r[l]=Go(n[l],t[l]);for(;l<e;++l)s[l]=t[l];return function(u){for(l=0;l<i;++l)s[l]=r[l](u);return s}}function a6(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function Hf(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function s6(n,t){var e={},i={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=Go(n[r],t[r]):i[r]=t[r];return function(s){for(r in e)i[r]=e[r](s);return i}}var o0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$v=new RegExp(o0.source,"g");function o6(n){return function(){return n}}function l6(n){return function(t){return n(t)+""}}function u6(n,t){var e=o0.lastIndex=$v.lastIndex=0,i,r,s,l=-1,u=[],h=[];for(n=n+"",t=t+"";(i=o0.exec(n))&&(r=$v.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),u[l]?u[l]+=s:u[++l]=s),(i=i[0])===(r=r[0])?u[l]?u[l]+=r:u[++l]=r:(u[++l]=null,h.push({i:l,x:Hf(i,r)})),e=$v.lastIndex;return e<t.length&&(s=t.slice(e),u[l]?u[l]+=s:u[++l]=s),u.length<2?h[0]?l6(h[0].x):o6(t):(t=h.length,function(f){for(var d=0,g;d<t;++d)u[(g=h[d]).i]=g.x(f);return u.join("")})}function Go(n,t){var e=typeof t,i;return t==null||e==="boolean"?hb(t):(e==="number"?Hf:e==="string"?(i=Lu(t))?(t=i,tT):u6:t instanceof Lu?tT:t instanceof Date?a6:i6(t)?n6:Array.isArray(t)?r6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s6:Hf)(n,t)}function fb(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function c6(n,t){t===void 0&&(t=n,n=Go);for(var e=0,i=t.length-1,r=t[0],s=new Array(i<0?0:i);e<i;)s[e]=n(r,r=t[++e]);return function(l){var u=Math.max(0,Math.min(i-1,Math.floor(l*=i)));return s[u](l-u)}}function h6(n){return function(){return n}}function qf(n){return+n}var eT=[0,1];function bn(n){return n}function l0(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:h6(isNaN(t)?NaN:.5)}function f6(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}function d6(n,t,e){var i=n[0],r=n[1],s=t[0],l=t[1];return r<i?(i=l0(r,i),s=e(l,s)):(i=l0(i,r),s=e(s,l)),function(u){return s(i(u))}}function p6(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),s=new Array(i),l=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=l0(n[l],n[l+1]),s[l]=e(t[l],t[l+1]);return function(u){var h=nc(n,u,1,i)-1;return s[h](r[h](u))}}function rc(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function zd(){var n=eT,t=eT,e=Go,i,r,s,l=bn,u,h,f;function d(){var m=Math.min(n.length,t.length);return l!==bn&&(l=f6(n[0],n[m-1])),u=m>2?p6:d6,h=f=null,g}function g(m){return m==null||isNaN(m=+m)?s:(h||(h=u(n.map(i),t,e)))(i(l(m)))}return g.invert=function(m){return l(r((f||(f=u(t,n.map(i),Hf)))(m)))},g.domain=function(m){return arguments.length?(n=Array.from(m,qf),d()):n.slice()},g.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},g.rangeRound=function(m){return t=Array.from(m),e=fb,d()},g.clamp=function(m){return arguments.length?(l=m?!0:bn,d()):l!==bn},g.interpolate=function(m){return arguments.length?(e=m,d()):e},g.unknown=function(m){return arguments.length?(s=m,g):s},function(m,y){return i=m,r=y,d()}}function db(){return zd()(bn,bn)}function g6(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function $f(n,t){if(!isFinite(n)||n===0)return null;var e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"),i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function zo(n){return n=$f(Math.abs(n)),n?n[1]:NaN}function m6(n,t){return function(e,i){for(var r=e.length,s=[],l=0,u=n[0],h=0;r>0&&u>0&&(h+u+1>i&&(u=Math.max(1,i-h)),s.push(e.substring(r-=u,r+u)),!((h+=u+1)>i));)u=n[l=(l+1)%n.length];return s.reverse().join(t)}}function v6(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var y6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iu(n){if(!(t=y6.exec(n)))throw new Error("invalid format: "+n);var t;return new pb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Iu.prototype=pb.prototype;function pb(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function b6(n){t:for(var t=n.length,e=1,i=-1,r;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+n[e])break t;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var Gf;function A6(n,t){var e=$f(n,t);if(!e)return Gf=void 0,n.toPrecision(t);var i=e[0],r=e[1],s=r-(Gf=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+$f(n,Math.max(0,t+s-1))[0]}function nT(n,t){var e=$f(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const iT={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:g6,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>nT(n*100,t),r:nT,s:A6,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function rT(n){return n}var aT=Array.prototype.map,sT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w6(n){var t=n.grouping===void 0||n.thousands===void 0?rT:m6(aT.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?rT:v6(aT.call(n.numerals,String)),l=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"":n.minus+"",h=n.nan===void 0?"NaN":n.nan+"";function f(g,m){g=Iu(g);var y=g.fill,A=g.align,w=g.sign,S=g.symbol,_=g.zero,C=g.width,x=g.comma,O=g.precision,M=g.trim,D=g.type;D==="n"?(x=!0,D="g"):iT[D]||(O===void 0&&(O=12),M=!0,D="g"),(_||y==="0"&&A==="=")&&(_=!0,y="0",A="=");var R=(m&&m.prefix!==void 0?m.prefix:"")+(S==="$"?e:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),L=(S==="$"?i:/[%p]/.test(D)?l:"")+(m&&m.suffix!==void 0?m.suffix:""),z=iT[D],K=/[defgprs%]/.test(D);O=O===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function G(U){var st=R,it=L,lt,I,F;if(D==="c")it=z(U)+it,U="";else{U=+U;var et=U<0||1/U<0;if(U=isNaN(U)?h:z(Math.abs(U),O),M&&(U=b6(U)),et&&+U==0&&w!=="+"&&(et=!1),st=(et?w==="("?w:u:w==="-"||w==="("?"":w)+st,it=(D==="s"&&!isNaN(U)&&Gf!==void 0?sT[8+Gf/3]:"")+it+(et&&w==="("?")":""),K){for(lt=-1,I=U.length;++lt<I;)if(F=U.charCodeAt(lt),48>F||F>57){it=(F===46?r+U.slice(lt+1):U.slice(lt))+it,U=U.slice(0,lt);break}}}x&&!_&&(U=t(U,1/0));var at=st.length+U.length+it.length,dt=at<C?new Array(C-at+1).join(y):"";switch(x&&_&&(U=t(dt+U,dt.length?C-it.length:1/0),dt=""),A){case"<":U=st+U+it+dt;break;case"=":U=st+dt+U+it;break;case"^":U=dt.slice(0,at=dt.length>>1)+st+U+it+dt.slice(at);break;default:U=dt+st+U+it;break}return s(U)}return G.toString=function(){return g+""},G}function d(g,m){var y=Math.max(-8,Math.min(8,Math.floor(zo(m)/3)))*3,A=Math.pow(10,-y),w=f((g=Iu(g),g.type="f",g),{suffix:sT[8+y/3]});return function(S){return w(A*S)}}return{format:f,formatPrefix:d}}var Wh,gb,FP;S6({thousands:",",grouping:[3],currency:["$",""]});function S6(n){return Wh=w6(n),gb=Wh.format,FP=Wh.formatPrefix,Wh}function _6(n){return Math.max(0,-zo(Math.abs(n)))}function E6(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zo(t)/3)))*3-zo(Math.abs(n)))}function x6(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,zo(t)-zo(n))+1}function UP(n,t,e,i){var r=r0(n,t,e),s;switch(i=Iu(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(s=E6(r,l))&&(i.precision=s),FP(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=x6(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=_6(r))&&(i.precision=s-(i.type==="%")*2);break}}return gb(i)}function ka(n){var t=n.domain;return n.ticks=function(e){var i=t();return n0(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return UP(r[0],r[r.length-1],e??10,i)},n.nice=function(e){e==null&&(e=10);var i=t(),r=0,s=i.length-1,l=i[r],u=i[s],h,f,d=10;for(u<l&&(f=l,l=u,u=f,f=r,r=s,s=f);d-- >0;){if(f=i0(l,u,e),f===h)return i[r]=l,i[s]=u,t(i);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;h=f}return n},n}function HP(){var n=db();return n.copy=function(){return rc(n,HP())},xi.apply(n,arguments),ka(n)}function qP(n){var t;function e(i){return i==null||isNaN(i=+i)?t:i}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(n=Array.from(i,qf),e):n.slice()},e.unknown=function(i){return arguments.length?(t=i,e):t},e.copy=function(){return qP(n).unknown(t)},n=arguments.length?Array.from(n,qf):[0,1],ka(e)}function $P(n,t){n=n.slice();var e=0,i=n.length-1,r=n[e],s=n[i],l;return s<r&&(l=e,e=i,i=l,l=r,r=s,s=l),n[e]=t.floor(r),n[i]=t.ceil(s),n}function oT(n){return Math.log(n)}function lT(n){return Math.exp(n)}function C6(n){return-Math.log(-n)}function T6(n){return-Math.exp(-n)}function O6(n){return isFinite(n)?+("1e"+n):n<0?0:n}function M6(n){return n===10?O6:n===Math.E?Math.exp:t=>Math.pow(n,t)}function D6(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function uT(n){return(t,e)=>-n(-t,e)}function mb(n){const t=n(oT,lT),e=t.domain;let i=10,r,s;function l(){return r=D6(i),s=M6(i),e()[0]<0?(r=uT(r),s=uT(s),n(C6,T6)):n(oT,lT),t}return t.base=function(u){return arguments.length?(i=+u,l()):i},t.domain=function(u){return arguments.length?(e(u),l()):e()},t.ticks=u=>{const h=e();let f=h[0],d=h[h.length-1];const g=d<f;g&&([f,d]=[d,f]);let m=r(f),y=r(d),A,w;const S=u==null?10:+u;let _=[];if(!(i%1)&&y-m<S){if(m=Math.floor(m),y=Math.ceil(y),f>0){for(;m<=y;++m)for(A=1;A<i;++A)if(w=m<0?A/s(-m):A*s(m),!(w<f)){if(w>d)break;_.push(w)}}else for(;m<=y;++m)for(A=i-1;A>=1;--A)if(w=m>0?A/s(-m):A*s(m),!(w<f)){if(w>d)break;_.push(w)}_.length*2<S&&(_=n0(f,d,S))}else _=n0(m,y,Math.min(y-m,S)).map(s);return g?_.reverse():_},t.tickFormat=(u,h)=>{if(u==null&&(u=10),h==null&&(h=i===10?"s":","),typeof h!="function"&&(!(i%1)&&(h=Iu(h)).precision==null&&(h.trim=!0),h=gb(h)),u===1/0)return h;const f=Math.max(1,i*u/t.ticks().length);return d=>{let g=d/s(Math.round(r(d)));return g*i<i-.5&&(g*=i),g<=f?h(d):""}},t.nice=()=>e($P(e(),{floor:u=>s(Math.floor(r(u))),ceil:u=>s(Math.ceil(r(u)))})),t}function GP(){const n=mb(zd()).domain([1,10]);return n.copy=()=>rc(n,GP()).base(n.base()),xi.apply(n,arguments),n}function cT(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function hT(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function vb(n){var t=1,e=n(cT(t),hT(t));return e.constant=function(i){return arguments.length?n(cT(t=+i),hT(t)):t},ka(e)}function VP(){var n=vb(zd());return n.copy=function(){return rc(n,VP()).constant(n.constant())},xi.apply(n,arguments)}function fT(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function P6(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function R6(n){return n<0?-n*n:n*n}function yb(n){var t=n(bn,bn),e=1;function i(){return e===1?n(bn,bn):e===.5?n(P6,R6):n(fT(e),fT(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,i()):e},ka(t)}function bb(){var n=yb(zd());return n.copy=function(){return rc(n,bb()).exponent(n.exponent())},xi.apply(n,arguments),n}function k6(){return bb.apply(null,arguments).exponent(.5)}function dT(n){return Math.sign(n)*n*n}function N6(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function YP(){var n=db(),t=[0,1],e=!1,i;function r(s){var l=N6(n(s));return isNaN(l)?i:e?Math.round(l):l}return r.invert=function(s){return n.invert(dT(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((t=Array.from(s,qf)).map(dT)),r):t.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(e=!!s,r):e},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return YP(n.domain(),t).round(e).clamp(n.clamp()).unknown(i)},xi.apply(r,arguments),ka(r)}function XP(){var n=[],t=[],e=[],i;function r(){var l=0,u=Math.max(1,t.length);for(e=new Array(u-1);++l<u;)e[l-1]=BH(n,l/u);return s}function s(l){return l==null||isNaN(l=+l)?i:t[nc(e,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?e[u-1]:n[0],u<e.length?e[u]:n[n.length-1]]},s.domain=function(l){if(!arguments.length)return n.slice();n=[];for(let u of l)u!=null&&!isNaN(u=+u)&&n.push(u);return n.sort(Ta),r()},s.range=function(l){return arguments.length?(t=Array.from(l),r()):t.slice()},s.unknown=function(l){return arguments.length?(i=l,s):i},s.quantiles=function(){return e.slice()},s.copy=function(){return XP().domain(n).range(t).unknown(i)},xi.apply(s,arguments)}function KP(){var n=0,t=1,e=1,i=[.5],r=[0,1],s;function l(h){return h!=null&&h<=h?r[nc(i,h,0,e)]:s}function u(){var h=-1;for(i=new Array(e);++h<e;)i[h]=((h+1)*t-(h-e)*n)/(e+1);return l}return l.domain=function(h){return arguments.length?([n,t]=h,n=+n,t=+t,u()):[n,t]},l.range=function(h){return arguments.length?(e=(r=Array.from(h)).length-1,u()):r.slice()},l.invertExtent=function(h){var f=r.indexOf(h);return f<0?[NaN,NaN]:f<1?[n,i[0]]:f>=e?[i[e-1],t]:[i[f-1],i[f]]},l.unknown=function(h){return arguments.length&&(s=h),l},l.thresholds=function(){return i.slice()},l.copy=function(){return KP().domain([n,t]).range(r).unknown(s)},xi.apply(ka(l),arguments)}function WP(){var n=[.5],t=[0,1],e,i=1;function r(s){return s!=null&&s<=s?t[nc(n,s,0,i)]:e}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,t.length-1),r):n.slice()},r.range=function(s){return arguments.length?(t=Array.from(s),i=Math.min(n.length,t.length-1),r):t.slice()},r.invertExtent=function(s){var l=t.indexOf(s);return[n[l-1],n[l]]},r.unknown=function(s){return arguments.length?(e=s,r):e},r.copy=function(){return WP().domain(n).range(t).unknown(e)},xi.apply(r,arguments)}const Gv=new Date,Vv=new Date;function je(n,t,e,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const l=r(s),u=r.ceil(s);return s-l<u-s?l:u},r.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),r.range=(s,l,u)=>{const h=[];if(s=r.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return h;let f;do h.push(f=new Date(+s)),t(s,u),n(s);while(f<s&&s<l);return h},r.filter=s=>je(l=>{if(l>=l)for(;n(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),e&&(r.count=(s,l)=>(Gv.setTime(+s),Vv.setTime(+l),n(Gv),n(Vv),Math.floor(e(Gv,Vv))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?l=>i(l)%s===0:l=>r.count(0,l)%s===0):r)),r}const Vf=je(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Vf.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?je(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Vf);Vf.range;const Or=1e3,wi=Or*60,Mr=wi*60,Nr=Mr*24,Ab=Nr*7,pT=Nr*30,Yv=Nr*365,os=je(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Or)},(n,t)=>(t-n)/Or,n=>n.getUTCSeconds());os.range;const wb=je(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Or)},(n,t)=>{n.setTime(+n+t*wi)},(n,t)=>(t-n)/wi,n=>n.getMinutes());wb.range;const Sb=je(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*wi)},(n,t)=>(t-n)/wi,n=>n.getUTCMinutes());Sb.range;const _b=je(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Or-n.getMinutes()*wi)},(n,t)=>{n.setTime(+n+t*Mr)},(n,t)=>(t-n)/Mr,n=>n.getHours());_b.range;const Eb=je(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Mr)},(n,t)=>(t-n)/Mr,n=>n.getUTCHours());Eb.range;const ac=je(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*wi)/Nr,n=>n.getDate()-1);ac.range;const Fd=je(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Nr,n=>n.getUTCDate()-1);Fd.range;const ZP=je(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Nr,n=>Math.floor(n/Nr));ZP.range;function Ts(n){return je(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wi)/Ab)}const Ud=Ts(0),Yf=Ts(1),L6=Ts(2),I6=Ts(3),Fo=Ts(4),j6=Ts(5),B6=Ts(6);Ud.range;Yf.range;L6.range;I6.range;Fo.range;j6.range;B6.range;function Os(n){return je(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/Ab)}const Hd=Os(0),Xf=Os(1),z6=Os(2),F6=Os(3),Uo=Os(4),U6=Os(5),H6=Os(6);Hd.range;Xf.range;z6.range;F6.range;Uo.range;U6.range;H6.range;const xb=je(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());xb.range;const Cb=je(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Cb.range;const Lr=je(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Lr.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:je(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});Lr.range;const Ir=je(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Ir.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:je(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Ir.range;function QP(n,t,e,i,r,s){const l=[[os,1,Or],[os,5,5*Or],[os,15,15*Or],[os,30,30*Or],[s,1,wi],[s,5,5*wi],[s,15,15*wi],[s,30,30*wi],[r,1,Mr],[r,3,3*Mr],[r,6,6*Mr],[r,12,12*Mr],[i,1,Nr],[i,2,2*Nr],[e,1,Ab],[t,1,pT],[t,3,3*pT],[n,1,Yv]];function u(f,d,g){const m=d<f;m&&([f,d]=[d,f]);const y=g&&typeof g.range=="function"?g:h(f,d,g),A=y?y.range(f,+d+1):[];return m?A.reverse():A}function h(f,d,g){const m=Math.abs(d-f)/g,y=ob(([,,S])=>S).right(l,m);if(y===l.length)return n.every(r0(f/Yv,d/Yv,g));if(y===0)return Vf.every(Math.max(r0(f,d,g),1));const[A,w]=l[m/l[y-1][2]<l[y][2]/m?y-1:y];return A.every(w)}return[u,h]}const[q6,$6]=QP(Ir,Cb,Hd,ZP,Eb,Sb),[G6,V6]=QP(Lr,xb,Ud,ac,_b,wb);function Xv(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Kv(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function au(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function Y6(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,l=n.shortDays,u=n.months,h=n.shortMonths,f=su(r),d=ou(r),g=su(s),m=ou(s),y=su(l),A=ou(l),w=su(u),S=ou(u),_=su(h),C=ou(h),x={a:F,A:et,b:at,B:dt,c:null,d:AT,e:AT,f:m5,g:C5,G:O5,H:d5,I:p5,j:g5,L:JP,m:v5,M:y5,p:k,q:$,Q:_T,s:ET,S:b5,u:A5,U:w5,V:S5,w:_5,W:E5,x:null,X:null,y:x5,Y:T5,Z:M5,"%":ST},O={a:tt,A:rt,b:mt,B:At,c:null,d:wT,e:wT,f:k5,g:q5,G:G5,H:D5,I:P5,j:R5,L:e2,m:N5,M:L5,p:ut,q:ae,Q:_T,s:ET,S:I5,u:j5,U:B5,V:z5,w:F5,W:U5,x:null,X:null,y:H5,Y:$5,Z:V5,"%":ST},M={a:K,A:G,b:U,B:st,c:it,d:yT,e:yT,f:u5,g:vT,G:mT,H:bT,I:bT,j:a5,L:l5,m:r5,M:s5,p:z,q:i5,Q:h5,s:f5,S:o5,u:Q6,U:J6,V:t5,w:Z6,W:e5,x:lt,X:I,y:vT,Y:mT,Z:n5,"%":c5};x.x=D(e,x),x.X=D(i,x),x.c=D(t,x),O.x=D(e,O),O.X=D(i,O),O.c=D(t,O);function D(Z,_t){return function(Mt){var nt=[],xe=-1,kt=0,We=Z.length,Ze,rr,tl;for(Mt instanceof Date||(Mt=new Date(+Mt));++xe<We;)Z.charCodeAt(xe)===37&&(nt.push(Z.slice(kt,xe)),(rr=gT[Ze=Z.charAt(++xe)])!=null?Ze=Z.charAt(++xe):rr=Ze==="e"?" ":"0",(tl=_t[Ze])&&(Ze=tl(Mt,rr)),nt.push(Ze),kt=xe+1);return nt.push(Z.slice(kt,xe)),nt.join("")}}function R(Z,_t){return function(Mt){var nt=au(1900,void 0,1),xe=L(nt,Z,Mt+="",0),kt,We;if(xe!=Mt.length)return null;if("Q"in nt)return new Date(nt.Q);if("s"in nt)return new Date(nt.s*1e3+("L"in nt?nt.L:0));if(_t&&!("Z"in nt)&&(nt.Z=0),"p"in nt&&(nt.H=nt.H%12+nt.p*12),nt.m===void 0&&(nt.m="q"in nt?nt.q:0),"V"in nt){if(nt.V<1||nt.V>53)return null;"w"in nt||(nt.w=1),"Z"in nt?(kt=Kv(au(nt.y,0,1)),We=kt.getUTCDay(),kt=We>4||We===0?Xf.ceil(kt):Xf(kt),kt=Fd.offset(kt,(nt.V-1)*7),nt.y=kt.getUTCFullYear(),nt.m=kt.getUTCMonth(),nt.d=kt.getUTCDate()+(nt.w+6)%7):(kt=Xv(au(nt.y,0,1)),We=kt.getDay(),kt=We>4||We===0?Yf.ceil(kt):Yf(kt),kt=ac.offset(kt,(nt.V-1)*7),nt.y=kt.getFullYear(),nt.m=kt.getMonth(),nt.d=kt.getDate()+(nt.w+6)%7)}else("W"in nt||"U"in nt)&&("w"in nt||(nt.w="u"in nt?nt.u%7:"W"in nt?1:0),We="Z"in nt?Kv(au(nt.y,0,1)).getUTCDay():Xv(au(nt.y,0,1)).getDay(),nt.m=0,nt.d="W"in nt?(nt.w+6)%7+nt.W*7-(We+5)%7:nt.w+nt.U*7-(We+6)%7);return"Z"in nt?(nt.H+=nt.Z/100|0,nt.M+=nt.Z%100,Kv(nt)):Xv(nt)}}function L(Z,_t,Mt,nt){for(var xe=0,kt=_t.length,We=Mt.length,Ze,rr;xe<kt;){if(nt>=We)return-1;if(Ze=_t.charCodeAt(xe++),Ze===37){if(Ze=_t.charAt(xe++),rr=M[Ze in gT?_t.charAt(xe++):Ze],!rr||(nt=rr(Z,Mt,nt))<0)return-1}else if(Ze!=Mt.charCodeAt(nt++))return-1}return nt}function z(Z,_t,Mt){var nt=f.exec(_t.slice(Mt));return nt?(Z.p=d.get(nt[0].toLowerCase()),Mt+nt[0].length):-1}function K(Z,_t,Mt){var nt=y.exec(_t.slice(Mt));return nt?(Z.w=A.get(nt[0].toLowerCase()),Mt+nt[0].length):-1}function G(Z,_t,Mt){var nt=g.exec(_t.slice(Mt));return nt?(Z.w=m.get(nt[0].toLowerCase()),Mt+nt[0].length):-1}function U(Z,_t,Mt){var nt=_.exec(_t.slice(Mt));return nt?(Z.m=C.get(nt[0].toLowerCase()),Mt+nt[0].length):-1}function st(Z,_t,Mt){var nt=w.exec(_t.slice(Mt));return nt?(Z.m=S.get(nt[0].toLowerCase()),Mt+nt[0].length):-1}function it(Z,_t,Mt){return L(Z,t,_t,Mt)}function lt(Z,_t,Mt){return L(Z,e,_t,Mt)}function I(Z,_t,Mt){return L(Z,i,_t,Mt)}function F(Z){return l[Z.getDay()]}function et(Z){return s[Z.getDay()]}function at(Z){return h[Z.getMonth()]}function dt(Z){return u[Z.getMonth()]}function k(Z){return r[+(Z.getHours()>=12)]}function $(Z){return 1+~~(Z.getMonth()/3)}function tt(Z){return l[Z.getUTCDay()]}function rt(Z){return s[Z.getUTCDay()]}function mt(Z){return h[Z.getUTCMonth()]}function At(Z){return u[Z.getUTCMonth()]}function ut(Z){return r[+(Z.getUTCHours()>=12)]}function ae(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var _t=D(Z+="",x);return _t.toString=function(){return Z},_t},parse:function(Z){var _t=R(Z+="",!1);return _t.toString=function(){return Z},_t},utcFormat:function(Z){var _t=D(Z+="",O);return _t.toString=function(){return Z},_t},utcParse:function(Z){var _t=R(Z+="",!0);return _t.toString=function(){return Z},_t}}}var gT={"-":"",_:" ",0:"0"},Ye=/^\s*\d+/,X6=/^%/,K6=/[\\^$*+?|[\]().{}]/g;function Ht(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function W6(n){return n.replace(K6,"\\$&")}function su(n){return new RegExp("^(?:"+n.map(W6).join("|")+")","i")}function ou(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function Z6(n,t,e){var i=Ye.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function Q6(n,t,e){var i=Ye.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function J6(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function t5(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function e5(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function mT(n,t,e){var i=Ye.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function vT(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function n5(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function i5(n,t,e){var i=Ye.exec(t.slice(e,e+1));return i?(n.q=i[0]*3-3,e+i[0].length):-1}function r5(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function yT(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function a5(n,t,e){var i=Ye.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function bT(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function s5(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function o5(n,t,e){var i=Ye.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function l5(n,t,e){var i=Ye.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function u5(n,t,e){var i=Ye.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function c5(n,t,e){var i=X6.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function h5(n,t,e){var i=Ye.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function f5(n,t,e){var i=Ye.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function AT(n,t){return Ht(n.getDate(),t,2)}function d5(n,t){return Ht(n.getHours(),t,2)}function p5(n,t){return Ht(n.getHours()%12||12,t,2)}function g5(n,t){return Ht(1+ac.count(Lr(n),n),t,3)}function JP(n,t){return Ht(n.getMilliseconds(),t,3)}function m5(n,t){return JP(n,t)+"000"}function v5(n,t){return Ht(n.getMonth()+1,t,2)}function y5(n,t){return Ht(n.getMinutes(),t,2)}function b5(n,t){return Ht(n.getSeconds(),t,2)}function A5(n){var t=n.getDay();return t===0?7:t}function w5(n,t){return Ht(Ud.count(Lr(n)-1,n),t,2)}function t2(n){var t=n.getDay();return t>=4||t===0?Fo(n):Fo.ceil(n)}function S5(n,t){return n=t2(n),Ht(Fo.count(Lr(n),n)+(Lr(n).getDay()===4),t,2)}function _5(n){return n.getDay()}function E5(n,t){return Ht(Yf.count(Lr(n)-1,n),t,2)}function x5(n,t){return Ht(n.getFullYear()%100,t,2)}function C5(n,t){return n=t2(n),Ht(n.getFullYear()%100,t,2)}function T5(n,t){return Ht(n.getFullYear()%1e4,t,4)}function O5(n,t){var e=n.getDay();return n=e>=4||e===0?Fo(n):Fo.ceil(n),Ht(n.getFullYear()%1e4,t,4)}function M5(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ht(t/60|0,"0",2)+Ht(t%60,"0",2)}function wT(n,t){return Ht(n.getUTCDate(),t,2)}function D5(n,t){return Ht(n.getUTCHours(),t,2)}function P5(n,t){return Ht(n.getUTCHours()%12||12,t,2)}function R5(n,t){return Ht(1+Fd.count(Ir(n),n),t,3)}function e2(n,t){return Ht(n.getUTCMilliseconds(),t,3)}function k5(n,t){return e2(n,t)+"000"}function N5(n,t){return Ht(n.getUTCMonth()+1,t,2)}function L5(n,t){return Ht(n.getUTCMinutes(),t,2)}function I5(n,t){return Ht(n.getUTCSeconds(),t,2)}function j5(n){var t=n.getUTCDay();return t===0?7:t}function B5(n,t){return Ht(Hd.count(Ir(n)-1,n),t,2)}function n2(n){var t=n.getUTCDay();return t>=4||t===0?Uo(n):Uo.ceil(n)}function z5(n,t){return n=n2(n),Ht(Uo.count(Ir(n),n)+(Ir(n).getUTCDay()===4),t,2)}function F5(n){return n.getUTCDay()}function U5(n,t){return Ht(Xf.count(Ir(n)-1,n),t,2)}function H5(n,t){return Ht(n.getUTCFullYear()%100,t,2)}function q5(n,t){return n=n2(n),Ht(n.getUTCFullYear()%100,t,2)}function $5(n,t){return Ht(n.getUTCFullYear()%1e4,t,4)}function G5(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Uo(n):Uo.ceil(n),Ht(n.getUTCFullYear()%1e4,t,4)}function V5(){return"+0000"}function ST(){return"%"}function _T(n){return+n}function ET(n){return Math.floor(+n/1e3)}var vo,i2,r2;Y5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Y5(n){return vo=Y6(n),i2=vo.format,vo.parse,r2=vo.utcFormat,vo.utcParse,vo}function X5(n){return new Date(n)}function K5(n){return n instanceof Date?+n:+new Date(+n)}function Tb(n,t,e,i,r,s,l,u,h,f){var d=db(),g=d.invert,m=d.domain,y=f(".%L"),A=f(":%S"),w=f("%I:%M"),S=f("%I %p"),_=f("%a %d"),C=f("%b %d"),x=f("%B"),O=f("%Y");function M(D){return(h(D)<D?y:u(D)<D?A:l(D)<D?w:s(D)<D?S:i(D)<D?r(D)<D?_:C:e(D)<D?x:O)(D)}return d.invert=function(D){return new Date(g(D))},d.domain=function(D){return arguments.length?m(Array.from(D,K5)):m().map(X5)},d.ticks=function(D){var R=m();return n(R[0],R[R.length-1],D??10)},d.tickFormat=function(D,R){return R==null?M:f(R)},d.nice=function(D){var R=m();return(!D||typeof D.range!="function")&&(D=t(R[0],R[R.length-1],D??10)),D?m($P(R,D)):d},d.copy=function(){return rc(d,Tb(n,t,e,i,r,s,l,u,h,f))},d}function W5(){return xi.apply(Tb(G6,V6,Lr,xb,Ud,ac,_b,wb,os,i2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Z5(){return xi.apply(Tb(q6,$6,Ir,Cb,Hd,Fd,Eb,Sb,os,r2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qd(){var n=0,t=1,e,i,r,s,l=bn,u=!1,h;function f(g){return g==null||isNaN(g=+g)?h:l(r===0?.5:(g=(s(g)-e)*r,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([n,t]=g,e=s(n=+n),i=s(t=+t),r=e===i?0:1/(i-e),f):[n,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function d(g){return function(m){var y,A;return arguments.length?([y,A]=m,l=g(y,A),f):[l(0),l(1)]}}return f.range=d(Go),f.rangeRound=d(fb),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return s=g,e=g(n),i=g(t),r=e===i?0:1/(i-e),f}}function Na(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function a2(){var n=ka(qd()(bn));return n.copy=function(){return Na(n,a2())},qr.apply(n,arguments)}function s2(){var n=mb(qd()).domain([1,10]);return n.copy=function(){return Na(n,s2()).base(n.base())},qr.apply(n,arguments)}function o2(){var n=vb(qd());return n.copy=function(){return Na(n,o2()).constant(n.constant())},qr.apply(n,arguments)}function Ob(){var n=yb(qd());return n.copy=function(){return Na(n,Ob()).exponent(n.exponent())},qr.apply(n,arguments)}function Q5(){return Ob.apply(null,arguments).exponent(.5)}function l2(){var n=[],t=bn;function e(i){if(i!=null&&!isNaN(i=+i))return t((nc(n,i,1)-1)/(n.length-1))}return e.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Ta),e},e.interpolator=function(i){return arguments.length?(t=i,e):t},e.range=function(){return n.map((i,r)=>t(r/(n.length-1)))},e.quantiles=function(i){return Array.from({length:i+1},(r,s)=>jH(n,s/i))},e.copy=function(){return l2(t).domain(n)},qr.apply(e,arguments)}function $d(){var n=0,t=.5,e=1,i=1,r,s,l,u,h,f=bn,d,g=!1,m;function y(w){return isNaN(w=+w)?m:(w=.5+((w=+d(w))-s)*(i*w<i*s?u:h),f(g?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([n,t,e]=w,r=d(n=+n),s=d(t=+t),l=d(e=+e),u=r===s?0:.5/(s-r),h=s===l?0:.5/(l-s),i=s<r?-1:1,y):[n,t,e]},y.clamp=function(w){return arguments.length?(g=!!w,y):g},y.interpolator=function(w){return arguments.length?(f=w,y):f};function A(w){return function(S){var _,C,x;return arguments.length?([_,C,x]=S,f=c6(w,[_,C,x]),y):[f(0),f(.5),f(1)]}}return y.range=A(Go),y.rangeRound=A(fb),y.unknown=function(w){return arguments.length?(m=w,y):m},function(w){return d=w,r=w(n),s=w(t),l=w(e),u=r===s?0:.5/(s-r),h=s===l?0:.5/(l-s),i=s<r?-1:1,y}}function u2(){var n=ka($d()(bn));return n.copy=function(){return Na(n,u2())},qr.apply(n,arguments)}function c2(){var n=mb($d()).domain([.1,1,10]);return n.copy=function(){return Na(n,c2()).base(n.base())},qr.apply(n,arguments)}function h2(){var n=vb($d());return n.copy=function(){return Na(n,h2()).constant(n.constant())},qr.apply(n,arguments)}function Mb(){var n=yb($d());return n.copy=function(){return Na(n,Mb()).exponent(n.exponent())},qr.apply(n,arguments)}function J5(){return Mb.apply(null,arguments).exponent(.5)}const du=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ub,scaleDiverging:u2,scaleDivergingLog:c2,scaleDivergingPow:Mb,scaleDivergingSqrt:J5,scaleDivergingSymlog:h2,scaleIdentity:qP,scaleImplicit:a0,scaleLinear:HP,scaleLog:GP,scaleOrdinal:lb,scalePoint:FH,scalePow:bb,scaleQuantile:XP,scaleQuantize:KP,scaleRadial:YP,scaleSequential:a2,scaleSequentialLog:s2,scaleSequentialPow:Ob,scaleSequentialQuantile:l2,scaleSequentialSqrt:Q5,scaleSequentialSymlog:o2,scaleSqrt:k6,scaleSymlog:VP,scaleThreshold:WP,scaleTime:W5,scaleUtc:Z5,tickFormat:UP},Symbol.toStringTag,{value:"Module"}));var La=n=>n.chartData,tq=X([La],n=>{var t=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:t,dataStartIndex:0}}),Db=(n,t,e,i)=>i?tq(n):La(n);function jr(n){if(Array.isArray(n)&&n.length===2){var[t,e]=n;if(Ut(t)&&Ut(e))return!0}return!1}function xT(n,t,e){return e?n:[Math.min(n[0],t[0]),Math.max(n[1],t[1])]}function f2(n,t){if(t&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[e,i]=n,r,s;if(Ut(e))r=e;else if(typeof e=="function")return;if(Ut(i))s=i;else if(typeof i=="function")return;var l=[r,s];if(jr(l))return l}}function eq(n,t,e){if(!(!e&&t==null)){if(typeof n=="function"&&t!=null)try{var i=n(t,e);if(jr(i))return xT(i,t,e)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,l,u;if(r==="auto")t!=null&&(l=Math.min(...t));else if(vt(r))l=r;else if(typeof r=="function")try{t!=null&&(l=r(t?.[0]))}catch{}else if(typeof r=="string"&&jx.test(r)){var h=jx.exec(r);if(h==null||h[1]==null||t==null)l=void 0;else{var f=+h[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(vt(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&Bx.test(s)){var d=Bx.exec(s);if(d==null||d[1]==null||t==null)u=void 0;else{var g=+d[1];u=t[1]+g}}else u=t?.[1];var m=[l,u];if(jr(m))return t==null?m:xT(m,t,e)}}}var Vo=1e9,nq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rb,de=!0,Ei="[DecimalError] ",ps=Ei+"Invalid argument: ",Pb=Ei+"Exponent out of range: ",Yo=Math.floor,is=Math.pow,iq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ti,Ge=1e7,le=7,d2=9007199254740991,Kf=Yo(d2/le),ht={};ht.absoluteValue=ht.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};ht.comparedTo=ht.cmp=function(n){var t,e,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,t=0,e=i<r?i:r;t<e;++t)if(s.d[t]!==n.d[t])return s.d[t]>n.d[t]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var n=this,t=n.d.length-1,e=(t-n.e)*le;if(t=n.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};ht.dividedBy=ht.div=function(n){return Dr(this,new this.constructor(n))};ht.dividedToIntegerBy=ht.idiv=function(n){var t=this,e=t.constructor;return ne(Dr(t,new e(n),0,1),e.precision)};ht.equals=ht.eq=function(n){return!this.cmp(n)};ht.exponent=function(){return Re(this)};ht.greaterThan=ht.gt=function(n){return this.cmp(n)>0};ht.greaterThanOrEqualTo=ht.gte=function(n){return this.cmp(n)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(n){return this.cmp(n)<0};ht.lessThanOrEqualTo=ht.lte=function(n){return this.cmp(n)<1};ht.logarithm=ht.log=function(n){var t,e=this,i=e.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(ti))throw Error(Ei+"NaN");if(e.s<1)throw Error(Ei+(e.s?"NaN":"-Infinity"));return e.eq(ti)?new i(0):(de=!1,t=Dr(ju(e,s),ju(n,s),s),de=!0,ne(t,r))};ht.minus=ht.sub=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?m2(t,n):p2(t,(n.s=-n.s,n))};ht.modulo=ht.mod=function(n){var t,e=this,i=e.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(Ei+"NaN");return e.s?(de=!1,t=Dr(e,n,0,1).times(n),de=!0,e.minus(t)):ne(new i(e),r)};ht.naturalExponential=ht.exp=function(){return g2(this)};ht.naturalLogarithm=ht.ln=function(){return ju(this)};ht.negated=ht.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};ht.plus=ht.add=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?p2(t,n):m2(t,(n.s=-n.s,n))};ht.precision=ht.sd=function(n){var t,e,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(ps+n);if(t=Re(r)+1,i=r.d.length-1,e=i*le+1,i=r.d[i],i){for(;i%10==0;i/=10)e--;for(i=r.d[0];i>=10;i/=10)e++}return n&&t>e?t:e};ht.squareRoot=ht.sqrt=function(){var n,t,e,i,r,s,l,u=this,h=u.constructor;if(u.s<1){if(!u.s)return new h(0);throw Error(Ei+"NaN")}for(n=Re(u),de=!1,r=Math.sqrt(+u),r==0||r==1/0?(t=Zi(u.d),(t.length+n)%2==0&&(t+="0"),r=Math.sqrt(t),n=Yo((n+1)/2)-(n<0||n%2),r==1/0?t="5e"+n:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),i=new h(t)):i=new h(r.toString()),e=h.precision,r=l=e+3;;)if(s=i,i=s.plus(Dr(u,s,l+2)).times(.5),Zi(s.d).slice(0,l)===(t=Zi(i.d)).slice(0,l)){if(t=t.slice(l-3,l+1),r==l&&t=="4999"){if(ne(s,e+1,0),s.times(s).eq(u)){i=s;break}}else if(t!="9999")break;l+=4}return de=!0,ne(i,e)};ht.times=ht.mul=function(n){var t,e,i,r,s,l,u,h,f,d=this,g=d.constructor,m=d.d,y=(n=new g(n)).d;if(!d.s||!n.s)return new g(0);for(n.s*=d.s,e=d.e+n.e,h=m.length,f=y.length,h<f&&(s=m,m=y,y=s,l=h,h=f,f=l),s=[],l=h+f,i=l;i--;)s.push(0);for(i=f;--i>=0;){for(t=0,r=h+i;r>i;)u=s[r]+y[i]*m[r-i-1]+t,s[r--]=u%Ge|0,t=u/Ge|0;s[r]=(s[r]+t)%Ge|0}for(;!s[--l];)s.pop();return t?++e:s.shift(),n.d=s,n.e=e,de?ne(n,g.precision):n};ht.toDecimalPlaces=ht.todp=function(n,t){var e=this,i=e.constructor;return e=new i(e),n===void 0?e:(ir(n,0,Vo),t===void 0?t=i.rounding:ir(t,0,8),ne(e,n+Re(e)+1,t))};ht.toExponential=function(n,t){var e,i=this,r=i.constructor;return n===void 0?e=_s(i,!0):(ir(n,0,Vo),t===void 0?t=r.rounding:ir(t,0,8),i=ne(new r(i),n+1,t),e=_s(i,!0,n+1)),e};ht.toFixed=function(n,t){var e,i,r=this,s=r.constructor;return n===void 0?_s(r):(ir(n,0,Vo),t===void 0?t=s.rounding:ir(t,0,8),i=ne(new s(r),n+Re(r)+1,t),e=_s(i.abs(),!1,n+Re(i)+1),r.isneg()&&!r.isZero()?"-"+e:e)};ht.toInteger=ht.toint=function(){var n=this,t=n.constructor;return ne(new t(n),Re(n)+1,t.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(n){var t,e,i,r,s,l,u=this,h=u.constructor,f=12,d=+(n=new h(n));if(!n.s)return new h(ti);if(u=new h(u),!u.s){if(n.s<1)throw Error(Ei+"Infinity");return u}if(u.eq(ti))return u;if(i=h.precision,n.eq(ti))return ne(u,i);if(t=n.e,e=n.d.length-1,l=t>=e,s=u.s,l){if((e=d<0?-d:d)<=d2){for(r=new h(ti),t=Math.ceil(i/le+4),de=!1;e%2&&(r=r.times(u),TT(r.d,t)),e=Yo(e/2),e!==0;)u=u.times(u),TT(u.d,t);return de=!0,n.s<0?new h(ti).div(r):ne(r,i)}}else if(s<0)throw Error(Ei+"NaN");return s=s<0&&n.d[Math.max(t,e)]&1?-1:1,u.s=1,de=!1,r=n.times(ju(u,i+f)),de=!0,r=g2(r),r.s=s,r};ht.toPrecision=function(n,t){var e,i,r=this,s=r.constructor;return n===void 0?(e=Re(r),i=_s(r,e<=s.toExpNeg||e>=s.toExpPos)):(ir(n,1,Vo),t===void 0?t=s.rounding:ir(t,0,8),r=ne(new s(r),n,t),e=Re(r),i=_s(r,n<=e||e<=s.toExpNeg,n)),i};ht.toSignificantDigits=ht.tosd=function(n,t){var e=this,i=e.constructor;return n===void 0?(n=i.precision,t=i.rounding):(ir(n,1,Vo),t===void 0?t=i.rounding:ir(t,0,8)),ne(new i(e),n,t)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,t=Re(n),e=n.constructor;return _s(n,t<=e.toExpNeg||t>=e.toExpPos)};function p2(n,t){var e,i,r,s,l,u,h,f,d=n.constructor,g=d.precision;if(!n.s||!t.s)return t.s||(t=new d(n)),de?ne(t,g):t;if(h=n.d,f=t.d,l=n.e,r=t.e,h=h.slice(),s=l-r,s){for(s<0?(i=h,s=-s,u=f.length):(i=f,r=l,u=h.length),l=Math.ceil(g/le),u=l>u?l+1:u+1,s>u&&(s=u,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(u=h.length,s=f.length,u-s<0&&(s=u,i=f,f=h,h=i),e=0;s;)e=(h[--s]=h[s]+f[s]+e)/Ge|0,h[s]%=Ge;for(e&&(h.unshift(e),++r),u=h.length;h[--u]==0;)h.pop();return t.d=h,t.e=r,de?ne(t,g):t}function ir(n,t,e){if(n!==~~n||n<t||n>e)throw Error(ps+n)}function Zi(n){var t,e,i,r=n.length-1,s="",l=n[0];if(r>0){for(s+=l,t=1;t<r;t++)i=n[t]+"",e=le-i.length,e&&(s+=Aa(e)),s+=i;l=n[t],i=l+"",e=le-i.length,e&&(s+=Aa(e))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Dr=(function(){function n(i,r){var s,l=0,u=i.length;for(i=i.slice();u--;)s=i[u]*r+l,i[u]=s%Ge|0,l=s/Ge|0;return l&&i.unshift(l),i}function t(i,r,s,l){var u,h;if(s!=l)h=s>l?1:-1;else for(u=h=0;u<s;u++)if(i[u]!=r[u]){h=i[u]>r[u]?1:-1;break}return h}function e(i,r,s){for(var l=0;s--;)i[s]-=l,l=i[s]<r[s]?1:0,i[s]=l*Ge+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,l){var u,h,f,d,g,m,y,A,w,S,_,C,x,O,M,D,R,L,z=i.constructor,K=i.s==r.s?1:-1,G=i.d,U=r.d;if(!i.s)return new z(i);if(!r.s)throw Error(Ei+"Division by zero");for(h=i.e-r.e,R=U.length,M=G.length,y=new z(K),A=y.d=[],f=0;U[f]==(G[f]||0);)++f;if(U[f]>(G[f]||0)&&--h,s==null?C=s=z.precision:l?C=s+(Re(i)-Re(r))+1:C=s,C<0)return new z(0);if(C=C/le+2|0,f=0,R==1)for(d=0,U=U[0],C++;(f<M||d)&&C--;f++)x=d*Ge+(G[f]||0),A[f]=x/U|0,d=x%U|0;else{for(d=Ge/(U[0]+1)|0,d>1&&(U=n(U,d),G=n(G,d),R=U.length,M=G.length),O=R,w=G.slice(0,R),S=w.length;S<R;)w[S++]=0;L=U.slice(),L.unshift(0),D=U[0],U[1]>=Ge/2&&++D;do d=0,u=t(U,w,R,S),u<0?(_=w[0],R!=S&&(_=_*Ge+(w[1]||0)),d=_/D|0,d>1?(d>=Ge&&(d=Ge-1),g=n(U,d),m=g.length,S=w.length,u=t(g,w,m,S),u==1&&(d--,e(g,R<m?L:U,m))):(d==0&&(u=d=1),g=U.slice()),m=g.length,m<S&&g.unshift(0),e(w,g,S),u==-1&&(S=w.length,u=t(U,w,R,S),u<1&&(d++,e(w,R<S?L:U,S))),S=w.length):u===0&&(d++,w=[0]),A[f++]=d,u&&w[0]?w[S++]=G[O]||0:(w=[G[O]],S=1);while((O++<M||w[0]!==void 0)&&C--)}return A[0]||A.shift(),y.e=h,ne(y,l?s+Re(y)+1:s)}})();function g2(n,t){var e,i,r,s,l,u,h=0,f=0,d=n.constructor,g=d.precision;if(Re(n)>16)throw Error(Pb+Re(n));if(!n.s)return new d(ti);for(de=!1,u=g,l=new d(.03125);n.abs().gte(.1);)n=n.times(l),f+=5;for(i=Math.log(is(2,f))/Math.LN10*2+5|0,u+=i,e=r=s=new d(ti),d.precision=u;;){if(r=ne(r.times(n),u),e=e.times(++h),l=s.plus(Dr(r,e,u)),Zi(l.d).slice(0,u)===Zi(s.d).slice(0,u)){for(;f--;)s=ne(s.times(s),u);return d.precision=g,t==null?(de=!0,ne(s,g)):s}s=l}}function Re(n){for(var t=n.e*le,e=n.d[0];e>=10;e/=10)t++;return t}function Wv(n,t,e){if(t>n.LN10.sd())throw de=!0,e&&(n.precision=e),Error(Ei+"LN10 precision limit exceeded");return ne(new n(n.LN10),t)}function Aa(n){for(var t="";n--;)t+="0";return t}function ju(n,t){var e,i,r,s,l,u,h,f,d,g=1,m=10,y=n,A=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(Ei+(y.s?"NaN":"-Infinity"));if(y.eq(ti))return new w(0);if(t==null?(de=!1,f=S):f=t,y.eq(10))return t==null&&(de=!0),Wv(w,f);if(f+=m,w.precision=f,e=Zi(A),i=e.charAt(0),s=Re(y),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&e.charAt(1)>3;)y=y.times(n),e=Zi(y.d),i=e.charAt(0),g++;s=Re(y),i>1?(y=new w("0."+e),s++):y=new w(i+"."+e.slice(1))}else return h=Wv(w,f+2,S).times(s+""),y=ju(new w(i+"."+e.slice(1)),f-m).plus(h),w.precision=S,t==null?(de=!0,ne(y,S)):y;for(u=l=y=Dr(y.minus(ti),y.plus(ti),f),d=ne(y.times(y),f),r=3;;){if(l=ne(l.times(d),f),h=u.plus(Dr(l,new w(r),f)),Zi(h.d).slice(0,f)===Zi(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(Wv(w,f+2,S).times(s+""))),u=Dr(u,new w(g),f),w.precision=S,t==null?(de=!0,ne(u,S)):u;u=h,r+=2}}function CT(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;t.charCodeAt(i)===48;)++i;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(i,r),t){if(r-=i,e=e-i-1,n.e=Yo(e/le),n.d=[],i=(e+1)%le,e<0&&(i+=le),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=le;i<r;)n.d.push(+t.slice(i,i+=le));t=t.slice(i),i=le-t.length}else i-=r;for(;i--;)t+="0";if(n.d.push(+t),de&&(n.e>Kf||n.e<-Kf))throw Error(Pb+e)}else n.s=0,n.e=0,n.d=[0];return n}function ne(n,t,e){var i,r,s,l,u,h,f,d,g=n.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(i=t-l,i<0)i+=le,r=t,f=g[d=0];else{if(d=Math.ceil((i+1)/le),s=g.length,d>=s)return n;for(f=s=g[d],l=1;s>=10;s/=10)l++;i%=le,r=i-le+l}if(e!==void 0&&(s=is(10,l-r-1),u=f/s%10|0,h=t<0||g[d+1]!==void 0||f%s,h=e<4?(u||h)&&(e==0||e==(n.s<0?3:2)):u>5||u==5&&(e==4||h||e==6&&(i>0?r>0?f/is(10,l-r):0:g[d-1])%10&1||e==(n.s<0?8:7))),t<1||!g[0])return h?(s=Re(n),g.length=1,t=t-s-1,g[0]=is(10,(le-t%le)%le),n.e=Yo(-t/le)||0):(g.length=1,g[0]=n.e=n.s=0),n;if(i==0?(g.length=d,s=1,d--):(g.length=d+1,s=is(10,le-i),g[d]=r>0?(f/is(10,l-r)%is(10,r)|0)*s:0),h)for(;;)if(d==0){(g[0]+=s)==Ge&&(g[0]=1,++n.e);break}else{if(g[d]+=s,g[d]!=Ge)break;g[d--]=0,s=1}for(i=g.length;g[--i]===0;)g.pop();if(de&&(n.e>Kf||n.e<-Kf))throw Error(Pb+Re(n));return n}function m2(n,t){var e,i,r,s,l,u,h,f,d,g,m=n.constructor,y=m.precision;if(!n.s||!t.s)return t.s?t.s=-t.s:t=new m(n),de?ne(t,y):t;if(h=n.d,g=t.d,i=t.e,f=n.e,h=h.slice(),l=f-i,l){for(d=l<0,d?(e=h,l=-l,u=g.length):(e=g,i=f,u=h.length),r=Math.max(Math.ceil(y/le),u)+2,l>r&&(l=r,e.length=1),e.reverse(),r=l;r--;)e.push(0);e.reverse()}else{for(r=h.length,u=g.length,d=r<u,d&&(u=r),r=0;r<u;r++)if(h[r]!=g[r]){d=h[r]<g[r];break}l=0}for(d&&(e=h,h=g,g=e,t.s=-t.s),u=h.length,r=g.length-u;r>0;--r)h[u++]=0;for(r=g.length;r>l;){if(h[--r]<g[r]){for(s=r;s&&h[--s]===0;)h[s]=Ge-1;--h[s],h[r]+=Ge}h[r]-=g[r]}for(;h[--u]===0;)h.pop();for(;h[0]===0;h.shift())--i;return h[0]?(t.d=h,t.e=i,de?ne(t,y):t):new m(0)}function _s(n,t,e){var i,r=Re(n),s=Zi(n.d),l=s.length;return t?(e&&(i=e-l)>0?s=s.charAt(0)+"."+s.slice(1)+Aa(i):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+Aa(-r-1)+s,e&&(i=e-l)>0&&(s+=Aa(i))):r>=l?(s+=Aa(r+1-l),e&&(i=e-r-1)>0&&(s=s+"."+Aa(i))):((i=r+1)<l&&(s=s.slice(0,i)+"."+s.slice(i)),e&&(i=e-l)>0&&(r+1===l&&(s+="."),s+=Aa(i))),n.s<0?"-"+s:s}function TT(n,t){if(n.length>t)return n.length=t,!0}function v2(n){var t,e,i;function r(s){var l=this;if(!(l instanceof r))return new r(s);if(l.constructor=r,s instanceof r){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ps+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return CT(l,s.toString())}else if(typeof s!="string")throw Error(ps+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,iq.test(s))CT(l,s);else throw Error(ps+s)}if(r.prototype=ht,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=v2,r.config=r.set=rq,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}function rq(n){if(!n||typeof n!="object")throw Error(Ei+"Object expected");var t,e,i,r=["precision",1,Vo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((i=n[e=r[t]])!==void 0)if(Yo(i)===i&&i>=r[t+1]&&i<=r[t+2])this[e]=i;else throw Error(ps+e+": "+i);if((i=n[e="LN10"])!==void 0)if(i==Math.LN10)this[e]=new this(i);else throw Error(ps+e+": "+i);return this}var Rb=v2(nq);ti=new Rb(1);const Kt=Rb;function y2(n){var t;return n===0?t=1:t=Math.floor(new Kt(n).abs().log(10).toNumber())+1,t}function b2(n,t,e){for(var i=new Kt(n),r=0,s=[];i.lt(t)&&r<1e5;)s.push(i.toNumber()),i=i.add(e),r++;return s}var A2=n=>{var[t,e]=n,[i,r]=[t,e];return t>e&&([i,r]=[e,t]),[i,r]},w2=(n,t,e)=>{if(n.lte(0))return new Kt(0);var i=y2(n.toNumber()),r=new Kt(10).pow(i),s=n.div(r),l=i!==1?.05:.1,u=new Kt(Math.ceil(s.div(l).toNumber())).add(e).mul(l),h=u.mul(r);return t?new Kt(h.toNumber()):new Kt(Math.ceil(h.toNumber()))},aq=(n,t,e)=>{var i=new Kt(1),r=new Kt(n);if(!r.isint()&&e){var s=Math.abs(n);s<1?(i=new Kt(10).pow(y2(n)-1),r=new Kt(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new Kt(Math.floor(n)))}else n===0?r=new Kt(Math.floor((t-1)/2)):e||(r=new Kt(Math.floor(n)));for(var l=Math.floor((t-1)/2),u=[],h=0;h<t;h++)u.push(r.add(new Kt(h-l).mul(i)).toNumber());return u},S2=function(t,e,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(i-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var l=w2(new Kt(e).sub(t).div(i-1),r,s),u;t<=0&&e>=0?u=new Kt(0):(u=new Kt(t).add(e).div(2),u=u.sub(new Kt(u).mod(l)));var h=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Kt(e).sub(u).div(l).toNumber()),d=h+f+1;return d>i?S2(t,e,i,r,s+1):(d<i&&(f=e>0?f+(i-d):f,h=e>0?h:h+(i-d)),{step:l,tickMin:u.sub(new Kt(h).mul(l)),tickMax:u.add(new Kt(f).mul(l))})},sq=function(t){var[e,i]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[u,h]=A2([e,i]);if(u===-1/0||h===1/0){var f=h===1/0?[u,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),h];return e>i?f.reverse():f}if(u===h)return aq(u,r,s);var{step:d,tickMin:g,tickMax:m}=S2(u,h,l,s,0),y=b2(g,m.add(new Kt(.1).mul(d)),d);return e>i?y.reverse():y},oq=function(t,e){var[i,r]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=A2([i,r]);if(l===-1/0||u===1/0)return[i,r];if(l===u)return[l];var h=Math.max(e,2),f=w2(new Kt(u).sub(l).div(h-1),s,0),d=[...b2(new Kt(l),new Kt(u),f),u];return s===!1&&(d=d.map(g=>Math.round(g))),i>r?d.reverse():d},lq=n=>n.rootProps.barCategoryGap,Gd=n=>n.rootProps.stackOffset,_2=n=>n.rootProps.reverseStackOrder,kb=n=>n.options.chartName,Nb=n=>n.rootProps.syncId,E2=n=>n.rootProps.syncMethod,Lb=n=>n.options.eventEmitter,An={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ts={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Gi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Vd=(n,t)=>{if(!(!n||!t))return n!=null&&n.reversed?[t[1],t[0]]:t};function Yd(n,t,e){if(e!=="auto")return e;if(n!=null)return Fr(n,t)?"category":"number"}function OT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Wf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(e),!0).forEach(function(i){uq(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):OT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function uq(n,t,e){return(t=cq(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cq(n){var t=hq(n,"string");return typeof t=="symbol"?t:t+""}function hq(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var MT={allowDataOverflow:ts.allowDataOverflow,allowDecimals:ts.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ts.angleAxisId,includeHidden:!1,name:void 0,reversed:ts.reversed,scale:ts.scale,tick:ts.tick,tickCount:void 0,ticks:void 0,type:ts.type,unit:void 0},DT={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:Gi.allowDecimals,allowDuplicatedCategory:Gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gi.radiusAxisId,includeHidden:Gi.includeHidden,name:void 0,reversed:Gi.reversed,scale:Gi.scale,tick:Gi.tick,tickCount:Gi.tickCount,ticks:void 0,type:Gi.type,unit:void 0},fq=(n,t)=>{if(t!=null)return n.polarAxis.angleAxis[t]},Ib=X([fq,pP],(n,t)=>{var e;if(n!=null)return n;var i=(e=Yd(t,"angleAxis",MT.type))!==null&&e!==void 0?e:"category";return Wf(Wf({},MT),{},{type:i})}),dq=(n,t)=>n.polarAxis.radiusAxis[t],jb=X([dq,pP],(n,t)=>{var e;if(n!=null)return n;var i=(e=Yd(t,"radiusAxis",DT.type))!==null&&e!==void 0?e:"category";return Wf(Wf({},DT),{},{type:i})}),Xd=n=>n.polarOptions,Bb=X([Ur,Hr,hn],hH),x2=X([Xd,Bb],(n,t)=>{if(n!=null)return Ra(n.innerRadius,t,0)}),C2=X([Xd,Bb],(n,t)=>{if(n!=null)return Ra(n.outerRadius,t,t*.8)}),pq=n=>{if(n==null)return[0,0];var{startAngle:t,endAngle:e}=n;return[t,e]},T2=X([Xd],pq);X([Ib,T2],Vd);var O2=X([Bb,x2,C2],(n,t,e)=>{if(!(n==null||t==null||e==null))return[t,e]});X([jb,O2],Vd);var M2=X([me,Xd,x2,C2,Ur,Hr],(n,t,e,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||t==null||e==null||i==null)){var{cx:l,cy:u,startAngle:h,endAngle:f}=t;return{cx:Ra(l,r,r/2),cy:Ra(u,s,s/2),innerRadius:e,outerRadius:i,startAngle:h,endAngle:f,clockWise:!1}}}),Xe=(n,t)=>t,Kd=(n,t,e)=>e;function D2(n){return n?.id}function P2(n,t,e){var{chartData:i=[]}=t,{allowDuplicatedCategory:r,dataKey:s}=e,l=new Map;return n.forEach(u=>{var h,f=(h=u.data)!==null&&h!==void 0?h:i;if(!(f==null||f.length===0)){var d=D2(u);f.forEach((g,m)=>{var y=s==null||r?m:String(un(g,s,null)),A=un(g,u.dataKey,0),w;l.has(y)?w=l.get(y):w={},Object.assign(w,{[d]:A}),l.set(y,w)})}}),Array.from(l.values())}function zb(n){return"stackId"in n&&n.stackId!=null&&n.dataKey!=null}var Wd=(n,t)=>n===t?!0:n==null||t==null?!1:n[0]===t[0]&&n[1]===t[1];function Zd(n,t){return Array.isArray(n)&&Array.isArray(t)&&n.length===0&&t.length===0?!0:n===t}function gq(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return!1}var Ke=n=>{var t=me(n);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Xo=n=>n.tooltip.settings.axisId;function mq(n){if(n in du)return du[n]();var t="scale".concat(Wu(n));if(t in du)return du[t]()}function PT(n){var t=n.ticks,e=n.bandwidth,i=n.range(),r=[Math.min(...i),Math.max(...i)];return{domain:()=>n.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(s){var l=r[0],u=r[1];return l<=u?s>=l&&s<=u:s>=u&&s<=l},bandwidth:e?()=>e.call(n):void 0,ticks:t?s=>t.call(n,s):void 0,map:(s,l)=>{var u=n(s);if(u!=null){if(n.bandwidth&&l!==null&&l!==void 0&&l.position){var h=n.bandwidth();switch(l.position){case"middle":u+=h/2;break;case"end":u+=h;break}}return u}}}}function RT(n,t,e){if(typeof n=="function")return PT(n.copy().domain(t).range(e));if(n!=null){var i=mq(n);if(i!=null)return i.domain(t).range(e),PT(i)}}var vq=(n,t)=>{if(t!=null)switch(n){case"linear":{if(!jr(t)){for(var e,i,r=0;r<t.length;r++){var s=t[r];Ut(s)&&((e===void 0||s<e)&&(e=s),(i===void 0||s>i)&&(i=s))}return e!==void 0&&i!==void 0?[e,i]:void 0}return t}default:return t}};function kT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Zf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(e),!0).forEach(function(i){yq(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):kT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function yq(n,t,e){return(t=bq(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function bq(n){var t=Aq(n,"string");return typeof t=="symbol"?t:t+""}function Aq(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var u0=[0,"auto"],qe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},R2=(n,t)=>n.cartesianAxis.xAxis[t],$r=(n,t)=>{var e=R2(n,t);return e??qe},$e={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:u0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ju},k2=(n,t)=>n.cartesianAxis.yAxis[t],Gr=(n,t)=>{var e=k2(n,t);return e??$e},wq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Fb=(n,t)=>{var e=n.cartesianAxis.zAxis[t];return e??wq},En=(n,t,e)=>{switch(t){case"xAxis":return $r(n,e);case"yAxis":return Gr(n,e);case"zAxis":return Fb(n,e);case"angleAxis":return Ib(n,e);case"radiusAxis":return jb(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},Sq=(n,t,e)=>{switch(t){case"xAxis":return $r(n,e);case"yAxis":return Gr(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},sc=(n,t,e)=>{switch(t){case"xAxis":return $r(n,e);case"yAxis":return Gr(n,e);case"angleAxis":return Ib(n,e);case"radiusAxis":return jb(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},N2=n=>n.graphicalItems.cartesianItems.some(t=>t.type==="bar")||n.graphicalItems.polarItems.some(t=>t.type==="radialBar");function L2(n,t){return e=>{switch(n){case"xAxis":return"xAxisId"in e&&e.xAxisId===t;case"yAxis":return"yAxisId"in e&&e.yAxisId===t;case"zAxis":return"zAxisId"in e&&e.zAxisId===t;case"angleAxis":return"angleAxisId"in e&&e.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in e&&e.radiusAxisId===t;default:return!1}}}var I2=n=>n.graphicalItems.cartesianItems,_q=X([Xe,Kd],L2),j2=(n,t,e)=>n.filter(e).filter(i=>t?.includeHidden===!0?!0:!i.hide),oc=X([I2,En,_q],j2,{memoizeOptions:{resultEqualityCheck:Zd}}),B2=X([oc],n=>n.filter(t=>t.type==="area"||t.type==="bar").filter(zb)),z2=n=>n.filter(t=>!("stackId"in t)||t.stackId===void 0),Eq=X([oc],z2),F2=n=>n.map(t=>t.data).filter(Boolean).flat(1),xq=X([oc],F2,{memoizeOptions:{resultEqualityCheck:Zd}}),U2=(n,t)=>{var{chartData:e=[],dataStartIndex:i,dataEndIndex:r}=t;return n.length>0?n:e.slice(i,r+1)},Ub=X([xq,Db],U2),H2=(n,t,e)=>t?.dataKey!=null?n.map(i=>({value:un(i,t.dataKey)})):e.length>0?e.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:un(r,i)}))):n.map(i=>({value:i})),Qd=X([Ub,En,oc],H2);function q2(n,t){switch(n){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lf(n){if(er(n)||n instanceof Date){var t=Number(n);if(Ut(t))return t}}function NT(n){if(Array.isArray(n)){var t=[lf(n[0]),lf(n[1])];return jr(t)?t:void 0}var e=lf(n);if(e!=null)return[e,e]}function Br(n){return n.map(lf).filter(In)}function Cq(n,t,e){return!e||typeof t!="number"||Rr(t)?[]:e.length?Br(e.flatMap(i=>{var r=un(n,i.dataKey),s,l;if(Array.isArray(r)?[s,l]=r:s=l=r,!(!Ut(s)||!Ut(l)))return[t-s,t+l]})):[]}var Be=n=>{var t=Ke(n),e=Xo(n);return sc(n,t,e)},lc=X([Be],n=>n?.dataKey),Tq=X([B2,Db,Be],P2),$2=(n,t,e,i)=>{var r={},s=t.reduce((l,u)=>{if(u.stackId==null)return l;var h=l[u.stackId];return h==null&&(h=[]),h.push(u),l[u.stackId]=h,l},r);return Object.fromEntries(Object.entries(s).map(l=>{var[u,h]=l,f=i?[...h].reverse():h,d=f.map(D2);return[u,{stackedData:iU(n,d,e),graphicalItems:f}]}))},Oq=X([Tq,B2,Gd,_2],$2),G2=(n,t,e,i)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(i==null&&e!=="zAxis"){var l=sU(n,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Mq=X([En],n=>n.allowDataOverflow),Hb=n=>{var t;if(n==null||!("domain"in n))return u0;if(n.domain!=null)return n.domain;if("ticks"in n&&n.ticks!=null){if(n.type==="number"){var e=Br(n.ticks);return[Math.min(...e),Math.max(...e)]}if(n.type==="category")return n.ticks.map(String)}return(t=n?.domain)!==null&&t!==void 0?t:u0},V2=X([En],Hb),Y2=X([V2,Mq],f2),Dq=X([Oq,La,Xe,Y2],G2,{memoizeOptions:{resultEqualityCheck:Wd}}),qb=n=>n.errorBars,Pq=(n,t,e)=>n.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>q2(e,i)),Qf=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.filter(Boolean);if(r.length!==0){var s=r.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},X2=(n,t,e,i,r)=>{var s,l;if(e.length>0&&n.forEach(u=>{e.forEach(h=>{var f,d,g=(f=i[h.id])===null||f===void 0?void 0:f.filter(_=>q2(r,_)),m=un(u,(d=t.dataKey)!==null&&d!==void 0?d:h.dataKey),y=Cq(u,m,g);if(y.length>=2){var A=Math.min(...y),w=Math.max(...y);(s==null||A<s)&&(s=A),(l==null||w>l)&&(l=w)}var S=NT(m);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),t?.dataKey!=null&&n.forEach(u=>{var h=NT(un(u,t.dataKey));h!=null&&(s=s==null?h[0]:Math.min(s,h[0]),l=l==null?h[1]:Math.max(l,h[1]))}),Ut(s)&&Ut(l))return[s,l]},Rq=X([Ub,En,Eq,qb,Xe],X2,{memoizeOptions:{resultEqualityCheck:Wd}});function kq(n){var{value:t}=n;if(er(t)||t instanceof Date)return t}var Nq=(n,t,e)=>{var i=n.map(kq).filter(r=>r!=null);return e&&(t.dataKey==null||t.allowDuplicatedCategory&&uD(i))?RP(0,n.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},K2=n=>n.referenceElements.dots,Ko=(n,t,e)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===e:i.yAxisId===e),Lq=X([K2,Xe,Kd],Ko),W2=n=>n.referenceElements.areas,Iq=X([W2,Xe,Kd],Ko),Z2=n=>n.referenceElements.lines,jq=X([Z2,Xe,Kd],Ko),Q2=(n,t)=>{if(n!=null){var e=Br(n.map(i=>t==="xAxis"?i.x:i.y));if(e.length!==0)return[Math.min(...e),Math.max(...e)]}},Bq=X(Lq,Xe,Q2),J2=(n,t)=>{if(n!=null){var e=Br(n.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(e.length!==0)return[Math.min(...e),Math.max(...e)]}},zq=X([Iq,Xe],J2);function Fq(n){var t;if(n.x!=null)return Br([n.x]);var e=(t=n.segment)===null||t===void 0?void 0:t.map(i=>i.x);return e==null||e.length===0?[]:Br(e)}function Uq(n){var t;if(n.y!=null)return Br([n.y]);var e=(t=n.segment)===null||t===void 0?void 0:t.map(i=>i.y);return e==null||e.length===0?[]:Br(e)}var tR=(n,t)=>{if(n!=null){var e=n.flatMap(i=>t==="xAxis"?Fq(i):Uq(i));if(e.length!==0)return[Math.min(...e),Math.max(...e)]}},Hq=X([jq,Xe],tR),qq=X(Bq,Hq,zq,(n,t,e)=>Qf(n,e,t)),eR=(n,t,e,i,r,s,l,u)=>{if(e!=null)return e;var h=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=h?Qf(i,s,r):Qf(s,r);return eq(t,f,n.allowDataOverflow)},$q=X([En,V2,Y2,Dq,Rq,qq,me,Xe],eR,{memoizeOptions:{resultEqualityCheck:Wd}}),Gq=[0,1],nR=(n,t,e,i,r,s,l)=>{if(!((n==null||e==null||e.length===0)&&l===void 0)){var{dataKey:u,type:h}=n,f=Fr(t,s);if(f&&u==null){var d;return RP(0,(d=e?.length)!==null&&d!==void 0?d:0)}return h==="category"?Nq(i,n,f):r==="expand"?Gq:l}},$b=X([En,me,Ub,Qd,Gd,Xe,$q],nR);function Vq(n){return n in du}var iR=(n,t,e)=>{if(n!=null){var{scale:i,type:r}=n;if(i==="auto")return r==="category"&&e&&(e.indexOf("LineChart")>=0||e.indexOf("AreaChart")>=0||e.indexOf("ComposedChart")>=0&&!t)?"point":r==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(Wu(i));return Vq(s)?s:"point"}}},Wo=X([En,N2,kb],iR);function Gb(n,t,e,i){if(!(e==null||i==null))return typeof n.scale=="function"?RT(n.scale,e,i):RT(t,e,i)}var rR=(n,t,e)=>{var i=Hb(t);if(!(e!=="auto"&&e!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&jr(n))return sq(n,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&jr(n))return oq(n,t.tickCount,t.allowDecimals)}},Vb=X([$b,sc,Wo],rR),aR=(n,t,e,i)=>{if(i!=="angleAxis"&&n?.type==="number"&&jr(t)&&Array.isArray(e)&&e.length>0){var r,s,l=t[0],u=(r=e[0])!==null&&r!==void 0?r:0,h=t[1],f=(s=e[e.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,u),Math.max(h,f)]}return t},Yq=X([En,$b,Vb,Xe],aR),Xq=X(Qd,En,(n,t)=>{if(!(!t||t.type!=="number")){var e=1/0,i=Array.from(Br(n.map(g=>g.value))).sort((g,m)=>g-m),r=i[0],s=i[i.length-1];if(r==null||s==null)return 1/0;var l=s-r;if(l===0)return 1/0;for(var u=0;u<i.length-1;u++){var h=i[u],f=i[u+1];if(!(h==null||f==null)){var d=f-h;e=Math.min(e,d)}}return e/l}}),sR=X(Xq,me,lq,hn,(n,t,e,i,r)=>r,(n,t,e,i,r)=>{if(!Ut(n))return 0;var s=t==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var l=Ra(e,n*s),u=n*s/2;return u-l-(u-l)/s*l}return 0}),Kq=(n,t,e)=>{var i=$r(n,t);return i==null||typeof i.padding!="string"?0:sR(n,"xAxis",t,e,i.padding)},Wq=(n,t,e)=>{var i=Gr(n,t);return i==null||typeof i.padding!="string"?0:sR(n,"yAxis",t,e,i.padding)},Zq=X($r,Kq,(n,t)=>{var e,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:t,right:t}:{left:((e=r.left)!==null&&e!==void 0?e:0)+t,right:((i=r.right)!==null&&i!==void 0?i:0)+t}}),Qq=X(Gr,Wq,(n,t)=>{var e,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:t,bottom:t}:{top:((e=r.top)!==null&&e!==void 0?e:0)+t,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+t}}),Jq=X([hn,Zq,kd,Rd,(n,t,e)=>e],(n,t,e,i,r)=>{var{padding:s}=i;return r?[s.left,e.width-s.right]:[n.left+t.left,n.left+n.width-t.right]}),t8=X([hn,me,Qq,kd,Rd,(n,t,e)=>e],(n,t,e,i,r,s)=>{var{padding:l}=r;return s?[i.height-l.bottom,l.top]:t==="horizontal"?[n.top+n.height-e.bottom,n.top+e.top]:[n.top+e.top,n.top+n.height-e.bottom]}),uc=(n,t,e,i)=>{var r;switch(t){case"xAxis":return Jq(n,e,i);case"yAxis":return t8(n,e,i);case"zAxis":return(r=Fb(n,e))===null||r===void 0?void 0:r.range;case"angleAxis":return T2(n);case"radiusAxis":return O2(n,e);default:return}},oR=X([En,uc],Vd),e8=X([Wo,Yq],vq),Jd=X([En,Wo,e8,oR],Gb);X([oc,qb,Xe],Pq);function lR(n,t){return n.id<t.id?-1:n.id>t.id?1:0}var tp=(n,t)=>t,ep=(n,t,e)=>e,n8=X(Dd,tp,ep,(n,t,e)=>n.filter(i=>i.orientation===t).filter(i=>i.mirror===e).sort(lR)),i8=X(Pd,tp,ep,(n,t,e)=>n.filter(i=>i.orientation===t).filter(i=>i.mirror===e).sort(lR)),uR=(n,t)=>({width:n.width,height:t.height}),r8=(n,t)=>{var e=typeof t.width=="number"?t.width:Ju;return{width:e,height:n.height}},a8=X(hn,$r,uR),s8=(n,t,e)=>{switch(t){case"top":return n.top;case"bottom":return e-n.bottom;default:return 0}},o8=(n,t,e)=>{switch(t){case"left":return n.left;case"right":return e-n.right;default:return 0}},l8=X(Hr,hn,n8,tp,ep,(n,t,e,i,r)=>{var s={},l;return e.forEach(u=>{var h=uR(t,u);l==null&&(l=s8(t,i,n));var f=i==="top"&&!r||i==="bottom"&&r;s[u.id]=l-Number(f)*h.height,l+=(f?-1:1)*h.height}),s}),u8=X(Ur,hn,i8,tp,ep,(n,t,e,i,r)=>{var s={},l;return e.forEach(u=>{var h=r8(t,u);l==null&&(l=o8(t,i,n));var f=i==="left"&&!r||i==="right"&&r;s[u.id]=l-Number(f)*h.width,l+=(f?-1:1)*h.width}),s}),c8=(n,t)=>{var e=$r(n,t);if(e!=null)return l8(n,e.orientation,e.mirror)},h8=X([hn,$r,c8,(n,t)=>t],(n,t,e,i)=>{if(t!=null){var r=e?.[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),f8=(n,t)=>{var e=Gr(n,t);if(e!=null)return u8(n,e.orientation,e.mirror)},d8=X([hn,Gr,f8,(n,t)=>t],(n,t,e,i)=>{if(t!=null){var r=e?.[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),p8=X(hn,Gr,(n,t)=>{var e=typeof t.width=="number"?t.width:Ju;return{width:e,height:n.height}}),cR=(n,t,e,i)=>{if(e!=null){var{allowDuplicatedCategory:r,type:s,dataKey:l}=e,u=Fr(n,i),h=t.map(f=>f.value);if(l&&u&&s==="category"&&r&&uD(h))return h}},Yb=X([me,Qd,En,Xe],cR),hR=(n,t,e,i)=>{if(!(e==null||e.dataKey==null)){var{type:r,scale:s}=e,l=Fr(n,i);if(l&&(r==="number"||s!=="auto"))return t.map(u=>u.value)}},Xb=X([me,Qd,sc,Xe],hR),LT=X([me,Sq,Wo,Jd,Yb,Xb,uc,Vb,Xe],(n,t,e,i,r,s,l,u,h)=>{if(t!=null){var f=Fr(n,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:s,duplicateDomain:r,isCategorical:f,niceTicks:u,range:l,realScaleType:e,scale:i}}}),g8=(n,t,e,i,r,s,l,u,h)=>{if(!(t==null||i==null)){var f=Fr(n,h),{type:d,ticks:g,tickCount:m}=t,y=e==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,A=d==="category"&&i.bandwidth?i.bandwidth()/y:0;A=h==="angleAxis"&&s!=null&&s.length>=2?Ai(s[0]-s[1])*2*A:A;var w=g||r;return w?w.map((S,_)=>{var C=l?l.indexOf(S):S,x=i.map(C);return Ut(x)?{index:_,coordinate:x+A,value:S,offset:A}:null}).filter(In):f&&u?u.map((S,_)=>{var C=i.map(S);return Ut(C)?{coordinate:C+A,value:S,index:_,offset:A}:null}).filter(In):i.ticks?i.ticks(m).map((S,_)=>{var C=i.map(S);return Ut(C)?{coordinate:C+A,value:S,index:_,offset:A}:null}).filter(In):i.domain().map((S,_)=>{var C=i.map(S);return Ut(C)?{coordinate:C+A,value:l?l[S]:S,index:_,offset:A}:null}).filter(In)}},fR=X([me,sc,Wo,Jd,Vb,uc,Yb,Xb,Xe],g8),m8=(n,t,e,i,r,s,l)=>{if(!(t==null||e==null||i==null||i[0]===i[1])){var u=Fr(n,l),{tickCount:h}=t,f=0;return f=l==="angleAxis"&&i?.length>=2?Ai(i[0]-i[1])*2*f:f,u&&s?s.map((d,g)=>{var m=e.map(d);return Ut(m)?{coordinate:m+f,value:d,index:g,offset:f}:null}).filter(In):e.ticks?e.ticks(h).map((d,g)=>{var m=e.map(d);return Ut(m)?{coordinate:m+f,value:d,index:g,offset:f}:null}).filter(In):e.domain().map((d,g)=>{var m=e.map(d);return Ut(m)?{coordinate:m+f,value:r?r[d]:d,index:g,offset:f}:null}).filter(In)}},dR=X([me,sc,Jd,uc,Yb,Xb,Xe],m8),pR=X(En,Jd,(n,t)=>{if(!(n==null||t==null))return Zf(Zf({},n),{},{scale:t})}),v8=X([En,Wo,$b,oR],Gb);X((n,t,e)=>Fb(n,e),v8,(n,t)=>{if(!(n==null||t==null))return Zf(Zf({},n),{},{scale:t})});var y8=X([me,Dd,Pd],(n,t,e)=>{switch(n){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return e.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),gR=n=>n.options.defaultTooltipEventType,mR=n=>n.options.validateTooltipEventTypes;function vR(n,t,e){if(n==null)return t;var i=n?"axis":"item";return e==null?t:e.includes(i)?i:t}function Kb(n,t){var e=gR(n),i=mR(n);return vR(t,e,i)}function b8(n){return wt(t=>Kb(t,n))}var yR=(n,t)=>{var e,i=Number(t);if(!(Rr(i)||t==null))return i>=0?n==null||(e=n[i])===null||e===void 0?void 0:e.value:void 0},A8=n=>n.tooltip.settings,_a={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},w8={itemInteraction:{click:_a,hover:_a},axisInteraction:{click:_a,hover:_a},keyboardInteraction:_a,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bR=zn({name:"tooltip",initialState:w8,reducers:{addTooltipEntrySettings:{reducer(n,t){n.tooltipItemPayloads.push(t.payload)},prepare:fe()},replaceTooltipEntrySettings:{reducer(n,t){var{prev:e,next:i}=t.payload,r=ki(n).tooltipItemPayloads.indexOf(e);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:fe()},removeTooltipEntrySettings:{reducer(n,t){var e=ki(n).tooltipItemPayloads.indexOf(t.payload);e>-1&&n.tooltipItemPayloads.splice(e,1)},prepare:fe()},setTooltipSettingsState(n,t){n.settings=t.payload},setActiveMouseOverItemIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=t.payload.activeIndex,n.itemInteraction.hover.dataKey=t.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,t){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=t.payload.activeIndex,n.itemInteraction.click.dataKey=t.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(n,t){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=t.payload.activeIndex,n.axisInteraction.hover.dataKey=t.payload.activeDataKey,n.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=t.payload.activeIndex,n.axisInteraction.click.dataKey=t.payload.activeDataKey,n.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(n,t){n.syncInteraction=t.payload},setKeyboardInteraction(n,t){n.keyboardInteraction.active=t.payload.active,n.keyboardInteraction.index=t.payload.activeIndex,n.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:S8,replaceTooltipEntrySettings:_8,removeTooltipEntrySettings:E8,setTooltipSettingsState:x8,setActiveMouseOverItemIndex:C8,mouseLeaveItem:v7,mouseLeaveChart:AR,setActiveClickItemIndex:y7,setMouseOverAxisIndex:wR,setMouseClickAxisIndex:T8,setSyncInteraction:c0,setKeyboardInteraction:h0}=bR.actions,O8=bR.reducer;function IT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Zh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(e),!0).forEach(function(i){M8(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):IT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function M8(n,t,e){return(t=D8(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function D8(n){var t=P8(n,"string");return typeof t=="symbol"?t:t+""}function P8(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function R8(n,t,e){return t==="axis"?e==="click"?n.axisInteraction.click:n.axisInteraction.hover:e==="click"?n.itemInteraction.click:n.itemInteraction.hover}function k8(n){return n.index!=null}var SR=(n,t,e,i)=>{if(t==null)return _a;var r=R8(n,t,e);if(r==null)return _a;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(k8(r)){if(s)return Zh(Zh({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return Zh(Zh({},_a),{},{coordinate:r.coordinate})};function N8(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var t=n.valueOf();return Number.isFinite(t)?t:void 0}var e=Number(n);return Number.isFinite(e)?e:void 0}function L8(n,t){var e=N8(n),i=t[0],r=t[1];if(e===void 0)return!1;var s=Math.min(i,r),l=Math.max(i,r);return e>=s&&e<=l}function I8(n,t,e){if(e==null||t==null)return!0;var i=un(n,t);return i==null||!jr(e)?!0:L8(i,e)}var Wb=(n,t,e,i)=>{var r=n?.index;if(r==null)return null;var s=Number(r);if(!Ut(s))return r;var l=0,u=1/0;t.length>0&&(u=t.length-1);var h=Math.max(l,Math.min(s,u)),f=t[h];return f==null||I8(f,e,i)?String(h):null},_R=(n,t,e,i,r,s,l)=>{if(s!=null){var u=l[0],h=u?.getPosition(s);if(h!=null)return h;var f=r?.[Number(s)];if(f)return e==="horizontal"?{x:f.coordinate,y:(i.top+t)/2}:{x:(i.left+n)/2,y:f.coordinate}}},ER=(n,t,e,i)=>{if(t==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;if(e==="hover"?r=n.itemInteraction.hover.graphicalItemId:r=n.itemInteraction.click.graphicalItemId,r==null&&i!=null){var s=n.tooltipItemPayloads[0];return s!=null?[s]:[]}return n.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===r})},xR=n=>n.options.tooltipPayloadSearcher,Zo=n=>n.tooltip;function jT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function BT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(e),!0).forEach(function(i){j8(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):jT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function j8(n,t,e){return(t=B8(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function B8(n){var t=z8(n,"string");return typeof t=="symbol"?t:t+""}function z8(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function F8(n,t){return n??t}var CR=(n,t,e,i,r,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:h,dataStartIndex:f,dataEndIndex:d}=e,g=[];return n.reduce((m,y)=>{var A,{dataDefinedOnItem:w,settings:S}=y,_=F8(w,u),C=Array.isArray(_)?eP(_,f,d):_,x=(A=S?.dataKey)!==null&&A!==void 0?A:i,O=S?.nameKey,M;if(i&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?M=cD(C,i,r):M=s(C,t,h,O),Array.isArray(M))M.forEach(R=>{var L=BT(BT({},S),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});m.push(zx({tooltipEntrySettings:L,dataKey:R.dataKey,payload:R.payload,value:un(R.payload,R.dataKey),name:R.name}))});else{var D;m.push(zx({tooltipEntrySettings:S,dataKey:x,payload:M,value:un(M,x),name:(D=un(M,O))!==null&&D!==void 0?D:S?.name}))}return m},g)}},Zb=X([Be,N2,kb],iR),U8=X([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,t)=>[...n,...t]),H8=X([Ke,Xo],L2),Qo=X([U8,Be,H8],j2,{memoizeOptions:{resultEqualityCheck:Zd}}),q8=X([Qo],n=>n.filter(zb)),$8=X([Qo],F2,{memoizeOptions:{resultEqualityCheck:Zd}}),Jo=X([$8,La],U2),G8=X([q8,La,Be],P2),Qb=X([Jo,Be,Qo],H2),TR=X([Be],Hb),V8=X([Be],n=>n.allowDataOverflow),OR=X([TR,V8],f2),Y8=X([Qo],n=>n.filter(zb)),X8=X([G8,Y8,Gd,_2],$2),K8=X([X8,La,Ke,OR],G2),W8=X([Qo],z2),Z8=X([Jo,Be,W8,qb,Ke],X2,{memoizeOptions:{resultEqualityCheck:Wd}}),Q8=X([K2,Ke,Xo],Ko),J8=X([Q8,Ke],Q2),t$=X([W2,Ke,Xo],Ko),e$=X([t$,Ke],J2),n$=X([Z2,Ke,Xo],Ko),i$=X([n$,Ke],tR),r$=X([J8,i$,e$],Qf),a$=X([Be,TR,OR,K8,Z8,r$,me,Ke],eR),cc=X([Be,me,Jo,Qb,Gd,Ke,a$],nR),s$=X([cc,Be,Zb],rR),o$=X([Be,cc,s$,Ke],aR),MR=n=>{var t=Ke(n),e=Xo(n),i=!1;return uc(n,t,e,i)},DR=X([Be,MR],Vd),PR=X([Be,Zb,o$,DR],Gb),l$=X([me,Qb,Be,Ke],cR),u$=X([me,Qb,Be,Ke],hR),c$=(n,t,e,i,r,s,l,u)=>{if(t){var{type:h}=t,f=Fr(n,u);if(i){var d=e==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=h==="category"&&i.bandwidth?i.bandwidth()/d:0;return g=u==="angleAxis"&&r!=null&&r?.length>=2?Ai(r[0]-r[1])*2*g:g,f&&l?l.map((m,y)=>{var A=i.map(m);return Ut(A)?{coordinate:A+g,value:m,index:y,offset:g}:null}).filter(In):i.domain().map((m,y)=>{var A=i.map(m);return Ut(A)?{coordinate:A+g,value:s?s[m]:m,index:y,offset:g}:null}).filter(In)}}},Vr=X([me,Be,Zb,PR,MR,l$,u$,Ke],c$),Jb=X([gR,mR,A8],(n,t,e)=>vR(e.shared,n,t)),RR=n=>n.tooltip.settings.trigger,tA=n=>n.tooltip.settings.defaultIndex,hc=X([Zo,Jb,RR,tA],SR),Bu=X([hc,Jo,lc,cc],Wb),kR=X([Vr,Bu],yR),h$=X([hc],n=>{if(n)return n.dataKey});X([hc],n=>{if(n)return n.graphicalItemId});var NR=X([Zo,Jb,RR,tA],ER),f$=X([Ur,Hr,me,hn,Vr,tA,NR],_R),d$=X([hc,f$],(n,t)=>n!=null&&n.coordinate?n.coordinate:t),p$=X([hc],n=>{var t;return(t=n?.active)!==null&&t!==void 0?t:!1}),g$=X([NR,Bu,La,lc,kR,xR,Jb],CR),m$=X([g$],n=>{if(n!=null){var t=n.map(e=>e.payload).filter(e=>e!=null);return Array.from(new Set(t))}});function zT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function FT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(e),!0).forEach(function(i){v$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):zT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function v$(n,t,e){return(t=y$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function y$(n){var t=b$(n,"string");return typeof t=="symbol"?t:t+""}function b$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var A$=()=>wt(Be),w$=()=>{var n=A$(),t=wt(Vr),e=wt(PR);return Mf(!n||!e?void 0:FT(FT({},n),{},{scale:e}),t)};function UT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function yo(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(e),!0).forEach(function(i){S$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):UT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function S$(n,t,e){return(t=_$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _$(n){var t=E$(n,"string");return typeof t=="symbol"?t:t+""}function E$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var x$=(n,t,e,i)=>{var r=t.find(s=>s&&s.index===e);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},C$=(n,t,e,i)=>{var r=t.find(f=>f&&f.index===e);if(r){if(n==="centric"){var s=r.coordinate,{radius:l}=i;return yo(yo(yo({},i),ln(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var u=r.coordinate,{angle:h}=i;return yo(yo(yo({},i),ln(i.cx,i.cy,u,h)),{},{angle:h,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function T$(n,t){var{chartX:e,chartY:i}=n;return e>=t.left&&e<=t.left+t.width&&i>=t.top&&i<=t.top+t.height}var LR=(n,t,e,i,r)=>{var s,l=(s=t?.length)!==null&&s!==void 0?s:0;if(l<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var u=0;u<l;u++){var h,f,d,g,m,y=u>0?(h=e[u-1])===null||h===void 0?void 0:h.coordinate:(f=e[l-1])===null||f===void 0?void 0:f.coordinate,A=(d=e[u])===null||d===void 0?void 0:d.coordinate,w=u>=l-1?(g=e[0])===null||g===void 0?void 0:g.coordinate:(m=e[u+1])===null||m===void 0?void 0:m.coordinate,S=void 0;if(!(y==null||A==null||w==null))if(Ai(A-y)!==Ai(w-A)){var _=[];if(Ai(w-A)===Ai(r[1]-r[0])){S=w;var C=A+r[1]-r[0];_[0]=Math.min(C,(C+y)/2),_[1]=Math.max(C,(C+y)/2)}else{S=y;var x=w+r[1]-r[0];_[0]=Math.min(A,(x+A)/2),_[1]=Math.max(A,(x+A)/2)}var O=[Math.min(A,(S+A)/2),Math.max(A,(S+A)/2)];if(n>O[0]&&n<=O[1]||n>=_[0]&&n<=_[1]){var M;return(M=e[u])===null||M===void 0?void 0:M.index}}else{var D=Math.min(y,w),R=Math.max(y,w);if(n>(D+A)/2&&n<=(R+A)/2){var L;return(L=e[u])===null||L===void 0?void 0:L.index}}}else if(t)for(var z=0;z<l;z++){var K=t[z];if(K!=null){var G=t[z+1],U=t[z-1];if(z===0&&G!=null&&n<=(K.coordinate+G.coordinate)/2||z===l-1&&U!=null&&n>(K.coordinate+U.coordinate)/2||z>0&&z<l-1&&U!=null&&G!=null&&n>(K.coordinate+U.coordinate)/2&&n<=(K.coordinate+G.coordinate)/2)return K.index}}return-1},O$=()=>wt(kb),eA=(n,t)=>t,IR=(n,t,e)=>e,nA=(n,t,e,i)=>i,M$=X(Vr,n=>Ad(n,t=>t.coordinate)),iA=X([Zo,eA,IR,nA],SR),rA=X([iA,Jo,lc,cc],Wb),D$=(n,t,e)=>{if(t!=null){var i=Zo(n);return t==="axis"?e==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:e==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},jR=X([Zo,eA,IR,nA],ER),Jf=X([Ur,Hr,me,hn,Vr,nA,jR],_R),P$=X([iA,Jf],(n,t)=>{var e;return(e=n.coordinate)!==null&&e!==void 0?e:t}),BR=X([Vr,rA],yR),R$=X([jR,rA,La,lc,BR,xR,eA],CR),k$=X([iA,rA],(n,t)=>({isActive:n.active&&t!=null,activeIndex:t})),N$=(n,t,e,i,r,s,l)=>{if(!(!n||!e||!i||!r)&&T$(n,l)){var u=oU(n,t),h=LR(u,s,r,e,i),f=x$(t,r,h,n);return{activeIndex:String(h),activeCoordinate:f}}},L$=(n,t,e,i,r,s,l)=>{if(!(!n||!i||!r||!s||!e)){var u=mH(n,e);if(u){var h=lU(u,t),f=LR(h,l,s,i,r),d=C$(t,s,f,u);return{activeIndex:String(f),activeCoordinate:d}}}},I$=(n,t,e,i,r,s,l,u)=>{if(!(!n||!t||!i||!r||!s))return t==="horizontal"||t==="vertical"?N$(n,t,i,r,s,l,u):L$(n,t,e,i,r,s,l)},j$=X(n=>n.zIndex.zIndexMap,(n,t)=>t,(n,t,e)=>e,(n,t,e)=>{if(t!=null){var i=n[t];if(i!=null)return e?i.panoramaElement:i.element}}),B$=X(n=>n.zIndex.zIndexMap,n=>{var t=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(An)),e=Array.from(new Set(t));return e.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:gq}});function HT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function qT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(e),!0).forEach(function(i){z$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):HT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function z$(n,t,e){return(t=F$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function F$(n){var t=U$(n,"string");return typeof t=="symbol"?t:t+""}function U$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var H$={},q$={zIndexMap:Object.values(An).reduce((n,t)=>qT(qT({},n),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),H$)},$$=new Set(Object.values(An));function G$(n){return $$.has(n)}var zR=zn({name:"zIndex",initialState:q$,reducers:{registerZIndexPortal:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]?n.zIndexMap[e].consumers+=1:n.zIndexMap[e]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:fe()},unregisterZIndexPortal:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]&&(n.zIndexMap[e].consumers-=1,n.zIndexMap[e].consumers<=0&&!G$(e)&&delete n.zIndexMap[e])},prepare:fe()},registerZIndexPortalElement:{reducer:(n,t)=>{var{zIndex:e,element:i,isPanorama:r}=t.payload;n.zIndexMap[e]?r?n.zIndexMap[e].panoramaElement=i:n.zIndexMap[e].element=i:n.zIndexMap[e]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:fe()},unregisterZIndexPortalElement:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]&&(t.payload.isPanorama?n.zIndexMap[e].panoramaElement=void 0:n.zIndexMap[e].element=void 0)},prepare:fe()}}}),{registerZIndexPortal:V$,unregisterZIndexPortal:Y$,registerZIndexPortalElement:X$,unregisterZIndexPortalElement:K$}=zR.actions,W$=zR.reducer;function Yr(n){var{zIndex:t,children:e}=n,i=UU(),r=i&&t!==void 0&&t!==0,s=Fn(),l=Ve();T.useLayoutEffect(()=>r?(l(V$({zIndex:t})),()=>{l(Y$({zIndex:t}))}):qo,[l,t,r]);var u=wt(h=>j$(h,t,s));return r?u?GM.createPortal(e,u):null:e}function f0(){return f0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},f0.apply(null,arguments)}function $T(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Qh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(e),!0).forEach(function(i){Z$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$T(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Z$(n,t,e){return(t=Q$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Q$(n){var t=J$(n,"string");return typeof t=="symbol"?t:t+""}function J$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function tG(n){var{cursor:t,cursorComp:e,cursorProps:i}=n;return T.isValidElement(t)?T.cloneElement(t,i):T.createElement(e,i)}function eG(n){var t,{coordinate:e,payload:i,index:r,offset:s,tooltipAxisBandSize:l,layout:u,cursor:h,tooltipEventType:f,chartName:d}=n,g=e,m=i,y=r;if(!h||!g||d!=="ScatterChart"&&f!=="axis")return null;var A,w,S;if(d==="ScatterChart")A=g,w=M4,S=An.cursorLine;else if(d==="BarChart")A=D4(u,g,s,l),w=OP,S=An.cursorRectangle;else if(u==="radial"&&dD(g)){var{cx:_,cy:C,radius:x,startAngle:O,endAngle:M}=MP(g);A={cx:_,cy:C,startAngle:O,endAngle:M,innerRadius:x,outerRadius:x},w=PP,S=An.cursorLine}else A={points:AH(u,g,s)},w=_P,S=An.cursorLine;var D=typeof h=="object"&&"className"in h?h.className:void 0,R=Qh(Qh(Qh(Qh({stroke:"#ccc",pointerEvents:"none"},s),A),gd(h)),{},{payload:m,payloadIndex:y,className:ie("recharts-tooltip-cursor",D)});return T.createElement(Yr,{zIndex:(t=n.zIndex)!==null&&t!==void 0?t:S},T.createElement(tG,{cursor:h,cursorComp:w,cursorProps:R}))}function nG(n){var t=w$(),e=cP(),i=$o(),r=O$();return t==null||e==null||i==null||r==null?null:T.createElement(eG,f0({},n,{offset:e,layout:i,tooltipAxisBandSize:t,chartName:r}))}var FR=T.createContext(null),iG=()=>T.useContext(FR),Zv={exports:{}},GT;function rG(){return GT||(GT=1,(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function r(h,f,d){this.fn=h,this.context=f,this.once=d||!1}function s(h,f,d,g,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new r(d,g||h,m),A=e?e+f:f;return h._events[A]?h._events[A].fn?h._events[A]=[h._events[A],y]:h._events[A].push(y):(h._events[A]=y,h._eventsCount++),h}function l(h,f){--h._eventsCount===0?h._events=new i:delete h._events[f]}function u(){this._events=new i,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],d,g;if(this._eventsCount===0)return f;for(g in d=this._events)t.call(d,g)&&f.push(e?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},u.prototype.listeners=function(f){var d=e?e+f:f,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,y=g.length,A=new Array(y);m<y;m++)A[m]=g[m].fn;return A},u.prototype.listenerCount=function(f){var d=e?e+f:f,g=this._events[d];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,d,g,m,y,A){var w=e?e+f:f;if(!this._events[w])return!1;var S=this._events[w],_=arguments.length,C,x;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),_){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,g),!0;case 4:return S.fn.call(S.context,d,g,m),!0;case 5:return S.fn.call(S.context,d,g,m,y),!0;case 6:return S.fn.call(S.context,d,g,m,y,A),!0}for(x=1,C=new Array(_-1);x<_;x++)C[x-1]=arguments[x];S.fn.apply(S.context,C)}else{var O=S.length,M;for(x=0;x<O;x++)switch(S[x].once&&this.removeListener(f,S[x].fn,void 0,!0),_){case 1:S[x].fn.call(S[x].context);break;case 2:S[x].fn.call(S[x].context,d);break;case 3:S[x].fn.call(S[x].context,d,g);break;case 4:S[x].fn.call(S[x].context,d,g,m);break;default:if(!C)for(M=1,C=new Array(_-1);M<_;M++)C[M-1]=arguments[M];S[x].fn.apply(S[x].context,C)}}return!0},u.prototype.on=function(f,d,g){return s(this,f,d,g,!1)},u.prototype.once=function(f,d,g){return s(this,f,d,g,!0)},u.prototype.removeListener=function(f,d,g,m){var y=e?e+f:f;if(!this._events[y])return this;if(!d)return l(this,y),this;var A=this._events[y];if(A.fn)A.fn===d&&(!m||A.once)&&(!g||A.context===g)&&l(this,y);else{for(var w=0,S=[],_=A.length;w<_;w++)(A[w].fn!==d||m&&!A[w].once||g&&A[w].context!==g)&&S.push(A[w]);S.length?this._events[y]=S.length===1?S[0]:S:l(this,y)}return this},u.prototype.removeAllListeners=function(f){var d;return f?(d=e?e+f:f,this._events[d]&&l(this,d)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=e,u.EventEmitter=u,n.exports=u})(Zv)),Zv.exports}var aG=rG();const sG=zr(aG);var zu=new sG,d0="recharts.syncEvent.tooltip",VT="recharts.syncEvent.brush",oG=(n,t)=>{if(t&&Array.isArray(n)){var e=Number.parseInt(t,10);if(!Rr(e))return n[e]}},lG={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},UR=zn({name:"options",initialState:lG,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uG=UR.reducer,{createEventEmitter:cG}=UR.actions;function hG(n){return n.tooltip.syncInteraction}var fG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HR=zn({name:"chartData",initialState:fG,reducers:{setChartData(n,t){if(n.chartData=t.payload,t.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}t.payload.length>0&&n.dataEndIndex!==t.payload.length-1&&(n.dataEndIndex=t.payload.length-1)},setComputedData(n,t){n.computedData=t.payload},setDataStartEndIndexes(n,t){var{startIndex:e,endIndex:i}=t.payload;e!=null&&(n.dataStartIndex=e),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:YT,setDataStartEndIndexes:dG,setComputedData:b7}=HR.actions,pG=HR.reducer,gG=["x","y"];function XT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function bo(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(e),!0).forEach(function(i){mG(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function mG(n,t,e){return(t=vG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vG(n){var t=yG(n,"string");return typeof t=="symbol"?t:t+""}function yG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function bG(n,t){if(n==null)return{};var e,i,r=AG(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function AG(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function wG(){var n=wt(Nb),t=wt(Lb),e=Ve(),i=wt(E2),r=wt(Vr),s=$o(),l=Nd(),u=wt(h=>h.rootProps.className);T.useEffect(()=>{if(n==null)return qo;var h=(f,d,g)=>{if(t!==g&&n===f){if(i==="index"){var m;if(l&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x:A,y:w}=y,S=bG(y,gG),{x:_,y:C,width:x,height:O}=d.payload.sourceViewBox,M=bo(bo({},S),{},{x:l.x+(x?(A-_)/x:0)*l.width,y:l.y+(O?(w-C)/O:0)*l.height});e(bo(bo({},d),{},{payload:bo(bo({},d.payload),{},{coordinate:M})}))}else e(d);return}if(r!=null){var D;if(typeof i=="function"){var R={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},L=i(r,R);D=r[L]}else i==="value"&&(D=r.find(I=>String(I.value)===d.payload.label));var{coordinate:z}=d.payload;if(D==null||d.payload.active===!1||z==null||l==null){e(c0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:G}=z,U=Math.min(K,l.x+l.width),st=Math.min(G,l.y+l.height),it={x:s==="horizontal"?D.coordinate:U,y:s==="horizontal"?st:D.coordinate},lt=c0({active:d.payload.active,coordinate:it,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});e(lt)}}};return zu.on(d0,h),()=>{zu.off(d0,h)}},[u,e,t,n,i,r,s,l])}function SG(){var n=wt(Nb),t=wt(Lb),e=Ve();T.useEffect(()=>{if(n==null)return qo;var i=(r,s,l)=>{t!==l&&n===r&&e(dG(s))};return zu.on(VT,i),()=>{zu.off(VT,i)}},[e,t,n])}function _G(){var n=Ve();T.useEffect(()=>{n(cG())},[n]),wG(),SG()}function EG(n,t,e,i,r,s){var l=wt(y=>D$(y,n,t)),u=wt(Lb),h=wt(Nb),f=wt(E2),d=wt(hG),g=d?.active,m=Nd();T.useEffect(()=>{if(!g&&h!=null&&u!=null){var y=c0({active:s,coordinate:e,dataKey:l,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:m,graphicalItemId:void 0});zu.emit(d0,h,y,u)}},[g,e,l,r,i,u,h,f,s,m])}function KT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function WT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(e),!0).forEach(function(i){xG(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):KT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function xG(n,t,e){return(t=CG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function CG(n){var t=TG(n,"string");return typeof t=="symbol"?t:t+""}function TG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function OG(n){return n.dataKey}function MG(n,t){return T.isValidElement(n)?T.cloneElement(n,t):typeof n=="function"?T.createElement(n,t):T.createElement(l4,t)}var ZT=[],DG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function PG(n){var t,e,i=Bn(n,DG),{active:r,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:h,filterNull:f,isAnimationActive:d,offset:g,payloadUniqBy:m,position:y,reverseDirection:A,useTranslate3d:w,wrapperStyle:S,cursor:_,shared:C,trigger:x,defaultIndex:O,portal:M,axisId:D}=i,R=Ve(),L=typeof O=="number"?String(O):O;T.useEffect(()=>{R(x8({shared:C,trigger:x,axisId:D,active:r,defaultIndex:L}))},[R,C,x,D,r,L]);var z=Nd(),K=SP(),G=b8(C),{activeIndex:U,isActive:st}=(t=wt(ut=>k$(ut,G,x,L)))!==null&&t!==void 0?t:{},it=wt(ut=>R$(ut,G,x,L)),lt=wt(ut=>BR(ut,G,x,L)),I=wt(ut=>P$(ut,G,x,L)),F=it,et=iG(),at=(e=r??st)!==null&&e!==void 0?e:!1,[dt,k]=Kz([F,at]),$=G==="axis"?lt:void 0;EG(G,x,I,$,U,at);var tt=M??et;if(tt==null||z==null||G==null)return null;var rt=F??ZT;at||(rt=ZT),f&&rt.length&&(rt=wz(rt.filter(ut=>ut.value!=null&&(ut.hide!==!0||i.includeHidden)),m,OG));var mt=rt.length>0,At=T.createElement(g4,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:d,active:at,coordinate:I,hasPayload:mt,offset:g,position:y,reverseDirection:A,useTranslate3d:w,viewBox:z,wrapperStyle:S,lastBoundingBox:dt,innerRef:k,hasPortalFromProps:!!M},MG(h,WT(WT({},i),{},{payload:rt,label:$,active:at,activeIndex:U,coordinate:I,accessibilityLayer:K})));return T.createElement(T.Fragment,null,GM.createPortal(At,tt),at&&T.createElement(nG,{cursor:_,tooltipEventType:G,coordinate:I,payload:rt,index:U}))}function RG(n,t,e){return(t=kG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function kG(n){var t=NG(n,"string");return typeof t=="symbol"?t:t+""}function NG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class LG{constructor(t){RG(this,"cache",new Map),this.maxSize=t}get(t){var e=this.cache.get(t);return e!==void 0&&(this.cache.delete(t),this.cache.set(t,e)),e}set(t,e){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(t,e)}clear(){this.cache.clear()}size(){return this.cache.size}}function QT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function IG(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(e),!0).forEach(function(i){jG(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):QT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function jG(n,t,e){return(t=BG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function BG(n){var t=zG(n,"string");return typeof t=="symbol"?t:t+""}function zG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var FG={cacheSize:2e3,enableCache:!0},qR=IG({},FG),JT=new LG(qR.cacheSize),UG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tO="recharts_measurement_span";function HG(n,t){var e=t.fontSize||"",i=t.fontFamily||"",r=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(n,"|").concat(e,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(u)}var eO=(n,t)=>{try{var e=document.getElementById(tO);e||(e=document.createElement("span"),e.setAttribute("id",tO),e.setAttribute("aria-hidden","true"),document.body.appendChild(e)),Object.assign(e.style,UG,t),e.textContent="".concat(n);var i=e.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},vu=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bd.isSsr)return{width:0,height:0};if(!qR.enableCache)return eO(t,e);var i=HG(t,e),r=JT.get(i);if(r)return r;var s=eO(t,e);return JT.set(i,s),s},$R;function qG(n,t,e){return(t=$G(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $G(n){var t=GG(n,"string");return typeof t=="symbol"?t:t+""}function GG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var nO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KG=["cm","mm","pt","pc","in","Q","px"];function WG(n){return KG.includes(n)}var Oo="NaN";function ZG(n,t){return n*XG[t]}class sn{static parse(t){var e,[,i,r]=(e=YG.exec(t))!==null&&e!==void 0?e:[];return i==null?sn.NaN:new sn(parseFloat(i),r??"")}constructor(t,e){this.num=t,this.unit=e,this.num=t,this.unit=e,Rr(t)&&(this.unit=""),e!==""&&!VG.test(e)&&(this.num=NaN,this.unit=""),WG(e)&&(this.num=ZG(t,e),this.unit="px")}add(t){return this.unit!==t.unit?new sn(NaN,""):new sn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new sn(NaN,""):new sn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new sn(NaN,""):new sn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new sn(NaN,""):new sn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rr(this.num)}}$R=sn;qG(sn,"NaN",new $R(NaN,""));function GR(n){if(n==null||n.includes(Oo))return Oo;for(var t=n;t.includes("*")||t.includes("/");){var e,[,i,r,s]=(e=nO.exec(t))!==null&&e!==void 0?e:[],l=sn.parse(i??""),u=sn.parse(s??""),h=r==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return Oo;t=t.replace(nO,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,d,g,m]=(f=iO.exec(t))!==null&&f!==void 0?f:[],y=sn.parse(d??""),A=sn.parse(m??""),w=g==="+"?y.add(A):y.subtract(A);if(w.isNaN())return Oo;t=t.replace(iO,w.toString())}return t}var rO=/\(([^()]*)\)/;function QG(n){for(var t=n,e;(e=rO.exec(t))!=null;){var[,i]=e;t=t.replace(rO,GR(i))}return t}function JG(n){var t=n.replace(/\s+/g,"");return t=QG(t),t=GR(t),t}function tV(n){try{return JG(n)}catch{return Oo}}function Qv(n){var t=tV(n.slice(5,-1));return t===Oo?"":t}var eV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nV=["dx","dy","angle","className","breakAll"];function p0(){return p0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},p0.apply(null,arguments)}function aO(n,t){if(n==null)return{};var e,i,r=iV(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function iV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var VR=/[ \f\n\r\t\v\u2028\u2029]+/,YR=n=>{var{children:t,breakAll:e,style:i}=n;try{var r=[];cn(t)||(e?r=t.toString().split(""):r=t.toString().split(VR));var s=r.map(u=>({word:u,width:vu(u,i).width})),l=e?0:vu("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function rV(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var XR=(n,t,e,i)=>n.reduce((r,s)=>{var{word:l,width:u}=s,h=r[r.length-1];if(h&&u!=null&&(t==null||i||h.width+u+e<Number(t)))h.words.push(l),h.width+=u+e;else{var f={words:[l],width:u};r.push(f)}return r},[]),KR=n=>n.reduce((t,e)=>t.width>e.width?t:e),aV="",sO=(n,t,e,i,r,s,l,u)=>{var h=n.slice(0,t),f=YR({breakAll:e,style:i,children:h+aV});if(!f)return[!1,[]];var d=XR(f.wordsWithComputedWidth,s,l,u),g=d.length>r||KR(d).width>Number(s);return[g,d]},sV=(n,t,e,i,r)=>{var{maxLines:s,children:l,style:u,breakAll:h}=n,f=vt(s),d=String(l),g=XR(t,i,e,r);if(!f||r)return g;var m=g.length>s||KR(g).width>Number(i);if(!m)return g;for(var y=0,A=d.length-1,w=0,S;y<=A&&w<=d.length-1;){var _=Math.floor((y+A)/2),C=_-1,[x,O]=sO(d,C,h,u,s,i,e,r),[M]=sO(d,_,h,u,s,i,e,r);if(!x&&!M&&(y=_+1),x&&M&&(A=_-1),!x&&M){S=O;break}w++}return S||g},oO=n=>{var t=cn(n)?[]:n.toString().split(VR);return[{words:t,width:void 0}]},oV=n=>{var{width:t,scaleToFit:e,children:i,style:r,breakAll:s,maxLines:l}=n;if((t||e)&&!Bd.isSsr){var u,h,f=YR({breakAll:s,children:i,style:r});if(f){var{wordsWithComputedWidth:d,spaceWidth:g}=f;u=d,h=g}else return oO(i);return sV({breakAll:s,children:i,maxLines:l,style:r},u,h,t,!!e)}return oO(i)},WR="#808080",lV={angle:0,breakAll:!1,capHeight:"0.71em",fill:WR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},aA=T.forwardRef((n,t)=>{var e=Bn(n,lV),{x:i,y:r,lineHeight:s,capHeight:l,fill:u,scaleToFit:h,textAnchor:f,verticalAnchor:d}=e,g=aO(e,eV),m=T.useMemo(()=>oV({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:h,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,h,g.style,g.width]),{dx:y,dy:A,angle:w,className:S,breakAll:_}=g,C=aO(g,nV);if(!er(i)||!er(r)||m.length===0)return null;var x=Number(i)+(vt(y)?y:0),O=Number(r)+(vt(A)?A:0);if(!Ut(x)||!Ut(O))return null;var M;switch(d){case"start":M=Qv("calc(".concat(l,")"));break;case"middle":M=Qv("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:M=Qv("calc(".concat(m.length-1," * -").concat(s,")"));break}var D=[],R=m[0];if(h&&R!=null){var L=R.width,{width:z}=g;D.push("scale(".concat(vt(z)&&vt(L)?z/L:1,")"))}return w&&D.push("rotate(".concat(w,", ").concat(x,", ").concat(O,")")),D.length&&(C.transform=D.join(" ")),T.createElement("text",p0({},Sn(C),{ref:t,x,y:O,className:ie("recharts-text",S),textAnchor:f,fill:u.includes("url")?WR:u}),m.map((K,G)=>{var U=K.words.join(_?"":" ");return T.createElement("tspan",{x,dy:G===0?M:s,key:"".concat(U,"-").concat(G)},U)}))});aA.displayName="Text";function lO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Vi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(e),!0).forEach(function(i){uV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):lO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function uV(n,t,e){return(t=cV(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cV(n){var t=hV(n,"string");return typeof t=="symbol"?t:t+""}function hV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var fV=n=>{var{viewBox:t,position:e,offset:i=0,parentViewBox:r}=n,{x:s,y:l,height:u,upperWidth:h,lowerWidth:f}=nb(t),d=s,g=s+(h-f)/2,m=(d+g)/2,y=(h+f)/2,A=d+h/2,w=u>=0?1:-1,S=w*i,_=w>0?"end":"start",C=w>0?"start":"end",x=h>=0?1:-1,O=x*i,M=x>0?"end":"start",D=x>0?"start":"end",R=r;if(e==="top"){var L={x:d+h/2,y:l-S,horizontalAnchor:"middle",verticalAnchor:_};return R&&(L.height=Math.max(l-R.y,0),L.width=h),L}if(e==="bottom"){var z={x:g+f/2,y:l+u+S,horizontalAnchor:"middle",verticalAnchor:C};return R&&(z.height=Math.max(R.y+R.height-(l+u),0),z.width=f),z}if(e==="left"){var K={x:m-O,y:l+u/2,horizontalAnchor:M,verticalAnchor:"middle"};return R&&(K.width=Math.max(K.x-R.x,0),K.height=u),K}if(e==="right"){var G={x:m+y+O,y:l+u/2,horizontalAnchor:D,verticalAnchor:"middle"};return R&&(G.width=Math.max(R.x+R.width-G.x,0),G.height=u),G}var U=R?{width:y,height:u}:{};return e==="insideLeft"?Vi({x:m+O,y:l+u/2,horizontalAnchor:D,verticalAnchor:"middle"},U):e==="insideRight"?Vi({x:m+y-O,y:l+u/2,horizontalAnchor:M,verticalAnchor:"middle"},U):e==="insideTop"?Vi({x:d+h/2,y:l+S,horizontalAnchor:"middle",verticalAnchor:C},U):e==="insideBottom"?Vi({x:g+f/2,y:l+u-S,horizontalAnchor:"middle",verticalAnchor:_},U):e==="insideTopLeft"?Vi({x:d+O,y:l+S,horizontalAnchor:D,verticalAnchor:C},U):e==="insideTopRight"?Vi({x:d+h-O,y:l+S,horizontalAnchor:M,verticalAnchor:C},U):e==="insideBottomLeft"?Vi({x:g+O,y:l+u-S,horizontalAnchor:D,verticalAnchor:_},U):e==="insideBottomRight"?Vi({x:g+f-O,y:l+u-S,horizontalAnchor:M,verticalAnchor:_},U):e&&typeof e=="object"&&(vt(e.x)||bs(e.x))&&(vt(e.y)||bs(e.y))?Vi({x:s+Ra(e.x,y),y:l+Ra(e.y,u),horizontalAnchor:"end",verticalAnchor:"end"},U):Vi({x:A,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},U)},dV=["labelRef"],pV=["content"];function uO(n,t){if(n==null)return{};var e,i,r=gV(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function gV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function cO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function pu(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(e),!0).forEach(function(i){mV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):cO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function mV(n,t,e){return(t=vV(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vV(n){var t=yV(n,"string");return typeof t=="symbol"?t:t+""}function yV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Tr(){return Tr=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Tr.apply(null,arguments)}var ZR=T.createContext(null),bV=n=>{var{x:t,y:e,upperWidth:i,lowerWidth:r,width:s,height:l,children:u}=n,h=T.useMemo(()=>({x:t,y:e,upperWidth:i,lowerWidth:r,width:s,height:l}),[t,e,i,r,s,l]);return T.createElement(ZR.Provider,{value:h},u)},QR=()=>{var n=T.useContext(ZR),t=Nd();return n||(t?nb(t):void 0)},AV=T.createContext(null),wV=()=>{var n=T.useContext(AV),t=wt(M2);return n||t},SV=n=>{var{value:t,formatter:e}=n,i=cn(n.children)?t:n.children;return typeof e=="function"?e(i):i},sA=n=>n!=null&&typeof n=="function",_V=(n,t)=>{var e=Ai(t-n),i=Math.min(Math.abs(t-n),360);return e*i},EV=(n,t,e,i,r)=>{var{offset:s,className:l}=n,{cx:u,cy:h,innerRadius:f,outerRadius:d,startAngle:g,endAngle:m,clockWise:y}=r,A=(f+d)/2,w=_V(g,m),S=w>=0?1:-1,_,C;switch(t){case"insideStart":_=g+S*s,C=y;break;case"insideEnd":_=m-S*s,C=!y;break;case"end":_=m+S*s,C=y;break;default:throw new Error("Unsupported position ".concat(t))}C=w<=0?C:!C;var x=ln(u,h,A,_),O=ln(u,h,A,_+(C?1:-1)*359),M="M".concat(x.x,",").concat(x.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),D=cn(n.id)?xu("recharts-radial-line-"):n.id;return T.createElement("text",Tr({},i,{dominantBaseline:"central",className:ie("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:D,d:M})),T.createElement("textPath",{xlinkHref:"#".concat(D)},e))},xV=(n,t,e)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:l,startAngle:u,endAngle:h}=n,f=(u+h)/2;if(e==="outside"){var{x:d,y:g}=ln(i,r,l+t,f);return{x:d,y:g,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(e==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(e==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(e==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var m=(s+l)/2,{x:y,y:A}=ln(i,r,m,f);return{x:y,y:A,textAnchor:"middle",verticalAnchor:"middle"}},uf=n=>n!=null&&"cx"in n&&vt(n.cx),CV={angle:0,offset:5,zIndex:An.label,position:"middle",textBreakAll:!1};function TV(n){if(!uf(n))return n;var{cx:t,cy:e,outerRadius:i}=n,r=i*2;return{x:t-i,y:e-i,width:r,upperWidth:r,lowerWidth:r,height:r}}function wa(n){var t=Bn(n,CV),{viewBox:e,parentViewBox:i,position:r,value:s,children:l,content:u,className:h="",textBreakAll:f,labelRef:d}=t,g=wV(),m=QR(),y=r==="center"?m:g??m,A,w,S;e==null?A=y:uf(e)?A=e:A=nb(e);var _=TV(A);if(!A||cn(s)&&cn(l)&&!T.isValidElement(u)&&typeof u!="function")return null;var C=pu(pu({},t),{},{viewBox:A});if(T.isValidElement(u)){var{labelRef:x}=C,O=uO(C,dV);return T.cloneElement(u,O)}if(typeof u=="function"){var{content:M}=C,D=uO(C,pV);if(w=T.createElement(u,D),T.isValidElement(w))return w}else w=SV(t);var R=Sn(t);if(uf(A)){if(r==="insideStart"||r==="insideEnd"||r==="end")return EV(t,r,w,R,A);S=xV(A,t.offset,t.position)}else{if(!_)return null;var L=fV({viewBox:_,position:r,offset:t.offset,parentViewBox:uf(i)?void 0:i});S=pu(pu({x:L.x,y:L.y,textAnchor:L.horizontalAnchor,verticalAnchor:L.verticalAnchor},L.width!==void 0?{width:L.width}:{}),L.height!==void 0?{height:L.height}:{})}return T.createElement(Yr,{zIndex:t.zIndex},T.createElement(aA,Tr({ref:d,className:ie("recharts-label",h)},R,S,{textAnchor:rV(R.textAnchor)?R.textAnchor:S.textAnchor,breakAll:f}),w))}wa.displayName="Label";var OV=(n,t,e)=>{if(!n)return null;var i={viewBox:t,labelRef:e};return n===!0?T.createElement(wa,Tr({key:"label-implicit"},i)):er(n)?T.createElement(wa,Tr({key:"label-implicit",value:n},i)):T.isValidElement(n)?n.type===wa?T.cloneElement(n,pu({key:"label-implicit"},i)):T.createElement(wa,Tr({key:"label-implicit",content:n},i)):sA(n)?T.createElement(wa,Tr({key:"label-implicit",content:n},i)):n&&typeof n=="object"?T.createElement(wa,Tr({},n,{key:"label-implicit"},i)):null};function MV(n){var{label:t,labelRef:e}=n,i=QR();return OV(t,i,e)||null}var Jv={},ty={},hO;function DV(){return hO||(hO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e[e.length-1]}n.last=t})(ty)),ty}var ey={},fO;function PV(){return fO||(fO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Array.isArray(e)?e:Array.from(e)}n.toArray=t})(ey)),ey}var dO;function RV(){return dO||(dO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=DV(),e=PV(),i=V0();function r(s){if(i.isArrayLike(s))return t.last(e.toArray(s))}n.last=r})(Jv)),Jv}var ny,pO;function kV(){return pO||(pO=1,ny=RV().last),ny}var NV=kV();const LV=zr(NV);var IV=["valueAccessor"],jV=["dataKey","clockWise","id","textBreakAll","zIndex"];function td(){return td=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},td.apply(null,arguments)}function gO(n,t){if(n==null)return{};var e,i,r=BV(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function BV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var zV=n=>Array.isArray(n.value)?LV(n.value):n.value,JR=T.createContext(void 0),FV=JR.Provider,tk=T.createContext(void 0);tk.Provider;function UV(){return T.useContext(JR)}function HV(){return T.useContext(tk)}function cf(n){var{valueAccessor:t=zV}=n,e=gO(n,IV),{dataKey:i,clockWise:r,id:s,textBreakAll:l,zIndex:u}=e,h=gO(e,jV),f=UV(),d=HV(),g=f||d;return!g||!g.length?null:T.createElement(Yr,{zIndex:u??An.label},T.createElement(Pa,{className:"recharts-label-list"},g.map((m,y)=>{var A,w=cn(i)?t(m,y):un(m.payload,i),S=cn(s)?{}:{id:"".concat(s,"-").concat(y)};return T.createElement(wa,td({key:"label-".concat(y)},Sn(m),h,S,{fill:(A=e.fill)!==null&&A!==void 0?A:m.fill,parentViewBox:m.parentViewBox,value:w,textBreakAll:l,viewBox:m.viewBox,index:y,zIndex:0}))})))}cf.displayName="LabelList";function qV(n){var{label:t}=n;return t?t===!0?T.createElement(cf,{key:"labelList-implicit"}):T.isValidElement(t)||sA(t)?T.createElement(cf,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(cf,td({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function g0(){return g0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},g0.apply(null,arguments)}var ek=n=>{var{cx:t,cy:e,r:i,className:r}=n,s=ie("recharts-dot",r);return vt(t)&&vt(e)&&vt(i)?T.createElement("circle",g0({},tr(n),G0(n),{className:s,cx:t,cy:e,r:i})):null},$V={radiusAxis:{},angleAxis:{}},nk=zn({name:"polarAxis",initialState:$V,reducers:{addRadiusAxis(n,t){n.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(n,t){delete n.radiusAxis[t.payload.id]},addAngleAxis(n,t){n.angleAxis[t.payload.id]=t.payload},removeAngleAxis(n,t){delete n.angleAxis[t.payload.id]}}}),{addRadiusAxis:A7,removeRadiusAxis:w7,addAngleAxis:S7,removeAngleAxis:_7}=nk.actions,GV=nk.reducer;function VV(n){return n&&typeof n=="object"&&"className"in n&&typeof n.className=="string"?n.className:""}var iy={exports:{}},Vt={};var mO;function YV(){if(mO)return Vt;mO=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function w(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case n:switch(S=S.type,S){case e:case r:case i:case f:case d:return S;default:switch(S=S&&S.$$typeof,S){case u:case l:case h:case m:case g:case s:return S;default:return _}}case t:return _}}}return Vt.ContextConsumer=l,Vt.ContextProvider=s,Vt.Element=n,Vt.ForwardRef=h,Vt.Fragment=e,Vt.Lazy=m,Vt.Memo=g,Vt.Portal=t,Vt.Profiler=r,Vt.StrictMode=i,Vt.Suspense=f,Vt.SuspenseList=d,Vt.isAsyncMode=function(){return!1},Vt.isConcurrentMode=function(){return!1},Vt.isContextConsumer=function(S){return w(S)===l},Vt.isContextProvider=function(S){return w(S)===s},Vt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},Vt.isForwardRef=function(S){return w(S)===h},Vt.isFragment=function(S){return w(S)===e},Vt.isLazy=function(S){return w(S)===m},Vt.isMemo=function(S){return w(S)===g},Vt.isPortal=function(S){return w(S)===t},Vt.isProfiler=function(S){return w(S)===r},Vt.isStrictMode=function(S){return w(S)===i},Vt.isSuspense=function(S){return w(S)===f},Vt.isSuspenseList=function(S){return w(S)===d},Vt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===e||S===r||S===i||S===f||S===d||S===y||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===g||S.$$typeof===s||S.$$typeof===l||S.$$typeof===h||S.$$typeof===A||S.getModuleId!==void 0)},Vt.typeOf=w,Vt}var vO;function XV(){return vO||(vO=1,iy.exports=YV()),iy.exports}XV();var ik=n=>n&&typeof n=="object"&&"clipDot"in n?!!n.clipDot:!0,ry={},yO;function KV(){return yO||(yO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${r}]`}let i=e;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(e)===i}n.isPlainObject=t})(ry)),ry}var ay,bO;function WV(){return bO||(bO=1,ay=KV().isPlainObject),ay}var ZV=WV();const QV=zr(ZV);var AO,wO,SO,_O,EO;function xO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function CO(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(e),!0).forEach(function(i){JV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):xO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function JV(n,t,e){return(t=tY(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tY(n){var t=eY(n,"string");return typeof t=="symbol"?t:t+""}function eY(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ed(){return ed=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ed.apply(null,arguments)}function lu(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var TO=(n,t,e,i,r)=>{var s=e-i,l;return l=Ae(AO||(AO=lu(["M ",",",""])),n,t),l+=Ae(wO||(wO=lu(["L ",",",""])),n+e,t),l+=Ae(SO||(SO=lu(["L ",",",""])),n+e-s/2,t+r),l+=Ae(_O||(_O=lu(["L ",",",""])),n+e-s/2-i,t+r),l+=Ae(EO||(EO=lu(["L ",","," Z"])),n,t),l},nY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iY=n=>{var t=Bn(n,nY),{x:e,y:i,upperWidth:r,lowerWidth:s,height:l,className:u}=t,{animationEasing:h,animationDuration:f,animationBegin:d,isUpdateAnimationActive:g}=t,m=T.useRef(null),[y,A]=T.useState(-1),w=T.useRef(r),S=T.useRef(s),_=T.useRef(l),C=T.useRef(e),x=T.useRef(i),O=sb(n,"trapezoid-");if(T.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var it=m.current.getTotalLength();it&&A(it)}catch{}},[]),e!==+e||i!==+i||r!==+r||s!==+s||l!==+l||r===0&&s===0||l===0)return null;var M=ie("recharts-trapezoid",u);if(!g)return T.createElement("g",null,T.createElement("path",ed({},Sn(t),{className:M,d:TO(e,i,r,s,l)})));var D=w.current,R=S.current,L=_.current,z=C.current,K=x.current,G="0px ".concat(y===-1?1:y,"px"),U="".concat(y,"px 0px"),st=EP(["strokeDasharray"],f,h);return T.createElement(ab,{animationId:O,key:O,canBegin:y>0,duration:f,easing:h,isActive:g,begin:d},it=>{var lt=Ln(D,r,it),I=Ln(R,s,it),F=Ln(L,l,it),et=Ln(z,e,it),at=Ln(K,i,it);m.current&&(w.current=lt,S.current=I,_.current=F,C.current=et,x.current=at);var dt=it>0?{transition:st,strokeDasharray:U}:{strokeDasharray:G};return T.createElement("path",ed({},Sn(t),{className:M,d:TO(et,at,lt,I,F),ref:m,style:CO(CO({},dt),t.style)}))})},rY=["option","shapeType","activeClassName"];function aY(n,t){if(n==null)return{};var e,i,r=sY(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function sY(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function OO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function nd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(e),!0).forEach(function(i){oY(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):OO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function oY(n,t,e){return(t=lY(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function lY(n){var t=uY(n,"string");return typeof t=="symbol"?t:t+""}function uY(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function cY(n,t){return nd(nd({},t),n)}function hY(n,t){return n==="symbols"}function MO(n){var{shapeType:t,elementProps:e}=n;switch(t){case"rectangle":return T.createElement(OP,e);case"trapezoid":return T.createElement(iY,e);case"sector":return T.createElement(PP,e);case"symbols":if(hY(t))return T.createElement(fD,e);break;case"curve":return T.createElement(_P,e);default:return null}}function fY(n){return T.isValidElement(n)?n.props:n}function dY(n){var{option:t,shapeType:e,activeClassName:i="recharts-active-shape"}=n,r=aY(n,rY),s;if(T.isValidElement(t))s=T.cloneElement(t,nd(nd({},r),fY(t)));else if(typeof t=="function")s=t(r,r.index);else if(QV(t)&&typeof t!="boolean"){var l=cY(t,r);s=T.createElement(MO,{shapeType:e,elementProps:l})}else{var u=r;s=T.createElement(MO,{shapeType:e,elementProps:u})}return r.isActive?T.createElement(Pa,{className:i},s):s}function pY(n){var{tooltipEntrySettings:t}=n,e=Ve(),i=Fn(),r=T.useRef(null);return T.useLayoutEffect(()=>{i||(r.current===null?e(S8(t)):r.current!==t&&e(_8({prev:r.current,next:t})),r.current=t)},[t,e,i]),T.useLayoutEffect(()=>()=>{r.current&&(e(E8(r.current)),r.current=null)},[e]),null}function gY(n){var{legendPayload:t}=n,e=Ve(),i=Fn(),r=T.useRef(null);return T.useLayoutEffect(()=>{i||(r.current===null?e(t4(t)):r.current!==t&&e(e4({prev:r.current,next:t})),r.current=t)},[e,i,t]),T.useLayoutEffect(()=>()=>{r.current&&(e(n4(r.current)),r.current=null)},[e]),null}var sy,mY=()=>{var[n]=T.useState(()=>xu("uid-"));return n},vY=(sy=sI.useId)!==null&&sy!==void 0?sy:mY;function yY(n,t){var e=vY();return t||(n?"".concat(n,"-").concat(e):e)}var bY=T.createContext(void 0),AY=n=>{var{id:t,type:e,children:i}=n,r=yY("recharts-".concat(e),t);return T.createElement(bY.Provider,{value:r},i(r))},wY={cartesianItems:[],polarItems:[]},rk=zn({name:"graphicalItems",initialState:wY,reducers:{addCartesianGraphicalItem:{reducer(n,t){n.cartesianItems.push(t.payload)},prepare:fe()},replaceCartesianGraphicalItem:{reducer(n,t){var{prev:e,next:i}=t.payload,r=ki(n).cartesianItems.indexOf(e);r>-1&&(n.cartesianItems[r]=i)},prepare:fe()},removeCartesianGraphicalItem:{reducer(n,t){var e=ki(n).cartesianItems.indexOf(t.payload);e>-1&&n.cartesianItems.splice(e,1)},prepare:fe()},addPolarGraphicalItem:{reducer(n,t){n.polarItems.push(t.payload)},prepare:fe()},removePolarGraphicalItem:{reducer(n,t){var e=ki(n).polarItems.indexOf(t.payload);e>-1&&n.polarItems.splice(e,1)},prepare:fe()}}}),{addCartesianGraphicalItem:SY,replaceCartesianGraphicalItem:_Y,removeCartesianGraphicalItem:EY,addPolarGraphicalItem:E7,removePolarGraphicalItem:x7}=rk.actions,xY=rk.reducer,CY=n=>{var t=Ve(),e=T.useRef(null);return T.useLayoutEffect(()=>{e.current===null?t(SY(n)):e.current!==n&&t(_Y({prev:e.current,next:n})),e.current=n},[t,n]),T.useLayoutEffect(()=>()=>{e.current&&(t(EY(e.current)),e.current=null)},[t]),null},TY=T.memo(CY),OY=["points"];function DO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function oy(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(e),!0).forEach(function(i){MY(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):DO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function MY(n,t,e){return(t=DY(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function DY(n){var t=PY(n,"string");return typeof t=="symbol"?t:t+""}function PY(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function id(){return id=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},id.apply(null,arguments)}function RY(n,t){if(n==null)return{};var e,i,r=kY(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function kY(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function NY(n){var{option:t,dotProps:e,className:i}=n;if(T.isValidElement(t))return T.cloneElement(t,e);if(typeof t=="function")return t(e);var r=ie(i,typeof t!="boolean"?t.className:""),s=e??{},{points:l}=s,u=RY(s,OY);return T.createElement(ek,id({},u,{className:r}))}function LY(n,t){return n==null?!1:t?!0:n.length===1}function IY(n){var{points:t,dot:e,className:i,dotClassName:r,dataKey:s,baseProps:l,needClip:u,clipPathId:h,zIndex:f=An.scatter}=n;if(!LY(t,e))return null;var d=ik(e),g=VB(e),m=t.map((A,w)=>{var S,_,C=oy(oy(oy({r:3},l),g),{},{index:w,cx:(S=A.x)!==null&&S!==void 0?S:void 0,cy:(_=A.y)!==null&&_!==void 0?_:void 0,dataKey:s,value:A.value,payload:A.payload,points:t});return T.createElement(NY,{key:"dot-".concat(w),option:e,dotProps:C,className:r})}),y={};return u&&h!=null&&(y.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(h,")")),T.createElement(Yr,{zIndex:f},T.createElement(Pa,id({className:i},y),m))}function PO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function RO(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(e),!0).forEach(function(i){jY(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):PO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function jY(n,t,e){return(t=BY(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function BY(n){var t=zY(n,"string");return typeof t=="symbol"?t:t+""}function zY(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var FY={xAxis:{},yAxis:{},zAxis:{}},ak=zn({name:"cartesianAxis",initialState:FY,reducers:{addXAxis:{reducer(n,t){n.xAxis[t.payload.id]=t.payload},prepare:fe()},replaceXAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.xAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.xAxis[e.id],n.xAxis[i.id]=i)},prepare:fe()},removeXAxis:{reducer(n,t){delete n.xAxis[t.payload.id]},prepare:fe()},addYAxis:{reducer(n,t){n.yAxis[t.payload.id]=t.payload},prepare:fe()},replaceYAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.yAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.yAxis[e.id],n.yAxis[i.id]=i)},prepare:fe()},removeYAxis:{reducer(n,t){delete n.yAxis[t.payload.id]},prepare:fe()},addZAxis:{reducer(n,t){n.zAxis[t.payload.id]=t.payload},prepare:fe()},replaceZAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.zAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.zAxis[e.id],n.zAxis[i.id]=i)},prepare:fe()},removeZAxis:{reducer(n,t){delete n.zAxis[t.payload.id]},prepare:fe()},updateYAxisWidth(n,t){var{id:e,width:i}=t.payload,r=n.yAxis[e];if(r){var s,l=r.widthHistory||[];if(l.length===3&&l[0]===l[2]&&i===l[1]&&i!==r.width&&Math.abs(i-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...l,i].slice(-3);n.yAxis[e]=RO(RO({},r),{},{width:i,widthHistory:u})}}}}),{addXAxis:UY,replaceXAxis:HY,removeXAxis:qY,addYAxis:$Y,replaceYAxis:GY,removeYAxis:VY,addZAxis:C7,replaceZAxis:T7,removeZAxis:O7,updateYAxisWidth:YY}=ak.actions,XY=ak.reducer,KY=X([hn],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),WY=X([KY,Ur,Hr],(n,t,e)=>{if(!(!n||t==null||e==null))return{x:n.left,y:n.top,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}}),oA=()=>wt(WY),ZY=()=>wt(m$);function kO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function ly(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(e),!0).forEach(function(i){QY(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):kO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function QY(n,t,e){return(t=JY(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function JY(n){var t=tX(n,"string");return typeof t=="symbol"?t:t+""}function tX(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var eX=n=>{var{point:t,childIndex:e,mainColor:i,activeDot:r,dataKey:s,clipPath:l}=n;if(r===!1||t.x==null||t.y==null)return null;var u={index:e,dataKey:s,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},h=ly(ly(ly({},u),gd(r)),G0(r)),f;return T.isValidElement(r)?f=T.cloneElement(r,h):typeof r=="function"?f=r(h):f=T.createElement(ek,h),T.createElement(Pa,{className:"recharts-active-dot",clipPath:l},f)};function nX(n){var{points:t,mainColor:e,activeDot:i,itemDataKey:r,clipPath:s,zIndex:l=An.activeDot}=n,u=wt(Bu),h=ZY();if(t==null||h==null)return null;var f=t.find(d=>h.includes(d.payload));return cn(f)?null:T.createElement(Yr,{zIndex:l},T.createElement(eX,{point:f,childIndex:Number(u),mainColor:e,dataKey:r,activeDot:i,clipPath:s}))}var iX=n=>{var{chartData:t}=n,e=Ve(),i=Fn();return T.useEffect(()=>i?()=>{}:(e(YT(t)),()=>{e(YT(void 0))}),[t,e,i]),null},NO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},sk=zn({name:"brush",initialState:NO,reducers:{setBrushSettings(n,t){return t.payload==null?NO:t.payload}}}),{setBrushSettings:M7}=sk.actions,rX=sk.reducer;function aX(n){return(n%180+180)%180}var sX=function(t){var{width:e,height:i}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=aX(r),l=s*Math.PI/180,u=Math.atan(i/e),h=l>u&&l<Math.PI-u?i/Math.sin(l):e/Math.cos(l);return Math.abs(h)},oX={dots:[],areas:[],lines:[]},ok=zn({name:"referenceElements",initialState:oX,reducers:{addDot:(n,t)=>{n.dots.push(t.payload)},removeDot:(n,t)=>{var e=ki(n).dots.findIndex(i=>i===t.payload);e!==-1&&n.dots.splice(e,1)},addArea:(n,t)=>{n.areas.push(t.payload)},removeArea:(n,t)=>{var e=ki(n).areas.findIndex(i=>i===t.payload);e!==-1&&n.areas.splice(e,1)},addLine:(n,t)=>{n.lines.push(t.payload)},removeLine:(n,t)=>{var e=ki(n).lines.findIndex(i=>i===t.payload);e!==-1&&n.lines.splice(e,1)}}}),{addDot:D7,removeDot:P7,addArea:R7,removeArea:k7,addLine:N7,removeLine:L7}=ok.actions,lX=ok.reducer,uX=T.createContext(void 0),cX=n=>{var{children:t}=n,[e]=T.useState("".concat(xu("recharts"),"-clip")),i=oA();if(i==null)return null;var{x:r,y:s,width:l,height:u}=i;return T.createElement(uX.Provider,{value:e},T.createElement("defs",null,T.createElement("clipPath",{id:e},T.createElement("rect",{x:r,y:s,height:u,width:l}))),t)};function lk(n,t){if(t<1)return[];if(t===1)return n;for(var e=[],i=0;i<n.length;i+=t){var r=n[i];r!==void 0&&e.push(r)}return e}function hX(n,t,e){var i={width:n.width+t.width,height:n.height+t.height};return sX(i,e)}function fX(n,t,e){var i=e==="width",{x:r,y:s,width:l,height:u}=n;return t===1?{start:i?r:s,end:i?r+l:s+u}:{start:i?r+l:s+u,end:i?r:s}}function Fu(n,t,e,i,r){if(n*t<n*i||n*t>n*r)return!1;var s=e();return n*(t-n*s/2-i)>=0&&n*(t+n*s/2-r)<=0}function dX(n,t){return lk(n,t+1)}function pX(n,t,e,i,r){for(var s=(i||[]).slice(),{start:l,end:u}=t,h=0,f=1,d=l,g=function(){var A=i?.[h];if(A===void 0)return{v:lk(i,f)};var w=h,S,_=()=>(S===void 0&&(S=e(A,w)),S),C=A.coordinate,x=h===0||Fu(n,C,_,d,u);x||(h=0,d=l,f+=1),x&&(d=C+n*(_()/2+r),h+=f)},m;f<=s.length;)if(m=g(),m)return m.v;return[]}function gX(n,t,e,i,r){var s=(i||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:h}=t,f=1;f<=l;f++){for(var d=(l-1)%f,g=u,m=!0,y=function(){var O=i[w];if(O==null)return 0;var M=w,D,R=()=>(D===void 0&&(D=e(O,M)),D),L=O.coordinate,z=w===d||Fu(n,L,R,g,h);if(!z)return m=!1,1;z&&(g=L+n*(R()/2+r))},A,w=d;w<l&&(A=y(),!(A!==0&&A===1));w+=f);if(m){for(var S=[],_=d;_<l;_+=f){var C=i[_];C!=null&&S.push(C)}return S}}return[]}function LO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function dn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(e),!0).forEach(function(i){mX(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):LO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function mX(n,t,e){return(t=vX(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vX(n){var t=yX(n,"string");return typeof t=="symbol"?t:t+""}function yX(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function bX(n,t,e,i,r){for(var s=(i||[]).slice(),l=s.length,{start:u}=t,{end:h}=t,f=function(m){var y=s[m];if(y==null)return 1;var A=y,w,S=()=>(w===void 0&&(w=e(y,m)),w);if(m===l-1){var _=n*(A.coordinate+n*S()/2-h);s[m]=A=dn(dn({},A),{},{tickCoord:_>0?A.coordinate-_*n:A.coordinate})}else s[m]=A=dn(dn({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var C=Fu(n,A.tickCoord,S,u,h);C&&(h=A.tickCoord-n*(S()/2+r),s[m]=dn(dn({},A),{},{isShow:!0}))}},d=l-1;d>=0;d--)f(d);return s}function AX(n,t,e,i,r,s){var l=(i||[]).slice(),u=l.length,{start:h,end:f}=t;if(s){var d=i[u-1];if(d!=null){var g=e(d,u-1),m=n*(d.coordinate+n*g/2-f);if(l[u-1]=d=dn(dn({},d),{},{tickCoord:m>0?d.coordinate-m*n:d.coordinate}),d.tickCoord!=null){var y=Fu(n,d.tickCoord,()=>g,h,f);y&&(f=d.tickCoord-n*(g/2+r),l[u-1]=dn(dn({},d),{},{isShow:!0}))}}}for(var A=s?u-1:u,w=function(C){var x=l[C];if(x==null)return 1;var O=x,M,D=()=>(M===void 0&&(M=e(x,C)),M);if(C===0){var R=n*(O.coordinate-n*D()/2-h);l[C]=O=dn(dn({},O),{},{tickCoord:R<0?O.coordinate-R*n:O.coordinate})}else l[C]=O=dn(dn({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var L=Fu(n,O.tickCoord,D,h,f);L&&(h=O.tickCoord+n*(D()/2+r),l[C]=dn(dn({},O),{},{isShow:!0}))}},S=0;S<A;S++)w(S);return l}function lA(n,t,e){var{tick:i,ticks:r,viewBox:s,minTickGap:l,orientation:u,interval:h,tickFormatter:f,unit:d,angle:g}=n;if(!r||!r.length||!i)return[];if(vt(h)||Bd.isSsr){var m;return(m=dX(r,vt(h)?h:0))!==null&&m!==void 0?m:[]}var y=[],A=u==="top"||u==="bottom"?"width":"height",w=d&&A==="width"?vu(d,{fontSize:t,letterSpacing:e}):{width:0,height:0},S=(M,D)=>{var R=typeof f=="function"?f(M.value,D):M.value;return A==="width"?hX(vu(R,{fontSize:t,letterSpacing:e}),w,g):vu(R,{fontSize:t,letterSpacing:e})[A]},_=r[0],C=r[1],x=r.length>=2&&_!=null&&C!=null?Ai(C.coordinate-_.coordinate):1,O=fX(s,x,A);return h==="equidistantPreserveStart"?pX(x,O,S,r,l):h==="equidistantPreserveEnd"?gX(x,O,S,r,l):(h==="preserveStart"||h==="preserveStartEnd"?y=AX(x,O,S,r,l,h==="preserveStartEnd"):y=bX(x,O,S,r,l),y.filter(M=>M.isShow))}var wX=n=>{var{ticks:t,label:e,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,l=0;if(t){Array.from(t).forEach(d=>{if(d){var g=d.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=e?e.getBoundingClientRect().width:0,h=r+s,f=l+h+u+(e?i:0);return Math.round(f)}return 0},SX=["axisLine","width","height","className","hide","ticks","axisType"];function _X(n,t){if(n==null)return{};var e,i,r=EX(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function EX(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function Es(){return Es=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Es.apply(null,arguments)}function IO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function be(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(e),!0).forEach(function(i){xX(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):IO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function xX(n,t,e){return(t=CX(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function CX(n){var t=TX(n,"string");return typeof t=="symbol"?t:t+""}function TX(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Pr={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:An.axis};function OX(n){var{x:t,y:e,width:i,height:r,orientation:s,mirror:l,axisLine:u,otherSvgProps:h}=n;if(!u)return null;var f=be(be(be({},h),tr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!l||s==="bottom"&&l);f=be(be({},f),{},{x1:t,y1:e+d*r,x2:t+i,y2:e+d*r})}else{var g=+(s==="left"&&!l||s==="right"&&l);f=be(be({},f),{},{x1:t+g*i,y1:e,x2:t+g*i,y2:e+r})}return T.createElement("line",Es({},f,{className:ie("recharts-cartesian-axis-line",bd(u,"className"))}))}function MX(n,t,e,i,r,s,l,u,h){var f,d,g,m,y,A,w=u?-1:1,S=n.tickSize||l,_=vt(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":f=d=n.coordinate,m=e+ +!u*r,g=m-w*S,A=g-w*h,y=_;break;case"left":g=m=n.coordinate,d=t+ +!u*i,f=d-w*S,y=f-w*h,A=_;break;case"right":g=m=n.coordinate,d=t+ +u*i,f=d+w*S,y=f+w*h,A=_;break;default:f=d=n.coordinate,m=e+ +u*r,g=m+w*S,A=g+w*h,y=_;break}return{line:{x1:f,y1:g,x2:d,y2:m},tick:{x:y,y:A}}}function DX(n,t){switch(n){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function PX(n,t){switch(n){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function RX(n){var{option:t,tickProps:e,value:i}=n,r,s=ie(e.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))r=T.cloneElement(t,be(be({},e),{},{className:s}));else if(typeof t=="function")r=t(be(be({},e),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ie(l,VV(t))),r=T.createElement(aA,Es({},e,{className:l}),i)}return r}var kX=T.forwardRef((n,t)=>{var{ticks:e=[],tick:i,tickLine:r,stroke:s,tickFormatter:l,unit:u,padding:h,tickTextProps:f,orientation:d,mirror:g,x:m,y,width:A,height:w,tickSize:S,tickMargin:_,fontSize:C,letterSpacing:x,getTicksConfig:O,events:M,axisType:D}=n,R=lA(be(be({},O),{},{ticks:e}),C,x),L=DX(d,g),z=PX(d,g),K=tr(O),G=gd(i),U={};typeof r=="object"&&(U=r);var st=be(be({},K),{},{fill:"none"},U),it=R.map(F=>be({entry:F},MX(F,m,y,A,w,d,S,g,_))),lt=it.map(F=>{var{entry:et,line:at}=F;return T.createElement(Pa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(et.value,"-").concat(et.coordinate,"-").concat(et.tickCoord)},r&&T.createElement("line",Es({},st,at,{className:ie("recharts-cartesian-axis-tick-line",bd(r,"className"))})))}),I=it.map((F,et)=>{var at,dt,{entry:k,tick:$}=F,tt=be(be(be(be({verticalAnchor:z},K),{},{textAnchor:L,stroke:"none",fill:s},$),{},{index:et,payload:k,visibleTicksCount:R.length,tickFormatter:l,padding:h},f),{},{angle:(at=(dt=f?.angle)!==null&&dt!==void 0?dt:K.angle)!==null&&at!==void 0?at:0}),rt=be(be({},tt),G);return T.createElement(Pa,Es({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},W3(M,k,et)),i&&T.createElement(RX,{option:i,tickProps:rt,value:"".concat(typeof l=="function"?l(k.value,et):k.value).concat(u||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},I.length>0&&T.createElement(Yr,{zIndex:An.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},I)),lt.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},lt))}),NX=T.forwardRef((n,t)=>{var{axisLine:e,width:i,height:r,className:s,hide:l,ticks:u,axisType:h}=n,f=_X(n,SX),[d,g]=T.useState(""),[m,y]=T.useState(""),A=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return wX({ticks:A.current,label:(S=n.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var w=T.useCallback(S=>{if(S){var _=S.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=_;var C=_[0];if(C){var x=window.getComputedStyle(C),O=x.fontSize,M=x.letterSpacing;(O!==d||M!==m)&&(g(O),y(M))}}},[d,m]);return l||i!=null&&i<=0||r!=null&&r<=0?null:T.createElement(Yr,{zIndex:n.zIndex},T.createElement(Pa,{className:ie("recharts-cartesian-axis",s)},T.createElement(OX,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:e,otherSvgProps:tr(n)}),T.createElement(kX,{ref:w,axisType:h,events:f,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:m,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:u,unit:n.unit,width:n.width,x:n.x,y:n.y}),T.createElement(bV,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},T.createElement(MV,{label:n.label,labelRef:n.labelRef}),n.children)))}),uA=T.forwardRef((n,t)=>{var e=Bn(n,Pr);return T.createElement(NX,Es({},e,{ref:t}))});uA.displayName="CartesianAxis";var LX=["x1","y1","x2","y2","key"],IX=["offset"],jX=["xAxisId","yAxisId"],BX=["xAxisId","yAxisId"];function jO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function pn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(e),!0).forEach(function(i){zX(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):jO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function zX(n,t,e){return(t=FX(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function FX(n){var t=UX(n,"string");return typeof t=="symbol"?t:t+""}function UX(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ls(){return ls=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ls.apply(null,arguments)}function rd(n,t){if(n==null)return{};var e,i,r=HX(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function HX(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var qX=n=>{var{fill:t}=n;if(!t||t==="none")return null;var{fillOpacity:e,x:i,y:r,width:s,height:l,ry:u}=n;return T.createElement("rect",{x:i,y:r,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:e,className:"recharts-cartesian-grid-bg"})};function uk(n){var{option:t,lineItemProps:e}=n,i;if(T.isValidElement(t))i=T.cloneElement(t,e);else if(typeof t=="function")i=t(e);else{var r,{x1:s,y1:l,x2:u,y2:h,key:f}=e,d=rd(e,LX),g=(r=tr(d))!==null&&r!==void 0?r:{},{offset:m}=g,y=rd(g,IX);i=T.createElement("line",ls({},y,{x1:s,y1:l,x2:u,y2:h,fill:"none",key:f}))}return i}function $X(n){var{x:t,width:e,horizontal:i=!0,horizontalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:s,yAxisId:l}=n,u=rd(n,jX),h=r.map((f,d)=>{var g=pn(pn({},u),{},{x1:t,y1:f,x2:t+e,y2:f,key:"line-".concat(d),index:d});return T.createElement(uk,{key:"line-".concat(d),option:i,lineItemProps:g})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function GX(n){var{y:t,height:e,vertical:i=!0,verticalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:s,yAxisId:l}=n,u=rd(n,BX),h=r.map((f,d)=>{var g=pn(pn({},u),{},{x1:f,y1:t,x2:f,y2:t+e,key:"line-".concat(d),index:d});return T.createElement(uk,{option:i,lineItemProps:g,key:"line-".concat(d)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function VX(n){var{horizontalFill:t,fillOpacity:e,x:i,y:r,width:s,height:l,horizontalPoints:u,horizontal:h=!0}=n;if(!h||!t||!t.length||u==null)return null;var f=u.map(g=>Math.round(g+r-r)).sort((g,m)=>g-m);r!==f[0]&&f.unshift(0);var d=f.map((g,m)=>{var y=f[m+1],A=y==null,w=A?r+l-g:y-g;if(w<=0)return null;var S=m%t.length;return T.createElement("rect",{key:"react-".concat(m),y:g,x:i,height:w,width:s,stroke:"none",fill:t[S],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function YX(n){var{vertical:t=!0,verticalFill:e,fillOpacity:i,x:r,y:s,width:l,height:u,verticalPoints:h}=n;if(!t||!e||!e.length)return null;var f=h.map(g=>Math.round(g+r-r)).sort((g,m)=>g-m);r!==f[0]&&f.unshift(0);var d=f.map((g,m)=>{var y=f[m+1],A=y==null,w=A?r+l-g:y-g;if(w<=0)return null;var S=m%e.length;return T.createElement("rect",{key:"react-".concat(m),x:g,y:s,width:w,height:u,stroke:"none",fill:e[S],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var XX=(n,t)=>{var{xAxis:e,width:i,height:r,offset:s}=n;return nP(lA(pn(pn(pn({},Pr),e),{},{ticks:iP(e),viewBox:{x:0,y:0,width:i,height:r}})),s.left,s.left+s.width,t)},KX=(n,t)=>{var{yAxis:e,width:i,height:r,offset:s}=n;return nP(lA(pn(pn(pn({},Pr),e),{},{ticks:iP(e),viewBox:{x:0,y:0,width:i,height:r}})),s.top,s.top+s.height,t)},WX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:An.grid};function ck(n){var t=hP(),e=fP(),i=cP(),r=pn(pn({},Bn(n,WX)),{},{x:vt(n.x)?n.x:i.left,y:vt(n.y)?n.y:i.top,width:vt(n.width)?n.width:i.width,height:vt(n.height)?n.height:i.height}),{xAxisId:s,yAxisId:l,x:u,y:h,width:f,height:d,syncWithTicks:g,horizontalValues:m,verticalValues:y}=r,A=Fn(),w=wt(z=>LT(z,"xAxis",s,A)),S=wt(z=>LT(z,"yAxis",l,A));if(!nr(f)||!nr(d)||!vt(u)||!vt(h))return null;var _=r.verticalCoordinatesGenerator||XX,C=r.horizontalCoordinatesGenerator||KX,{horizontalPoints:x,verticalPoints:O}=r;if((!x||!x.length)&&typeof C=="function"){var M=m&&m.length,D=C({yAxis:S?pn(pn({},S),{},{ticks:M?m:S.ticks}):void 0,width:t??f,height:e??d,offset:i},M?!0:g);Df(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(x=D)}if((!O||!O.length)&&typeof _=="function"){var R=y&&y.length,L=_({xAxis:w?pn(pn({},w),{},{ticks:R?y:w.ticks}):void 0,width:t??f,height:e??d,offset:i},R?!0:g);Df(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(O=L)}return T.createElement(Yr,{zIndex:r.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(qX,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),T.createElement(VX,ls({},r,{horizontalPoints:x})),T.createElement(YX,ls({},r,{verticalPoints:O})),T.createElement($X,ls({},r,{offset:i,horizontalPoints:x,xAxis:w,yAxis:S})),T.createElement(GX,ls({},r,{offset:i,verticalPoints:O,xAxis:w,yAxis:S}))))}ck.displayName="CartesianGrid";var ZX={},hk=zn({name:"errorBars",initialState:ZX,reducers:{addErrorBar:(n,t)=>{var{itemId:e,errorBar:i}=t.payload;n[e]||(n[e]=[]),n[e].push(i)},replaceErrorBar:(n,t)=>{var{itemId:e,prev:i,next:r}=t.payload;n[e]&&(n[e]=n[e].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,t)=>{var{itemId:e,errorBar:i}=t.payload;n[e]&&(n[e]=n[e].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:I7,replaceErrorBar:j7,removeErrorBar:B7}=hk.actions,QX=hk.reducer,JX=["children"];function tK(n,t){if(n==null)return{};var e,i,r=eK(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function eK(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var nK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iK=T.createContext(nK);function rK(n){var{children:t}=n,e=tK(n,JX);return T.createElement(iK.Provider,{value:e},t)}function fk(n,t){var e,i,r=wt(f=>$r(f,n)),s=wt(f=>Gr(f,t)),l=(e=r?.allowDataOverflow)!==null&&e!==void 0?e:qe.allowDataOverflow,u=(i=s?.allowDataOverflow)!==null&&i!==void 0?i:$e.allowDataOverflow,h=l||u;return{needClip:h,needClipX:l,needClipY:u}}function aK(n){var{xAxisId:t,yAxisId:e,clipPathId:i}=n,r=oA(),{needClipX:s,needClipY:l,needClip:u}=fk(t,e);if(!u||!r)return null;var{x:h,y:f,width:d,height:g}=r;return T.createElement("clipPath",{id:"clipPath-".concat(i)},T.createElement("rect",{x:s?h:h-d/2,y:l?f:f-g/2,width:s?d:d*2,height:l?g:g*2}))}var dk=(n,t,e,i)=>pR(n,"xAxis",t,i),pk=(n,t,e,i)=>dR(n,"xAxis",t,i),gk=(n,t,e,i)=>pR(n,"yAxis",e,i),mk=(n,t,e,i)=>dR(n,"yAxis",e,i),sK=X([me,dk,gk,pk,mk],(n,t,e,i,r)=>Fr(n,"xAxis")?Mf(t,i,!1):Mf(e,r,!1)),oK=(n,t,e,i,r)=>r;function lK(n){return n.type==="line"}var uK=X([I2,oK],(n,t)=>n.filter(lK).find(e=>e.id===t)),cK=X([me,dk,gk,pk,mk,uK,sK,Db],(n,t,e,i,r,s,l,u)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:d}=u;if(!(s==null||t==null||e==null||i==null||r==null||i.length===0||r.length===0||l==null||n!=="horizontal"&&n!=="vertical")){var{dataKey:g,data:m}=s,y;if(m!=null&&m.length>0?y=m:y=h?.slice(f,d+1),y!=null)return ZK({layout:n,xAxis:t,yAxis:e,xAxisTicks:i,yAxisTicks:r,dataKey:g,bandSize:l,displayedData:y})}});function hK(n){var t=gd(n),e=3,i=2;if(t!=null){var{r,strokeWidth:s}=t,l=Number(r),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=e),(Number.isNaN(u)||u<0)&&(u=i),{r:l,strokeWidth:u}}return{r:e,strokeWidth:i}}var uy={exports:{}},cy={};var BO;function fK(){if(BO)return cy;BO=1;var n=Ho();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,l=n.useMemo,u=n.useDebugValue;return cy.useSyncExternalStoreWithSelector=function(h,f,d,g,m){var y=r(null);if(y.current===null){var A={hasValue:!1,value:null};y.current=A}else A=y.current;y=l(function(){function S(M){if(!_){if(_=!0,C=M,M=g(M),m!==void 0&&A.hasValue){var D=A.value;if(m(D,M))return x=D}return x=M}if(D=x,e(C,M))return D;var R=g(M);return m!==void 0&&m(D,R)?(C=M,D):(C=M,x=R)}var _=!1,C,x,O=d===void 0?null:d;return[function(){return S(f())},O===null?void 0:function(){return S(O())}]},[f,d,g,m]);var w=i(h,y[0],y[1]);return s(function(){A.hasValue=!0,A.value=w},[w]),u(w),w},cy}var zO;function dK(){return zO||(zO=1,uy.exports=fK()),uy.exports}dK();function pK(n){n()}function gK(){let n=null,t=null;return{clear(){n=null,t=null},notify(){pK(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var FO={notify(){},get:()=>[]};function mK(n,t){let e,i=FO,r=0,s=!1;function l(w){d();const S=i.subscribe(w);let _=!1;return()=>{_||(_=!0,S(),g())}}function u(){i.notify()}function h(){A.onStateChange&&A.onStateChange()}function f(){return s}function d(){r++,e||(e=n.subscribe(h),i=gK())}function g(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=FO)}function m(){s||(s=!0,d())}function y(){s&&(s=!1,g())}const A={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>i};return A}var vK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yK=vK(),bK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AK=bK(),wK=()=>yK||AK?T.useLayoutEffect:T.useEffect,SK=wK();function UO(n,t){return n===t?n!==0||t!==0||1/n===1/t:n!==n&&t!==t}function _K(n,t){if(UO(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(t,e[r])||!UO(n[e[r]],t[e[r]]))return!1;return!0}var EK=Symbol.for("react-redux-context"),xK=typeof globalThis<"u"?globalThis:{};function CK(){if(!T.createContext)return{};const n=xK[EK]??=new Map;let t=n.get(T.createContext);return t||(t=T.createContext(null),n.set(T.createContext,t)),t}var TK=CK();function OK(n){const{children:t,context:e,serverState:i,store:r}=n,s=T.useMemo(()=>{const h=mK(r);return{store:r,subscription:h,getServerState:i?()=>i:void 0}},[r,i]),l=T.useMemo(()=>r.getState(),[r]);SK(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==r.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,l]);const u=e||TK;return T.createElement(u.Provider,{value:s},t)}var MK=OK,DK=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function PK(n,t){return n==null&&t==null?!0:typeof n=="number"&&typeof t=="number"?n===t||n!==n&&t!==t:n===t}function cA(n,t){var e=new Set([...Object.keys(n),...Object.keys(t)]);for(var i of e)if(DK.has(i)){if(n[i]==null&&t[i]==null)continue;if(!_K(n[i],t[i]))return!1}else if(!PK(n[i],t[i]))return!1;return!0}var RK=["id"],kK=["type","layout","connectNulls","needClip","shape"],NK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Uu(){return Uu=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Uu.apply(null,arguments)}function HO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ki(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(e),!0).forEach(function(i){LK(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):HO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function LK(n,t,e){return(t=IK(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function IK(n){var t=jK(n,"string");return typeof t=="symbol"?t:t+""}function jK(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function hA(n,t){if(n==null)return{};var e,i,r=BK(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function BK(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var zK=n=>{var{dataKey:t,name:e,stroke:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:t,type:r,color:i,value:rP(e,t),payload:n}]},FK=T.memo(n=>{var{dataKey:t,data:e,stroke:i,strokeWidth:r,fill:s,name:l,hide:u,unit:h,tooltipType:f,id:d}=n,g={dataDefinedOnItem:e,getPosition:qo,settings:{stroke:i,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:rP(l,t),hide:u,type:f,color:i,unit:h,graphicalItemId:d}};return T.createElement(pY,{tooltipEntrySettings:g})}),vk=(n,t)=>"".concat(t,"px ").concat(n-t,"px");function UK(n,t){for(var e=n.length%2!==0?[...n,0]:n,i=[],r=0;r<t;++r)i=[...i,...e];return i}var HK=(n,t,e)=>{var i=e.reduce((y,A)=>y+A);if(!i)return vk(t,n);for(var r=Math.floor(n/i),s=n%i,l=t-n,u=[],h=0,f=0;h<e.length;f+=(d=e[h])!==null&&d!==void 0?d:0,++h){var d,g=e[h];if(g!=null&&f+g>s){u=[...e.slice(0,h),s-f];break}}var m=u.length%2===0?[0,l]:[l];return[...UK(e,r),...u,...m].map(y=>"".concat(y,"px")).join(", ")};function qK(n){var{clipPathId:t,points:e,props:i}=n,{dot:r,dataKey:s,needClip:l}=i,{id:u}=i,h=hA(i,RK),f=tr(h);return T.createElement(IY,{points:e,dot:r,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:f,needClip:l,clipPathId:t})}function $K(n){var{showLabels:t,children:e,points:i}=n,r=T.useMemo(()=>i?.map(s=>{var l,u,h={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ki(Ki({},h),{},{value:s.value,payload:s.payload,viewBox:h,parentViewBox:void 0,fill:void 0})}),[i]);return T.createElement(FV,{value:t?r:void 0},e)}function qO(n){var{clipPathId:t,pathRef:e,points:i,strokeDasharray:r,props:s}=n,{type:l,layout:u,connectNulls:h,needClip:f,shape:d}=s,g=hA(s,kK),m=Ki(Ki({},Sn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:i,type:l,layout:u,connectNulls:h,strokeDasharray:r??s.strokeDasharray});return T.createElement(T.Fragment,null,i?.length>1&&T.createElement(dY,Uu({shapeType:"curve",option:d},m,{pathRef:e})),T.createElement(qK,{points:i,clipPathId:t,props:s}))}function GK(n){try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}function VK(n){var{clipPathId:t,props:e,pathRef:i,previousPointsRef:r,longestAnimatedLengthRef:s}=n,{points:l,strokeDasharray:u,isAnimationActive:h,animationBegin:f,animationDuration:d,animationEasing:g,animateNewValues:m,width:y,height:A,onAnimationEnd:w,onAnimationStart:S}=e,_=r.current,C=sb(l,"recharts-line-"),x=T.useRef(C),[O,M]=T.useState(!1),D=!O,R=T.useCallback(()=>{typeof w=="function"&&w(),M(!1)},[w]),L=T.useCallback(()=>{typeof S=="function"&&S(),M(!0)},[S]),z=GK(i.current),K=T.useRef(0);x.current!==C&&(K.current=s.current,x.current=C);var G=K.current;return T.createElement($K,{points:l,showLabels:D},e.children,T.createElement(ab,{animationId:C,begin:f,duration:d,isActive:h,easing:g,onAnimationEnd:R,onAnimationStart:L,key:C},U=>{var st=Ln(G,z+G,U),it=Math.min(st,z),lt;if(h)if(u){var I="".concat(u).split(/[,\s]+/gim).map(at=>parseFloat(at));lt=HK(it,z,I)}else lt=vk(z,it);else lt=u==null?void 0:String(u);if(U>0&&z>0&&(r.current=l,s.current=Math.max(s.current,it)),_){var F=_.length/l.length,et=U===1?l:l.map((at,dt)=>{var k=Math.floor(dt*F);if(_[k]){var $=_[k];return Ki(Ki({},at),{},{x:Ln($.x,at.x,U),y:Ln($.y,at.y,U)})}return m?Ki(Ki({},at),{},{x:Ln(y*2,at.x,U),y:Ln(A/2,at.y,U)}):Ki(Ki({},at),{},{x:at.x,y:at.y})});return r.current=et,T.createElement(qO,{props:e,points:et,clipPathId:t,pathRef:i,strokeDasharray:lt})}return T.createElement(qO,{props:e,points:l,clipPathId:t,pathRef:i,strokeDasharray:lt})}),T.createElement(qV,{label:e.label}))}function YK(n){var{clipPathId:t,props:e}=n,i=T.useRef(null),r=T.useRef(0),s=T.useRef(null);return T.createElement(VK,{props:e,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:r,pathRef:s})}var XK=(n,t)=>{var e,i;return{x:(e=n.x)!==null&&e!==void 0?e:void 0,y:(i=n.y)!==null&&i!==void 0?i:void 0,value:n.value,errorVal:un(n.payload,t)}};class KK extends T.Component{render(){var{hide:t,dot:e,points:i,className:r,xAxisId:s,yAxisId:l,top:u,left:h,width:f,height:d,id:g,needClip:m,zIndex:y}=this.props;if(t)return null;var A=ie("recharts-line",r),w=g,{r:S,strokeWidth:_}=hK(e),C=ik(e),x=S*2+_,O=m?"url(#clipPath-".concat(C?"":"dots-").concat(w,")"):void 0;return T.createElement(Yr,{zIndex:y},T.createElement(Pa,{className:A},m&&T.createElement("defs",null,T.createElement(aK,{clipPathId:w,xAxisId:s,yAxisId:l}),!C&&T.createElement("clipPath",{id:"clipPath-dots-".concat(w)},T.createElement("rect",{x:h-x/2,y:u-x/2,width:f+x,height:d+x}))),T.createElement(rK,{xAxisId:s,yAxisId:l,data:i,dataPointFormatter:XK,errorBarOffset:0},T.createElement(YK,{props:this.props,clipPathId:w}))),T.createElement(nX,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var yk={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:An.line,type:"linear"};function WK(n){var t=Bn(n,yk),{activeDot:e,animateNewValues:i,animationBegin:r,animationDuration:s,animationEasing:l,connectNulls:u,dot:h,hide:f,isAnimationActive:d,label:g,legendType:m,xAxisId:y,yAxisId:A,id:w}=t,S=hA(t,NK),{needClip:_}=fk(y,A),C=oA(),x=$o(),O=Fn(),M=wt(K=>cK(K,y,A,O,w));if(x!=="horizontal"&&x!=="vertical"||M==null||C==null)return null;var{height:D,width:R,x:L,y:z}=C;return T.createElement(KK,Uu({},S,{id:w,connectNulls:u,dot:h,activeDot:e,animateNewValues:i,animationBegin:r,animationDuration:s,animationEasing:l,isAnimationActive:d,hide:f,label:g,legendType:m,xAxisId:y,yAxisId:A,points:M,layout:x,height:D,width:R,left:L,top:z,needClip:_}))}function ZK(n){var{layout:t,xAxis:e,yAxis:i,xAxisTicks:r,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:h}=n;return h.map((f,d)=>{var g=un(f,l);if(t==="horizontal"){var m=Ix({axis:e,ticks:r,bandSize:u,entry:f,index:d}),y=cn(g)?null:i.scale.map(g);return{x:m,y:y??null,value:g,payload:f}}var A=cn(g)?null:e.scale.map(g),w=Ix({axis:i,ticks:s,bandSize:u,entry:f,index:d});return A==null||w==null?null:{x:A,y:w,value:g,payload:f}}).filter(Boolean)}function QK(n){var t=Bn(n,yk),e=Fn();return T.createElement(AY,{id:t.id,type:"line"},i=>T.createElement(T.Fragment,null,T.createElement(gY,{legendPayload:zK(t)}),T.createElement(FK,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),T.createElement(TY,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:e}),T.createElement(WK,Uu({},t,{id:i}))))}var bk=T.memo(QK,cA);bk.displayName="Line";var JK=["domain","range"],t9=["domain","range"];function $O(n,t){if(n==null)return{};var e,i,r=e9(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function e9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function GO(n,t){return n===t?!0:Array.isArray(n)&&n.length===2&&Array.isArray(t)&&t.length===2?n[0]===t[0]&&n[1]===t[1]:!1}function Ak(n,t){if(n===t)return!0;var{domain:e,range:i}=n,r=$O(n,JK),{domain:s,range:l}=t,u=$O(t,t9);return!GO(e,s)||!GO(i,l)?!1:cA(r,u)}var n9=["type"],i9=["dangerouslySetInnerHTML","ticks","scale"],r9=["id","scale"];function m0(){return m0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},m0.apply(null,arguments)}function VO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function YO(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(e),!0).forEach(function(i){a9(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):VO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function a9(n,t,e){return(t=s9(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function s9(n){var t=o9(n,"string");return typeof t=="symbol"?t:t+""}function o9(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function v0(n,t){if(n==null)return{};var e,i,r=l9(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function l9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function u9(n){var t=Ve(),e=T.useRef(null),i=dP(),{type:r}=n,s=v0(n,n9),l=Yd(i,"xAxis",r),u=T.useMemo(()=>{if(l!=null)return YO(YO({},s),{},{type:l})},[s,l]);return T.useLayoutEffect(()=>{u!=null&&(e.current===null?t(UY(u)):e.current!==u&&t(HY({prev:e.current,next:u})),e.current=u)},[u,t]),T.useLayoutEffect(()=>()=>{e.current&&(t(qY(e.current)),e.current=null)},[t]),null}var c9=n=>{var{xAxisId:t,className:e}=n,i=wt(sP),r=Fn(),s="xAxis",l=wt(_=>fR(_,s,t,r)),u=wt(_=>a8(_,t)),h=wt(_=>h8(_,t)),f=wt(_=>R2(_,t));if(u==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:d,ticks:g,scale:m}=n,y=v0(n,i9),{id:A,scale:w}=f,S=v0(f,r9);return T.createElement(uA,m0({},y,S,{x:h.x,y:h.y,width:u.width,height:u.height,className:ie("recharts-".concat(s," ").concat(s),e),viewBox:i,ticks:l,axisType:s}))},h9={allowDataOverflow:qe.allowDataOverflow,allowDecimals:qe.allowDecimals,allowDuplicatedCategory:qe.allowDuplicatedCategory,angle:qe.angle,axisLine:Pr.axisLine,height:qe.height,hide:!1,includeHidden:qe.includeHidden,interval:qe.interval,label:!1,minTickGap:qe.minTickGap,mirror:qe.mirror,orientation:qe.orientation,padding:qe.padding,reversed:qe.reversed,scale:qe.scale,tick:qe.tick,tickCount:qe.tickCount,tickLine:Pr.tickLine,tickSize:Pr.tickSize,type:qe.type,xAxisId:0},f9=n=>{var t=Bn(n,h9);return T.createElement(T.Fragment,null,T.createElement(u9,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),T.createElement(c9,t))},wk=T.memo(f9,Ak);wk.displayName="XAxis";var d9=["type"],p9=["dangerouslySetInnerHTML","ticks","scale"],g9=["id","scale"];function y0(){return y0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},y0.apply(null,arguments)}function XO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function KO(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(e),!0).forEach(function(i){m9(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function m9(n,t,e){return(t=v9(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function v9(n){var t=y9(n,"string");return typeof t=="symbol"?t:t+""}function y9(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function b0(n,t){if(n==null)return{};var e,i,r=b9(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function b9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function A9(n){var t=Ve(),e=T.useRef(null),i=dP(),{type:r}=n,s=b0(n,d9),l=Yd(i,"yAxis",r),u=T.useMemo(()=>{if(l!=null)return KO(KO({},s),{},{type:l})},[l,s]);return T.useLayoutEffect(()=>{u!=null&&(e.current===null?t($Y(u)):e.current!==u&&t(GY({prev:e.current,next:u})),e.current=u)},[u,t]),T.useLayoutEffect(()=>()=>{e.current&&(t(VY(e.current)),e.current=null)},[t]),null}function w9(n){var{yAxisId:t,className:e,width:i,label:r}=n,s=T.useRef(null),l=T.useRef(null),u=wt(sP),h=Fn(),f=Ve(),d="yAxis",g=wt(D=>p8(D,t)),m=wt(D=>d8(D,t)),y=wt(D=>fR(D,d,t,h)),A=wt(D=>k2(D,t));if(T.useLayoutEffect(()=>{if(!(i!=="auto"||!g||sA(r)||T.isValidElement(r)||A==null)){var D=s.current;if(D){var R=D.getCalculatedWidth();Math.round(g.width)!==Math.round(R)&&f(YY({id:t,width:R}))}}},[y,g,f,r,t,i,A]),g==null||m==null||A==null)return null;var{dangerouslySetInnerHTML:w,ticks:S,scale:_}=n,C=b0(n,p9),{id:x,scale:O}=A,M=b0(A,g9);return T.createElement(uA,y0({},C,M,{ref:s,labelRef:l,x:m.x,y:m.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:ie("recharts-".concat(d," ").concat(d),e),viewBox:u,ticks:y,axisType:d}))}var S9={allowDataOverflow:$e.allowDataOverflow,allowDecimals:$e.allowDecimals,allowDuplicatedCategory:$e.allowDuplicatedCategory,angle:$e.angle,axisLine:Pr.axisLine,hide:!1,includeHidden:$e.includeHidden,interval:$e.interval,label:!1,minTickGap:$e.minTickGap,mirror:$e.mirror,orientation:$e.orientation,padding:$e.padding,reversed:$e.reversed,scale:$e.scale,tick:$e.tick,tickCount:$e.tickCount,tickLine:Pr.tickLine,tickSize:Pr.tickSize,type:$e.type,width:$e.width,yAxisId:0},_9=n=>{var t=Bn(n,S9);return T.createElement(T.Fragment,null,T.createElement(A9,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),T.createElement(w9,t))},Sk=T.memo(_9,Ak);Sk.displayName="YAxis";var E9=(n,t)=>t,fA=X([E9,me,M2,Ke,DR,Vr,M$,hn],I$),dA=n=>{var t=n.currentTarget.getBoundingClientRect(),e=t.width/n.currentTarget.offsetWidth,i=t.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-t.left)/e),chartY:Math.round((n.clientY-t.top)/i)}},_k=_i("mouseClick"),Ek=Qu();Ek.startListening({actionCreator:_k,effect:(n,t)=>{var e=n.payload,i=fA(t.getState(),dA(e));i?.activeIndex!=null&&t.dispatch(T8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var A0=_i("mouseMove"),xk=Qu(),Jh=null;xk.startListening({actionCreator:A0,effect:(n,t)=>{var e=n.payload;Jh!==null&&cancelAnimationFrame(Jh);var i=dA(e);Jh=requestAnimationFrame(()=>{var r=t.getState(),s=Kb(r,r.tooltip.settings.shared);if(s==="axis"){var l=fA(r,i);l?.activeIndex!=null?t.dispatch(wR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(AR())}Jh=null})}});function x9(n,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":n==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var WO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Ck=zn({name:"rootProps",initialState:WO,reducers:{updateOptions:(n,t)=>{var e;n.accessibilityLayer=t.payload.accessibilityLayer,n.barCategoryGap=t.payload.barCategoryGap,n.barGap=(e=t.payload.barGap)!==null&&e!==void 0?e:WO.barGap,n.barSize=t.payload.barSize,n.maxBarSize=t.payload.maxBarSize,n.stackOffset=t.payload.stackOffset,n.syncId=t.payload.syncId,n.syncMethod=t.payload.syncMethod,n.className=t.payload.className,n.baseValue=t.payload.baseValue,n.reverseStackOrder=t.payload.reverseStackOrder}}}),C9=Ck.reducer,{updateOptions:T9}=Ck.actions,O9=null,M9={updatePolarOptions:(n,t)=>t.payload},Tk=zn({name:"polarOptions",initialState:O9,reducers:M9}),{updatePolarOptions:z7}=Tk.actions,D9=Tk.reducer,Ok=_i("keyDown"),Mk=_i("focus"),pA=Qu();pA.startListening({actionCreator:Ok,effect:(n,t)=>{var e=t.getState(),i=e.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=e.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Wb(r,Jo(e),lc(e),cc(e)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var h=Vr(e);if(s==="Enter"){var f=Jf(e,"axis","hover",String(r.index));t.dispatch(h0({active:!r.active,activeIndex:r.index,activeCoordinate:f}));return}var d=y8(e),g=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,y=u+m*g;if(!(h==null||y>=h.length||y<0)){var A=Jf(e,"axis","hover",String(y));t.dispatch(h0({active:!0,activeIndex:y.toString(),activeCoordinate:A}))}}}}}});pA.startListening({actionCreator:Mk,effect:(n,t)=>{var e=t.getState(),i=e.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=e.tooltip;if(!r.active&&r.index==null){var s="0",l=Jf(e,"axis","hover",String(s));t.dispatch(h0({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var yi=_i("externalEvent"),Dk=Qu(),hy=new Map;Dk.startListening({actionCreator:yi,effect:(n,t)=>{var{handler:e,reactEvent:i}=n.payload;if(e!=null){i.persist();var r=i.type,s=hy.get(r);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),h={activeCoordinate:d$(u),activeDataKey:h$(u),activeIndex:Bu(u),activeLabel:kR(u),activeTooltipIndex:Bu(u),isTooltipActive:p$(u)};e(h,i)}finally{hy.delete(r)}});hy.set(r,l)}}});var P9=X([Zo],n=>n.tooltipItemPayloads),R9=X([P9,(n,t)=>t,(n,t,e)=>e],(n,t,e)=>{if(t!=null){var i=n.find(s=>s.settings.graphicalItemId===e);if(i!=null){var{getPosition:r}=i;if(r!=null)return r(t)}}}),Pk=_i("touchMove"),Rk=Qu();Rk.startListening({actionCreator:Pk,effect:(n,t)=>{var e=n.payload;if(!(e.touches==null||e.touches.length===0)){var i=t.getState(),r=Kb(i,i.tooltip.settings.shared);if(r==="axis"){var s=e.touches[0];if(s==null)return;var l=fA(i,dA({clientX:s.clientX,clientY:s.clientY,currentTarget:e.currentTarget}));l?.activeIndex!=null&&t.dispatch(wR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(r==="item"){var u,h=e.touches[0];if(document.elementFromPoint==null||h==null)return;var f=document.elementFromPoint(h.clientX,h.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(cU),g=(u=f.getAttribute(hU))!==null&&u!==void 0?u:void 0,m=Qo(i).find(w=>w.id===g);if(d==null||m==null||g==null)return;var{dataKey:y}=m,A=R9(i,d,g);t.dispatch(C8({activeDataKey:y,activeIndex:d,activeCoordinate:A,activeGraphicalItemId:g}))}}}});var k9=TD({brush:rX,cartesianAxis:XY,chartData:pG,errorBars:QX,graphicalItems:xY,layout:KF,legend:i4,options:uG,polarAxis:GV,polarOptions:D9,referenceElements:lX,rootProps:C9,tooltip:O8,zIndex:W$}),N9=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return AF({reducer:k9,preloadedState:t,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Ek.middleware,xk.middleware,pA.middleware,Dk.middleware,Rk.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(HD({type:"raf"}))},devTools:{serialize:{replacer:x9},name:"recharts-".concat(e)}})};function L9(n){var{preloadedState:t,children:e,reduxStoreName:i}=n,r=Fn(),s=T.useRef(null);if(r)return e;s.current==null&&(s.current=N9(t,i));var l=X0;return T.createElement(MK,{context:l,store:s.current},e)}function I9(n){var{layout:t,margin:e}=n,i=Ve(),r=Fn();return T.useEffect(()=>{r||(i(VF(t)),i(GF(e)))},[i,r,t,e]),null}var j9=T.memo(I9,cA);function B9(n){var t=Ve();return T.useEffect(()=>{t(T9(n))},[t,n]),null}function ZO(n){var{zIndex:t,isPanorama:e}=n,i=T.useRef(null),r=Ve();return T.useLayoutEffect(()=>(i.current&&r(X$({zIndex:t,element:i.current,isPanorama:e})),()=>{r(K$({zIndex:t,isPanorama:e}))}),[r,t,e]),T.createElement("g",{tabIndex:-1,ref:i})}function QO(n){var{children:t,isPanorama:e}=n,i=wt(B$);if(!i||i.length===0)return t;var r=i.filter(l=>l<0),s=i.filter(l=>l>0);return T.createElement(T.Fragment,null,r.map(l=>T.createElement(ZO,{key:l,zIndex:l,isPanorama:e})),t,s.map(l=>T.createElement(ZO,{key:l,zIndex:l,isPanorama:e})))}var z9=["children"];function F9(n,t){if(n==null)return{};var e,i,r=U9(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function U9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function ad(){return ad=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ad.apply(null,arguments)}var H9={width:"100%",height:"100%",display:"block"},q9=T.forwardRef((n,t)=>{var e=hP(),i=fP(),r=SP();if(!nr(e)||!nr(i))return null;var{children:s,otherAttributes:l,title:u,desc:h}=n,f,d;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=r?0:void 0,typeof l.role=="string"?d=l.role:d=r?"application":void 0),T.createElement($M,ad({},l,{title:u,desc:h,role:d,tabIndex:f,width:e,height:i,style:H9,ref:t}),s)}),$9=n=>{var{children:t}=n,e=wt(kd);if(!e)return null;var{width:i,height:r,y:s,x:l}=e;return T.createElement($M,{width:i,height:r,x:l,y:s},t)},JO=T.forwardRef((n,t)=>{var{children:e}=n,i=F9(n,z9),r=Fn();return r?T.createElement($9,null,T.createElement(QO,{isPanorama:!0},e)):T.createElement(q9,ad({ref:t},i),T.createElement(QO,{isPanorama:!1},e))});function G9(){var n=Ve(),[t,e]=T.useState(null),i=wt(uU);return T.useEffect(()=>{if(t!=null){var r=t.getBoundingClientRect(),s=r.width/t.offsetWidth;Ut(s)&&s!==i&&n(XF(s))}},[t,n,i]),e}function tM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function V9(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(e),!0).forEach(function(i){Y9(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):tM(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Y9(n,t,e){return(t=X9(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function X9(n){var t=K9(n,"string");return typeof t=="symbol"?t:t+""}function K9(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Oa(){return Oa=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Oa.apply(null,arguments)}var W9=()=>(_G(),null);function sd(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=parseFloat(n);if(!Number.isNaN(t))return t}return 0}var Z9=T.forwardRef((n,t)=>{var e,i,r=T.useRef(null),[s,l]=T.useState({containerWidth:sd((e=n.style)===null||e===void 0?void 0:e.width),containerHeight:sd((i=n.style)===null||i===void 0?void 0:i.height)}),u=T.useCallback((f,d)=>{l(g=>{var m=Math.round(f),y=Math.round(d);return g.containerWidth===m&&g.containerHeight===y?g:{containerWidth:m,containerHeight:y}})},[]),h=T.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:d,height:g}=f.getBoundingClientRect();u(d,g);var m=A=>{var w=A[0];if(w!=null){var{width:S,height:_}=w.contentRect;u(S,_)}},y=new ResizeObserver(m);y.observe(f),r.current=y}},[t,u]);return T.useEffect(()=>()=>{var f=r.current;f?.disconnect()},[u]),T.createElement(T.Fragment,null,T.createElement(tc,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",Oa({ref:h},n)))}),Q9=T.forwardRef((n,t)=>{var{width:e,height:i}=n,[r,s]=T.useState({containerWidth:sd(e),containerHeight:sd(i)}),l=T.useCallback((h,f)=>{s(d=>{var g=Math.round(h),m=Math.round(f);return d.containerWidth===g&&d.containerHeight===m?d:{containerWidth:g,containerHeight:m}})},[]),u=T.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:f,height:d}=h.getBoundingClientRect();l(f,d)}},[t,l]);return T.createElement(T.Fragment,null,T.createElement(tc,{width:r.containerWidth,height:r.containerHeight}),T.createElement("div",Oa({ref:u},n)))}),J9=T.forwardRef((n,t)=>{var{width:e,height:i}=n;return T.createElement(T.Fragment,null,T.createElement(tc,{width:e,height:i}),T.createElement("div",Oa({ref:t},n)))}),t7=T.forwardRef((n,t)=>{var{width:e,height:i}=n;return typeof e=="string"||typeof i=="string"?T.createElement(Q9,Oa({},n,{ref:t})):typeof e=="number"&&typeof i=="number"?T.createElement(J9,Oa({},n,{width:e,height:i,ref:t})):T.createElement(T.Fragment,null,T.createElement(tc,{width:e,height:i}),T.createElement("div",Oa({ref:t},n)))});function e7(n){return n?Z9:t7}var n7=T.forwardRef((n,t)=>{var{children:e,className:i,height:r,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:h,onMouseEnter:f,onMouseLeave:d,onMouseMove:g,onMouseUp:m,onTouchEnd:y,onTouchMove:A,onTouchStart:w,style:S,width:_,responsive:C,dispatchTouchEvents:x=!0}=n,O=T.useRef(null),M=Ve(),[D,R]=T.useState(null),[L,z]=T.useState(null),K=G9(),G=eb(),U=G?.width>0?G.width:_,st=G?.height>0?G.height:r,it=T.useCallback(Z=>{K(Z),typeof t=="function"&&t(Z),R(Z),z(Z),Z!=null&&(O.current=Z)},[K,t,R,z]),lt=T.useCallback(Z=>{M(_k(Z)),M(yi({handler:s,reactEvent:Z}))},[M,s]),I=T.useCallback(Z=>{M(A0(Z)),M(yi({handler:f,reactEvent:Z}))},[M,f]),F=T.useCallback(Z=>{M(AR()),M(yi({handler:d,reactEvent:Z}))},[M,d]),et=T.useCallback(Z=>{M(A0(Z)),M(yi({handler:g,reactEvent:Z}))},[M,g]),at=T.useCallback(()=>{M(Mk())},[M]),dt=T.useCallback(Z=>{M(Ok(Z.key))},[M]),k=T.useCallback(Z=>{M(yi({handler:l,reactEvent:Z}))},[M,l]),$=T.useCallback(Z=>{M(yi({handler:u,reactEvent:Z}))},[M,u]),tt=T.useCallback(Z=>{M(yi({handler:h,reactEvent:Z}))},[M,h]),rt=T.useCallback(Z=>{M(yi({handler:m,reactEvent:Z}))},[M,m]),mt=T.useCallback(Z=>{M(yi({handler:w,reactEvent:Z}))},[M,w]),At=T.useCallback(Z=>{x&&M(Pk(Z)),M(yi({handler:A,reactEvent:Z}))},[M,x,A]),ut=T.useCallback(Z=>{M(yi({handler:y,reactEvent:Z}))},[M,y]),ae=e7(C);return T.createElement(FR.Provider,{value:D},T.createElement(JB.Provider,{value:L},T.createElement(ae,{width:U??S?.width,height:st??S?.height,className:ie("recharts-wrapper",i),style:V9({position:"relative",cursor:"default",width:U,height:st},S),onClick:lt,onContextMenu:k,onDoubleClick:$,onFocus:at,onKeyDown:dt,onMouseDown:tt,onMouseEnter:I,onMouseLeave:F,onMouseMove:et,onMouseUp:rt,onTouchEnd:ut,onTouchMove:At,onTouchStart:mt,ref:it},T.createElement(W9,null),e)))}),i7=["width","height","responsive","children","className","style","compact","title","desc"];function r7(n,t){if(n==null)return{};var e,i,r=a7(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function a7(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var s7=T.forwardRef((n,t)=>{var{width:e,height:i,responsive:r,children:s,className:l,style:u,compact:h,title:f,desc:d}=n,g=r7(n,i7),m=tr(g);return h?T.createElement(T.Fragment,null,T.createElement(tc,{width:e,height:i}),T.createElement(JO,{otherAttributes:m,title:f,desc:d},s)):T.createElement(n7,{className:l,style:u,width:e,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},T.createElement(JO,{otherAttributes:m,title:f,desc:d,ref:t},T.createElement(cX,null,s)))});function w0(){return w0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},w0.apply(null,arguments)}var o7={top:5,right:5,bottom:5,left:5},l7={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:o7,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},u7=T.forwardRef(function(t,e){var i,r=Bn(t.categoricalChartProps,l7),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:f}=t,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return T.createElement(L9,{preloadedState:{options:d},reduxStoreName:(i=f.id)!==null&&i!==void 0?i:s},T.createElement(iX,{chartData:f.data}),T.createElement(j9,{layout:r.layout,margin:r.margin}),T.createElement(B9,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),T.createElement(s7,w0({},r,{ref:e})))}),c7=["axis"],h7=T.forwardRef((n,t)=>T.createElement(u7,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:c7,tooltipPayloadSearcher:oG,categoricalChartProps:n,ref:t}));Ro.workerSrc=HB;function f7(){const[n,t]=T.useState(null),[e,i]=T.useState(""),[r,s]=T.useState(!1),[l,u]=T.useState(()=>{const O=localStorage.getItem("studyResults");return O?JSON.parse(O):[]});T.useEffect(()=>{localStorage.setItem("studyResults",JSON.stringify(l))},[l]);const[h,f]=T.useState(null),d=l.length>0?l[l.length-1]:null,g=h!==null?l[h]:d,m=l.length>1?l[l.length-2]:null,y=d&&m?d.score-m.score:null,A=()=>{if(!d||!m)return null;const O=m.feedback.quotedMistakes.map(L=>L.studentQuote),M=d.feedback.quotedMistakes.map(L=>L.studentQuote),D=O.filter(L=>!M.includes(L)),R=M.filter(L=>O.includes(L));return{fixed:D,stillWeak:R}},w=()=>{const O={};return l.forEach(M=>{M.feedback.quotedMistakes?.forEach(D=>{const R=D.studentQuote.toLowerCase();O[R]=(O[R]||0)+1})}),Object.entries(O).filter(([,M])=>M>1)},S=async O=>{const M=await O.arrayBuffer(),D=await DM({data:M}).promise;let R="";for(let L=1;L<=D.numPages;L++){const G=(await(await D.getPage(L)).getTextContent()).items.map(U=>U.str).join(" ");R+=G+`
`}return R},_=O=>{const M=O.quotedMistakes?.length||0,D=O.strengths?.length||0,R=M+D||1;return Math.round(D/R*100)},C=l.map((O,M)=>({attempt:M+1,score:O.score})),x=async()=>{if(!n||!e){alert("Please upload a PDF and select a subject.");return}s(!0);try{const M=new HI(void 0).getGenerativeModel({model:"gemini-2.5-flash-lite"}),D=await S(n),R=`
You are an AI study diagnostician acting like a teacher marking a test.

The subject is ${e}.

You MUST base feedback ONLY on what the student wrote.

Respond ONLY in valid JSON:

{
  "diagnosis": "...",
  "quotedMistakes": [
    { "studentQuote": "...", "issue": "...", "betterAnswer": "..." }
  ],
  "strengths": [
    { "studentQuote": "...", "whyItsGood": "..." }
  ],
  "studyPlan": ["Day 1...", "Day 2...", "Day 3..."]
}

Student work:
${D}
`,K=(await M.generateContent(R)).response.text().replace(/```json/g,"").replace(/```/g,"").trim(),G=JSON.parse(K),U=_(G),st={pdfName:n.name,feedback:G,score:U,timestamp:new Date().toLocaleString()};u(it=>[...it,st])}catch(O){console.error(O),alert("Gemini error  check console")}s(!1)};return gt.jsxs("div",{className:"container",children:[gt.jsx("h1",{children:" Welcome to Study AI diagnostician!"}),gt.jsxs("div",{className:"controls",children:[gt.jsxs("select",{onChange:O=>i(O.target.value),children:[gt.jsx("option",{value:"",children:"Select Subject"}),gt.jsx("option",{children:"Math"}),gt.jsx("option",{children:"Science"}),gt.jsx("option",{children:"Accounting"}),gt.jsx("option",{children:"Programming"})]}),gt.jsx("br",{}),gt.jsx("br",{}),gt.jsx("input",{type:"file",accept:".pdf",onChange:O=>t(O.target.files[0])}),gt.jsx("br",{}),gt.jsx("br",{}),gt.jsx("button",{onClick:x,children:"Generate Feedback"})]}),r&&gt.jsx("p",{className:"loading-text",children:"Analyzing your work..."}),g&&gt.jsxs("div",{className:"result-card",children:[gt.jsxs("h2",{children:[" Score: ",g.score,"%"]}),y!==null&&gt.jsxs("p",{children:[y>0&&` Improved by ${y}%`,y<0&&` Dropped by ${Math.abs(y)}%`,y===0&&" No change since last attempt"]}),gt.jsx("h3",{children:"Diagnosis"}),gt.jsx("p",{children:g.feedback.diagnosis}),gt.jsx("h3",{children:" Mistakes"}),g.feedback.quotedMistakes?.map((O,M)=>gt.jsxs("div",{className:"mistake",children:[gt.jsxs("p",{children:[gt.jsx("strong",{children:"You wrote:"})," ",O.studentQuote,""]}),gt.jsxs("p",{children:[gt.jsx("strong",{children:"Issue:"})," ",O.issue]}),gt.jsxs("p",{children:[gt.jsx("strong",{children:"Better:"})," ",O.betterAnswer]})]},M)),gt.jsx("h3",{children:" Strengths"}),gt.jsx("ul",{children:g.feedback.strengths?.map((O,M)=>gt.jsxs("li",{children:["",O.studentQuote,"  ",O.whyItsGood]},M))}),gt.jsx("h3",{children:" Study Plan"}),gt.jsxs("ul",{children:[g.feedback.studyPlan?.map((O,M)=>gt.jsx("li",{children:O},M)),gt.jsx("h3",{children:" Repeated Mistakes"}),w().map(([O,M],D)=>gt.jsxs("p",{children:['"',O,'"  repeated ',M," times"]},D)),A()&&gt.jsxs(gt.Fragment,{children:[gt.jsx("h3",{children:" Improvement Summary"}),gt.jsx("p",{children:" Fixed:"}),A().fixed.map((O,M)=>gt.jsx("p",{children:O},M)),gt.jsx("p",{children:" Still weak:"}),A().stillWeak.map((O,M)=>gt.jsx("p",{children:O},M))]}),l.length>1&&gt.jsxs(gt.Fragment,{children:[gt.jsx("h3",{children:" Progress Chart"}),gt.jsx("div",{style:{width:"100%",height:300},children:gt.jsx(zU,{children:gt.jsxs(h7,{data:C,children:[gt.jsx(ck,{strokeDasharray:"3 3",stroke:"#333"}),gt.jsx(wk,{dataKey:"attempt",stroke:"#FFD700"}),gt.jsx(Sk,{stroke:"#FFD700"}),gt.jsx(PG,{}),gt.jsx(bk,{type:"monotone",dataKey:"score",stroke:"#FF4500",strokeWidth:3,dot:{r:6,fill:"#FFD700"}})]})})})]})]}),gt.jsxs("div",{className:"upload-history",children:[gt.jsx("h3",{children:"Upload History"}),gt.jsx("ul",{children:l.map((O,M)=>gt.jsxs("li",{onClick:()=>f(M),children:[O.pdfName,"  ",O.timestamp]},M))})]})]})]})}fI.createRoot(document.getElementById("root")).render(gt.jsx(T.StrictMode,{children:gt.jsx(f7,{})}));
